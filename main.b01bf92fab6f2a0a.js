"use strict";(self.webpackChunkmetrics=self.webpackChunkmetrics||[]).push([[179],{7128:(fn,ut,X)=>{X.d(ut,{nm:()=>xr});var f=X(8321),z=(X(8256),X(3692),X(5867),X(5861)),de=X(9681),ie=X(4859),he=X(2090),Ne=X(1877);const ne=new Map,ue={activated:!1,tokenObservers:[]},Oe={initialized:!1,enabled:!1};function tt(ke){return ne.get(ke)||ue}function Be(ke,Me){ne.set(ke,Me)}function pt(){return Oe}class De{constructor(Me,$e,at,It,Bt){if(this.operation=Me,this.retryPolicy=$e,this.getWaitDuration=at,this.lowerBound=It,this.upperBound=Bt,this.pending=null,this.nextErrorWaitInterval=It,It>Bt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Me){var $e=this;return(0,z.Z)(function*(){$e.stop();try{$e.pending=new he.BH,yield function _e(ke){return new Promise(Me=>{setTimeout(Me,ke)})}($e.getNextRun(Me)),$e.pending.resolve(),yield $e.pending.promise,$e.pending=new he.BH,yield $e.operation(),$e.pending.resolve(),yield $e.pending.promise,$e.process(!0).catch(()=>{})}catch(at){$e.retryPolicy(at)?$e.process(!1).catch(()=>{}):$e.stop()}})()}getNextRun(Me){if(Me)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const $e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),$e}}}const Ie=new he.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function st(ke){if(!tt(ke).activated)throw Ie.create("use-before-activation",{appName:ke.name})}function Ye(ke,Me){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,z.Z)(function*({url:ke,body:Me},$e){var at,It;const Bt={"Content-Type":"application/json"},Mn=$e.getImmediate({optional:!0});if(Mn){const Qn=yield Mn.getHeartbeatsHeader();Qn&&(Bt["X-Firebase-Client"]=Qn)}const pr={method:"POST",body:JSON.stringify(Me),headers:Bt};let Zn,jr;try{Zn=yield fetch(ke,pr)}catch(Qn){throw Ie.create("fetch-network-error",{originalErrorMessage:null===(at=Qn)||void 0===at?void 0:at.message})}if(200!==Zn.status)throw Ie.create("fetch-status-error",{httpStatus:Zn.status});try{jr=yield Zn.json()}catch(Qn){throw Ie.create("fetch-parse-error",{originalErrorMessage:null===(It=Qn)||void 0===It?void 0:It.message})}const Vr=jr.ttl.match(/^([\d.]+)(s)$/);if(!Vr||!Vr[2]||isNaN(Number(Vr[1])))throw Ie.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${jr.ttl}`});const vs=1e3*Number(Vr[1]),Gr=Date.now();return{token:jr.token,expireTimeMillis:Gr+vs,issuedAtTimeMillis:Gr}})).apply(this,arguments)}function Ae(ke,Me){const{projectId:$e,appId:at,apiKey:It}=ke.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${$e}/apps/${at}:exchangeDebugToken?key=${It}`,body:{debug_token:Me}}}const Rt="firebase-app-check-store";let bn=null;function nn(){return bn||(bn=new Promise((ke,Me)=>{var $e;try{const at=indexedDB.open("firebase-app-check-database",1);at.onsuccess=It=>{ke(It.target.result)},at.onerror=It=>{var Bt;Me(Ie.create("storage-open",{originalErrorMessage:null===(Bt=It.target.error)||void 0===Bt?void 0:Bt.message}))},at.onupgradeneeded=It=>{0===It.oldVersion&&It.target.result.createObjectStore(Rt,{keyPath:"compositeKey"})}}catch(at){Me(Ie.create("storage-open",{originalErrorMessage:null===($e=at)||void 0===$e?void 0:$e.message}))}}),bn)}function qr(){return(qr=(0,z.Z)(function*(ke,Me){const at=(yield nn()).transaction(Rt,"readwrite"),Bt=at.objectStore(Rt).put({compositeKey:ke,value:Me});return new Promise((Mn,pr)=>{Bt.onsuccess=Zn=>{Mn()},at.onerror=Zn=>{var jr;pr(Ie.create("storage-set",{originalErrorMessage:null===(jr=Zn.target.error)||void 0===jr?void 0:jr.message}))}})})).apply(this,arguments)}const ei=new Ne.Yd("@firebase/app-check");function ar(ke,Me){return(0,he.hl)()?function yn(ke,Me){return function cn(ke,Me){return qr.apply(this,arguments)}(function vr(ke){return`${ke.options.appId}-${ke.name}`}(ke),Me)}(ke,Me).catch($e=>{ei.warn(`Failed to write token to IndexedDB. Error: ${$e}`)}):Promise.resolve()}function Ar(){return pt().enabled}function br(){return fr.apply(this,arguments)}function fr(){return(fr=(0,z.Z)(function*(){const ke=pt();if(ke.enabled&&ke.token)return ke.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const _r={error:"UNKNOWN_ERROR"};function Mr(ke){return he.US.encodeString(JSON.stringify(ke),!1)}function xt(ke){return jt.apply(this,arguments)}function jt(){return(jt=(0,z.Z)(function*(ke,Me=!1){const $e=ke.app;st($e);const at=tt($e);let Bt,It=at.token;if(It&&!Hn(It)&&(Be($e,Object.assign(Object.assign({},at),{token:void 0})),It=void 0),!It){const Zn=yield at.cachedTokenPromise;Zn&&(Hn(Zn)?It=Zn:yield ar($e,void 0))}if(!Me&&It&&Hn(It))return{token:It.token};let pr,Mn=!1;if(Ar()){at.exchangeTokenPromise||(at.exchangeTokenPromise=Ye(Ae($e,yield br()),ke.heartbeatServiceProvider).finally(()=>{at.exchangeTokenPromise=void 0}),Mn=!0);const Zn=yield at.exchangeTokenPromise;return yield ar($e,Zn),Be($e,Object.assign(Object.assign({},at),{token:Zn})),{token:Zn.token}}try{at.exchangeTokenPromise||(at.exchangeTokenPromise=at.provider.getToken().finally(()=>{at.exchangeTokenPromise=void 0}),Mn=!0),It=yield at.exchangeTokenPromise}catch(Zn){"appCheck/throttled"===Zn.code?ei.warn(Zn.message):ei.error(Zn),Bt=Zn}return It?Bt?pr=Hn(It)?{token:It.token,internalError:Bt}:fi(Bt):(pr={token:It.token},Be($e,Object.assign(Object.assign({},at),{token:It})),yield ar($e,It)):pr=fi(Bt),Mn&&Zr($e,pr),pr})).apply(this,arguments)}function pn(ke,Me){const $e=tt(ke),at=$e.tokenObservers.filter(It=>It.next!==Me);0===at.length&&$e.tokenRefresher&&$e.tokenRefresher.isRunning()&&$e.tokenRefresher.stop(),Be(ke,Object.assign(Object.assign({},$e),{tokenObservers:at}))}function ur(ke){const{app:Me}=ke,$e=tt(Me);let at=$e.tokenRefresher;at||(at=function Yn(ke){const{app:Me}=ke;return new De((0,z.Z)(function*(){let at;if(at=tt(Me).token?yield xt(ke,!0):yield xt(ke),at.error)throw at.error;if(at.internalError)throw at.internalError}),()=>!0,()=>{const $e=tt(Me);if($e.token){let at=$e.token.issuedAtTimeMillis+.5*($e.token.expireTimeMillis-$e.token.issuedAtTimeMillis)+3e5;return at=Math.min(at,$e.token.expireTimeMillis-3e5),Math.max(0,at-Date.now())}return 0},3e4,96e4)}(ke),Be(Me,Object.assign(Object.assign({},$e),{tokenRefresher:at}))),!at.isRunning()&&$e.isTokenAutoRefreshEnabled&&at.start()}function Zr(ke,Me){const $e=tt(ke).tokenObservers;for(const at of $e)try{"EXTERNAL"===at.type&&null!=Me.error?at.error(Me.error):at.next(Me)}catch{}}function Hn(ke){return ke.expireTimeMillis-Date.now()>0}function fi(ke){return{token:Mr(_r),error:ke}}class tr{constructor(Me,$e){this.app=Me,this.heartbeatServiceProvider=$e}_delete(){const{tokenObservers:Me}=tt(this.app);for(const $e of Me)pn(this.app,$e.next);return Promise.resolve()}}const zt="app-check-internal";!function gt(){(0,de.Xd)(new ie.wA("app-check",ke=>function ti(ke,Me){return new tr(ke,Me)}(ke.getProvider("app").getImmediate(),ke.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ke,Me,$e)=>{ke.getProvider(zt).initialize()})),(0,de.Xd)(new ie.wA(zt,ke=>function ln(ke){return{getToken:Me=>xt(ke,Me),addTokenListener:Me=>function un(ke,Me,$e,at){const{app:It}=ke,Bt=tt(It),Mn={next:$e,error:at,type:Me};if(Be(It,Object.assign(Object.assign({},Bt),{tokenObservers:[...Bt.tokenObservers,Mn]})),Bt.token&&Hn(Bt.token)){const pr=Bt.token;Promise.resolve().then(()=>{$e({token:pr.token}),ur(ke)}).catch(()=>{})}Bt.cachedTokenPromise.then(()=>ur(ke))}(ke,"INTERNAL",Me),removeTokenListener:Me=>pn(ke.app,Me)}}(ke.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,de.KN)("@firebase/app-check","0.5.15")}();class xr{constructor(){return(0,f.vb)("app-check")}}typeof window<"u"&&window},3692:(fn,ut,X)=>{X.d(ut,{Ot:()=>me,ZF:()=>Vt,hX:()=>tt,z6:()=>z});var f=X(5867),j=X(8256),be=X(8321);class me{constructor(De){return De}}class z{constructor(){return(0,f.C6)()}}const he=new j.OlP("angularfire2._apps"),Ne={provide:me,useFactory:function ie(ce){return ce&&1===ce.length?ce[0]:new me((0,f.Mq)())},deps:[[new j.FiY,he]]},ne={provide:z,deps:[[new j.FiY,he]]};function ue(ce){return(De,_e)=>{const lt=De.runOutsideAngular(()=>ce(_e));return new me(lt)}}let Oe=(()=>{class ce{constructor(_e){(0,f.KN)("angularfire",be.q4.full,"core"),(0,f.KN)("angularfire",be.q4.full,"app"),(0,f.KN)("angular",j.q4F.full,_e.toString())}}return ce.\u0275fac=function(_e){return new(_e||ce)(j.LFG(j.Lbi))},ce.\u0275mod=j.oAB({type:ce}),ce.\u0275inj=j.cJS({providers:[Ne,ne]}),ce})();function tt(ce,...De){return{ngModule:Oe,providers:[{provide:he,useFactory:ue(ce),multi:!0,deps:[j.R0b,j.zs3,be.HU,...De]}]}}const Vt=(0,be.u3)(f.ZF,!0)},7323:(fn,ut,X)=>{X.d(ut,{gx:()=>Oe,dh:()=>tt,v0:()=>Ae,AR:()=>ce,EA:()=>_e});var f=X(8321),j=X(8256),be=X(3692),me=X(5867),z=X(7128),de=X(270),ie=X(9751);function Ne(Et){return new ie.y(function(Ue){return{unsubscribe:(0,de.MX)(Et,Ue.next.bind(Ue),Ue.error.bind(Ue),Ue.complete.bind(Ue))}})}class Oe{constructor(Ue){return Ue}}class tt{constructor(){return(0,f.vb)("auth")}}const pt=new j.OlP("angularfire2.auth-instances");function Vt(Et){return(Ue,Tt)=>{const dt=Ue.runOutsideAngular(()=>Et(Tt));return new Oe(dt)}}const kt={provide:tt,deps:[[new j.FiY,pt]]},Ft={provide:Oe,useFactory:function St(Et,Ue){const Tt=(0,f.JM)("auth",Et,Ue);return Tt&&new Oe(Tt)},deps:[[new j.FiY,pt],be.Ot]};let _t=(()=>{class Et{constructor(){(0,me.KN)("angularfire",f.q4.full,"auth")}}return Et.\u0275fac=function(Tt){return new(Tt||Et)},Et.\u0275mod=j.oAB({type:Et}),Et.\u0275inj=j.cJS({providers:[Ft,kt]}),Et})();function ce(Et,...Ue){return{ngModule:_t,providers:[{provide:pt,useFactory:Vt(Et),multi:!0,deps:[j.R0b,j.zs3,f.HU,be.z6,[new j.FiY,z.nm],...Ue]}]}}const _e=(0,f.u3)(Ne,!0),Ae=(0,f.u3)(de.v0,!0)},3562:(fn,ut,X)=>{X.d(ut,{gg:()=>Ce,ET:()=>kr,hJ:()=>Rr,BS:()=>dn,JU:()=>fr,ad:()=>tr,Cm:()=>en,pl:()=>Ke});var f=X(8321),j=X(8256),be=X(7323),me=X(3692),z=X(5867),de=X(7128),ie=X(3209),he=X(9751),Ne=X(4004),ne={includeMetadataChanges:!1};function st(xe,nt){return void 0===nt&&(nt={}),function lt(xe){return function ue(xe,nt){return void 0===nt&&(nt=ne),new he.y(function(wt){return{unsubscribe:(0,ie.cf)(xe,nt,{next:wt.next.bind(wt),error:wt.error.bind(wt),complete:wt.complete.bind(wt)})}})}(xe,{includeMetadataChanges:!0}).pipe((0,Ne.U)(function(nt){return nt.docs}))}(xe).pipe((0,Ne.U)(function(wt){return wt.map(function(zt){return function Be(xe,nt){void 0===nt&&(nt={});var wt=xe.data();return!xe.exists()||"object"!=typeof wt||null===wt||nt.idField&&(wt[nt.idField]=xe.id),wt}(zt,nt)})}))}class Ce{constructor(nt){return nt}}const Pe="firestore",je=new j.OlP("angularfire2.firestore-instances");function Ae(xe){return(nt,wt)=>{const zt=nt.runOutsideAngular(()=>xe(wt));return new Ce(zt)}}const ot={provide:class Ye{constructor(){return(0,f.vb)(Pe)}},deps:[[new j.FiY,je]]},At={provide:Ce,useFactory:function He(xe,nt){const wt=(0,f.JM)(Pe,xe,nt);return wt&&new Ce(wt)},deps:[[new j.FiY,je],me.Ot]};let Rt=(()=>{class xe{constructor(){(0,z.KN)("angularfire",f.q4.full,"fst")}}return xe.\u0275fac=function(wt){return new(wt||xe)},xe.\u0275mod=j.oAB({type:xe}),xe.\u0275inj=j.cJS({providers:[At,ot]}),xe})();function en(xe,...nt){return{ngModule:Rt,providers:[{provide:je,useFactory:Ae(xe),multi:!0,deps:[j.R0b,j.zs3,f.HU,me.z6,[new j.FiY,be.dh],[new j.FiY,de.nm],...nt]}]}}const dn=(0,f.u3)(st,!0),kr=(0,f.u3)(ie.ET,!0),Rr=(0,f.u3)(ie.hJ,!0),fr=(0,f.u3)(ie.JU,!0),tr=(0,f.u3)(ie.ad,!0),Ke=(0,f.u3)(ie.pl,!0)},8321:(fn,ut,X)=>{X.d(ut,{q4:()=>m,HU:()=>Qo,vb:()=>po,JM:()=>xs,u3:()=>ou});var f=X(8256),j=X(5867),be=X(5861),me=X(9681),z=X(2090),de=X(4859),ie=X(1877),he=X(8766);const Ne="@firebase/installations",ne="0.5.15",Oe=`w:${ne}`,tt="FIS_v2",Ft=new z.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function _t(P){return P instanceof z.ZR&&P.code.includes("request-failed")}function ce({projectId:P}){return`https://firebaseinstallations.googleapis.com/v1/projects/${P}/installations`}function De(P){return{token:P.token,requestStatus:2,expiresIn:Pe(P.expiresIn),creationTime:Date.now()}}function _e(P,N){return lt.apply(this,arguments)}function lt(){return(lt=(0,be.Z)(function*(P,N){const ae=(yield N.json()).error;return Ft.create("request-failed",{requestName:P,serverCode:ae.code,serverMessage:ae.message,serverStatus:ae.status})})).apply(this,arguments)}function Ie({apiKey:P}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P})}function Re(P,{refreshToken:N}){const G=Ie(P);return G.append("Authorization",function Ye(P){return`${tt} ${P}`}(N)),G}function st(P){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,be.Z)(function*(P){const N=yield P();return N.status>=500&&N.status<600?P():N})).apply(this,arguments)}function Pe(P){return Number(P.replace("s","000"))}function Fe(P,N){return je.apply(this,arguments)}function je(){return(je=(0,be.Z)(function*({appConfig:P,heartbeatServiceProvider:N},{fid:G}){const ae=ce(P),Le=Ie(P),Xe=N.getImmediate({optional:!0});if(Xe){const jn=yield Xe.getHeartbeatsHeader();jn&&Le.append("x-firebase-client",jn)}const Ut={method:"POST",headers:Le,body:JSON.stringify({fid:G,authVersion:tt,appId:P.appId,sdkVersion:Oe})},Nn=yield st(()=>fetch(ae,Ut));if(Nn.ok){const jn=yield Nn.json();return{fid:jn.fid||G,registrationStatus:2,refreshToken:jn.refreshToken,authToken:De(jn.authToken)}}throw yield _e("Create Installation",Nn)})).apply(this,arguments)}function He(P){return new Promise(N=>{setTimeout(N,P)})}const ot=/^[cdef][\w-]{21}$/;function Rt(){try{const P=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(P),P[0]=112+P[0]%16;const G=function en(P){return function Ae(P){return btoa(String.fromCharCode(...P)).replace(/\+/g,"-").replace(/\//g,"_")}(P).substr(0,22)}(P);return ot.test(G)?G:""}catch{return""}}function bn(P){return`${P.appName}!${P.appId}`}const nn=new Map;function Wn(P,N){const G=bn(P);Cn(G,N),function cn(P,N){const G=function or(){return!qr&&"BroadcastChannel"in self&&(qr=new BroadcastChannel("[Firebase] FID Change"),qr.onmessage=P=>{Cn(P.data.key,P.data.fid)}),qr}();G&&G.postMessage({key:P,fid:N}),function kr(){0===nn.size&&qr&&(qr.close(),qr=null)}()}(G,N)}function Cn(P,N){const G=nn.get(P);if(G)for(const ae of G)ae(N)}let qr=null;const wr="firebase-installations-store";let Rr=null;function ar(){return Rr||(Rr=(0,he.X3)("firebase-installations-database",1,{upgrade:(P,N)=>{0===N&&P.createObjectStore(wr)}})),Rr}function Gt(P,N){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,be.Z)(function*(P,N){const G=bn(P),Le=(yield ar()).transaction(wr,"readwrite"),Xe=Le.objectStore(wr),Dt=yield Xe.get(G);return yield Xe.put(N,G),yield Le.done,(!Dt||Dt.fid!==N.fid)&&Wn(P,N.fid),N})).apply(this,arguments)}function Ar(P){return br.apply(this,arguments)}function br(){return(br=(0,be.Z)(function*(P){const N=bn(P),ae=(yield ar()).transaction(wr,"readwrite");yield ae.objectStore(wr).delete(N),yield ae.done})).apply(this,arguments)}function fr(P,N){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,be.Z)(function*(P,N){const G=bn(P),Le=(yield ar()).transaction(wr,"readwrite"),Xe=Le.objectStore(wr),Dt=yield Xe.get(G),Ut=N(Dt);return void 0===Ut?yield Xe.delete(G):yield Xe.put(Ut,G),yield Le.done,Ut&&(!Dt||Dt.fid!==Ut.fid)&&Wn(P,Ut.fid),Ut})).apply(this,arguments)}function _r(P){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,be.Z)(function*(P){let N;const G=yield fr(P.appConfig,ae=>{const Le=xt(ae),Xe=jt(P,Le);return N=Xe.registrationPromise,Xe.installationEntry});return""===G.fid?{installationEntry:yield N}:{installationEntry:G,registrationPromise:N}})).apply(this,arguments)}function xt(P){return Hn(P||{fid:Rt(),registrationStatus:0})}function jt(P,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(Ft.create("app-offline"))};const G={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},ae=function un(P,N){return pn.apply(this,arguments)}(P,G);return{installationEntry:G,registrationPromise:ae}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:ur(P)}:{installationEntry:N}}function pn(){return(pn=(0,be.Z)(function*(P,N){try{const G=yield Fe(P,N);return Gt(P.appConfig,G)}catch(G){throw _t(G)&&409===G.customData.serverCode?yield Ar(P.appConfig):yield Gt(P.appConfig,{fid:N.fid,registrationStatus:0}),G}})).apply(this,arguments)}function ur(P){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,be.Z)(function*(P){let N=yield Zr(P.appConfig);for(;1===N.registrationStatus;)yield He(100),N=yield Zr(P.appConfig);if(0===N.registrationStatus){const{installationEntry:G,registrationPromise:ae}=yield _r(P);return ae||G}return N})).apply(this,arguments)}function Zr(P){return fr(P,N=>{if(!N)throw Ft.create("installation-not-found");return Hn(N)})}function Hn(P){return function fi(P){return 1===P.registrationStatus&&P.registrationTime+1e4<Date.now()}(P)?{fid:P.fid,registrationStatus:0}:P}function tr(P,N){return ti.apply(this,arguments)}function ti(){return(ti=(0,be.Z)(function*({appConfig:P,heartbeatServiceProvider:N},G){const ae=ln(P,G),Le=Re(P,G),Xe=N.getImmediate({optional:!0});if(Xe){const jn=yield Xe.getHeartbeatsHeader();jn&&Le.append("x-firebase-client",jn)}const Ut={method:"POST",headers:Le,body:JSON.stringify({installation:{sdkVersion:Oe,appId:P.appId}})},Nn=yield st(()=>fetch(ae,Ut));if(Nn.ok)return De(yield Nn.json());throw yield _e("Generate Auth Token",Nn)})).apply(this,arguments)}function ln(P,{fid:N}){return`${ce(P)}/${N}/authTokens:generate`}function Ri(P){return ai.apply(this,arguments)}function ai(){return(ai=(0,be.Z)(function*(P,N=!1){let G;const ae=yield fr(P.appConfig,Xe=>{if(!Tn(Xe))throw Ft.create("not-registered");const Dt=Xe.authToken;if(!N&&ye(Dt))return Xe;if(1===Dt.requestStatus)return G=Et(P,N),Xe;{if(!navigator.onLine)throw Ft.create("app-offline");const Ut=Te(Xe);return G=dt(P,Ut),Ut}});return G?yield G:ae.authToken})).apply(this,arguments)}function Et(P,N){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,be.Z)(function*(P,N){let G=yield Tt(P.appConfig);for(;1===G.authToken.requestStatus;)yield He(100),G=yield Tt(P.appConfig);const ae=G.authToken;return 0===ae.requestStatus?Ri(P,N):ae})).apply(this,arguments)}function Tt(P){return fr(P,N=>{if(!Tn(N))throw Ft.create("not-registered");return function it(P){return 1===P.requestStatus&&P.requestTime+1e4<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function dt(P,N){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,be.Z)(function*(P,N){try{const G=yield tr(P,N),ae=Object.assign(Object.assign({},N),{authToken:G});return yield Gt(P.appConfig,ae),G}catch(G){if(!_t(G)||401!==G.customData.serverCode&&404!==G.customData.serverCode){const ae=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield Gt(P.appConfig,ae)}else yield Ar(P.appConfig);throw G}})).apply(this,arguments)}function Tn(P){return void 0!==P&&2===P.registrationStatus}function ye(P){return 2===P.requestStatus&&!function pe(P){const N=Date.now();return N<P.creationTime||P.creationTime+P.expiresIn<N+36e5}(P)}function Te(P){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},P),{authToken:N})}function Lt(){return(Lt=(0,be.Z)(function*(P){const N=P,{installationEntry:G,registrationPromise:ae}=yield _r(N);return ae?ae.catch(console.error):Ri(N).catch(console.error),G.fid})).apply(this,arguments)}function Ln(){return(Ln=(0,be.Z)(function*(P,N=!1){const G=P;return yield Fr(G),(yield Ri(G,N)).token})).apply(this,arguments)}function Fr(P){return zn.apply(this,arguments)}function zn(){return(zn=(0,be.Z)(function*(P){const{registrationPromise:N}=yield _r(P);N&&(yield N)})).apply(this,arguments)}function gt(P){return Ft.create("missing-app-config-values",{valueName:P})}const rn="installations",xr=P=>{const N=P.getProvider("app").getImmediate(),G=function zt(P){if(!P||!P.options)throw gt("App Configuration");if(!P.name)throw gt("App Name");const N=["projectId","apiKey","appId"];for(const G of N)if(!P.options[G])throw gt(G);return{appName:P.name,projectId:P.options.projectId,apiKey:P.options.apiKey,appId:P.options.appId}}(N);return{app:N,appConfig:G,heartbeatServiceProvider:(0,me.qX)(N,"heartbeat"),_delete:()=>Promise.resolve()}},Nr=P=>{const N=P.getProvider("app").getImmediate(),G=(0,me.qX)(N,rn).getImmediate();return{getId:()=>function Ke(P){return Lt.apply(this,arguments)}(G),getToken:Le=>function on(P){return Ln.apply(this,arguments)}(G,Le)}};(function Ir(){(0,me.Xd)(new de.wA(rn,xr,"PUBLIC")),(0,me.Xd)(new de.wA("installations-internal",Nr,"PRIVATE"))})(),(0,me.KN)(Ne,ne),(0,me.KN)(Ne,ne,"esm2017");const Lr="@firebase/remote-config",ni=new z.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Gr{constructor(N,G,ae,Le){this.client=N,this.storage=G,this.storageCache=ae,this.logger=Le}isCachedDataFresh(N,G){if(!G)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ae=Date.now()-G,Le=ae<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ae}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${Le}.`),Le}fetch(N){var G=this;return(0,be.Z)(function*(){const[ae,Le]=yield Promise.all([G.storage.getLastSuccessfulFetchTimestampMillis(),G.storage.getLastSuccessfulFetchResponse()]);if(Le&&G.isCachedDataFresh(N.cacheMaxAgeMillis,ae))return Le;N.eTag=Le&&Le.eTag;const Xe=yield G.client.fetch(N),Dt=[G.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Xe.status&&Dt.push(G.storage.setLastSuccessfulFetchResponse(Xe)),yield Promise.all(Dt),Xe})()}}function Qn(P=navigator){return P.languages&&P.languages[0]||P.language}class Ci{constructor(N,G,ae,Le,Xe,Dt){this.firebaseInstallations=N,this.sdkVersion=G,this.namespace=ae,this.projectId=Le,this.apiKey=Xe,this.appId=Dt}fetch(N){var G=this;return(0,be.Z)(function*(){var ae,Le,Xe;const[Dt,Ut]=yield Promise.all([G.firebaseInstallations.getId(),G.firebaseInstallations.getToken()]),jn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${G.projectId}/namespaces/${G.namespace}:fetch?key=${G.apiKey}`,$n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},Dn={sdk_version:G.sdkVersion,app_instance_id:Dt,app_instance_id_token:Ut,app_id:G.appId,language_code:Qn()},ss={method:"POST",headers:$n,body:JSON.stringify(Dn)},Ps=fetch(jn,ss),Ma=new Promise((Pa,Ea)=>{N.signal.addEventListener(()=>{const $a=new Error("The operation was aborted.");$a.name="AbortError",Ea($a)})});let Co;try{yield Promise.race([Ps,Ma]),Co=yield Ps}catch(Pa){let Ea="fetch-client-network";throw"AbortError"===(null===(ae=Pa)||void 0===ae?void 0:ae.name)&&(Ea="fetch-timeout"),ni.create(Ea,{originalErrorMessage:null===(Le=Pa)||void 0===Le?void 0:Le.message})}let Ba=Co.status;const Lo=Co.headers.get("ETag")||void 0;let xa,ha;if(200===Co.status){let Pa;try{Pa=yield Co.json()}catch(Ea){throw ni.create("fetch-client-parse",{originalErrorMessage:null===(Xe=Ea)||void 0===Xe?void 0:Xe.message})}xa=Pa.entries,ha=Pa.state}if("INSTANCE_STATE_UNSPECIFIED"===ha?Ba=500:"NO_CHANGE"===ha?Ba=304:("NO_TEMPLATE"===ha||"EMPTY_CONFIG"===ha)&&(xa={}),304!==Ba&&200!==Ba)throw ni.create("fetch-status",{httpStatus:Ba});return{status:Ba,eTag:Lo,config:xa}})()}}class mi{constructor(N,G){this.client=N,this.storage=G}fetch(N){var G=this;return(0,be.Z)(function*(){const ae=(yield G.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return G.attemptFetch(N,ae)})()}attemptFetch(N,{throttleEndTimeMillis:G,backoffCount:ae}){var Le=this;return(0,be.Z)(function*(){yield function Kr(P,N){return new Promise((G,ae)=>{const Le=Math.max(N-Date.now(),0),Xe=setTimeout(G,Le);P.addEventListener(()=>{clearTimeout(Xe),ae(ni.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,G);try{const Xe=yield Le.client.fetch(N);return yield Le.storage.deleteThrottleMetadata(),Xe}catch(Xe){if(!function _s(P){if(!(P instanceof z.ZR&&P.customData))return!1;const N=Number(P.customData.httpStatus);return 429===N||500===N||503===N||504===N}(Xe))throw Xe;const Dt={throttleEndTimeMillis:Date.now()+(0,z.$s)(ae),backoffCount:ae+1};return yield Le.storage.setThrottleMetadata(Dt),Le.attemptFetch(N,Dt)}})()}}class to{constructor(N,G,ae,Le,Xe){this.app=N,this._client=G,this._storageCache=ae,this._storage=Le,this._logger=Xe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Es(P,N){var G;const ae=P.target.error||void 0;return ni.create(N,{originalErrorMessage:ae&&(null===(G=ae)||void 0===G?void 0:G.message)})}const Oi="app_namespace_store";class zo{constructor(N,G,ae,Le=function ma(){return new Promise((P,N)=>{var G;try{const ae=indexedDB.open("firebase_remote_config",1);ae.onerror=Le=>{N(Es(Le,"storage-open"))},ae.onsuccess=Le=>{P(Le.target.result)},ae.onupgradeneeded=Le=>{0===Le.oldVersion&&Le.target.result.createObjectStore(Oi,{keyPath:"compositeKey"})}}catch(ae){N(ni.create("storage-open",{originalErrorMessage:null===(G=ae)||void 0===G?void 0:G.message}))}})}()){this.appId=N,this.appName=G,this.namespace=ae,this.openDbPromise=Le}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var G=this;return(0,be.Z)(function*(){const ae=yield G.openDbPromise;return new Promise((Le,Xe)=>{var Dt;const Nn=ae.transaction([Oi],"readonly").objectStore(Oi),jn=G.createCompositeKey(N);try{const $n=Nn.get(jn);$n.onerror=Dn=>{Xe(Es(Dn,"storage-get"))},$n.onsuccess=Dn=>{const ss=Dn.target.result;Le(ss?ss.value:void 0)}}catch($n){Xe(ni.create("storage-get",{originalErrorMessage:null===(Dt=$n)||void 0===Dt?void 0:Dt.message}))}})})()}set(N,G){var ae=this;return(0,be.Z)(function*(){const Le=yield ae.openDbPromise;return new Promise((Xe,Dt)=>{var Ut;const jn=Le.transaction([Oi],"readwrite").objectStore(Oi),$n=ae.createCompositeKey(N);try{const Dn=jn.put({compositeKey:$n,value:G});Dn.onerror=ss=>{Dt(Es(ss,"storage-set"))},Dn.onsuccess=()=>{Xe()}}catch(Dn){Dt(ni.create("storage-set",{originalErrorMessage:null===(Ut=Dn)||void 0===Ut?void 0:Ut.message}))}})})()}delete(N){var G=this;return(0,be.Z)(function*(){const ae=yield G.openDbPromise;return new Promise((Le,Xe)=>{var Dt;const Nn=ae.transaction([Oi],"readwrite").objectStore(Oi),jn=G.createCompositeKey(N);try{const $n=Nn.delete(jn);$n.onerror=Dn=>{Xe(Es(Dn,"storage-delete"))},$n.onsuccess=()=>{Le()}}catch($n){Xe(ni.create("storage-delete",{originalErrorMessage:null===(Dt=$n)||void 0===Dt?void 0:Dt.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class no{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,be.Z)(function*(){const G=N.storage.getLastFetchStatus(),ae=N.storage.getLastSuccessfulFetchTimestampMillis(),Le=N.storage.getActiveConfig(),Xe=yield G;Xe&&(N.lastFetchStatus=Xe);const Dt=yield ae;Dt&&(N.lastSuccessfulFetchTimestampMillis=Dt);const Ut=yield Le;Ut&&(N.activeConfig=Ut)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function ks(){return ws.apply(this,arguments)}function ws(){return(ws=(0,be.Z)(function*(){if(!(0,z.hl)())return!1;try{return yield(0,z.eu)()}catch{return!1}})).apply(this,arguments)}!function Da(){(0,me.Xd)(new de.wA("remote-config",function P(N,{instanceIdentifier:G}){const ae=N.getProvider("app").getImmediate(),Le=N.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ni.create("registration-window");if(!(0,z.hl)())throw ni.create("indexed-db-unavailable");const{projectId:Xe,apiKey:Dt,appId:Ut}=ae.options;if(!Xe)throw ni.create("registration-project-id");if(!Dt)throw ni.create("registration-api-key");if(!Ut)throw ni.create("registration-app-id");const Nn=new zo(Ut,ae.name,G=G||"firebase"),jn=new no(Nn),$n=new ie.Yd(Lr);$n.logLevel=ie.in.ERROR;const Dn=new Ci(Le,me.Jn,G,Xe,Dt,Ut),ss=new mi(Dn,Nn),Ps=new Gr(ss,Nn,jn,$n),Ma=new to(ae,Ps,jn,Nn,$n);return function $e(P){const N=(0,z.m9)(P);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(Ma),Ma},"PUBLIC").setMultipleInstances(!0)),(0,me.KN)(Lr,"0.3.14"),(0,me.KN)(Lr,"0.3.14","esm2017")}();const ki="/firebase-messaging-sw.js",Fi="/firebase-cloud-messaging-push-scope",nr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",cs="google.c.a.c_id",qs="google.c.a.c_l",Ks="google.c.a.ts",wo="google.c.a.e";var Ji=(()=>{return(P=Ji||(Ji={})).PUSH_RECEIVED="push-received",P.NOTIFICATION_CLICKED="notification-clicked",Ji;var P})();function zi(P){const N=new Uint8Array(P);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Io(P){const G=(P+"=".repeat((4-P.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ae=atob(G),Le=new Uint8Array(ae.length);for(let Xe=0;Xe<ae.length;++Xe)Le[Xe]=ae.charCodeAt(Xe);return Le}const es="fcm_token_details_db",io="fcm_token_object_Store";function Mo(P){return Is.apply(this,arguments)}function Is(){return Is=(0,be.Z)(function*(P){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Xe=>Xe.name).includes(es))return null;let N=null;return(yield(0,he.X3)(es,5,{upgrade:(ae=(0,be.Z)(function*(Le,Xe,Dt,Ut){var Nn;if(Xe<2||!Le.objectStoreNames.contains(io))return;const jn=Ut.objectStore(io),$n=yield jn.index("fcmSenderId").get(P);if(yield jn.clear(),$n)if(2===Xe){const Dn=$n;if(!Dn.auth||!Dn.p256dh||!Dn.endpoint)return;N={token:Dn.fcmToken,createTime:null!==(Nn=Dn.createTime)&&void 0!==Nn?Nn:Date.now(),subscriptionOptions:{auth:Dn.auth,p256dh:Dn.p256dh,endpoint:Dn.endpoint,swScope:Dn.swScope,vapidKey:"string"==typeof Dn.vapidKey?Dn.vapidKey:zi(Dn.vapidKey)}}}else if(3===Xe){const Dn=$n;N={token:Dn.fcmToken,createTime:Dn.createTime,subscriptionOptions:{auth:zi(Dn.auth),p256dh:zi(Dn.p256dh),endpoint:Dn.endpoint,swScope:Dn.swScope,vapidKey:zi(Dn.vapidKey)}}}else if(4===Xe){const Dn=$n;N={token:Dn.fcmToken,createTime:Dn.createTime,subscriptionOptions:{auth:zi(Dn.auth),p256dh:zi(Dn.p256dh),endpoint:Dn.endpoint,swScope:Dn.swScope,vapidKey:zi(Dn.vapidKey)}}}}),function(Xe,Dt,Ut,Nn){return ae.apply(this,arguments)})})).close(),yield(0,he.Lj)(es),yield(0,he.Lj)("fcm_vapid_details_db"),yield(0,he.Lj)("undefined"),Ds(N)?N:null;var ae}),Is.apply(this,arguments)}function Ds(P){if(!P||!P.subscriptionOptions)return!1;const{subscriptionOptions:N}=P;return"number"==typeof P.createTime&&P.createTime>0&&"string"==typeof P.token&&P.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}const Wi="firebase-messaging-store";let Ys=null;function Ur(){return Ys||(Ys=(0,he.X3)("firebase-messaging-database",1,{upgrade:(P,N)=>{0===N&&P.createObjectStore(Wi)}})),Ys}function Ls(P){return os.apply(this,arguments)}function os(){return(os=(0,be.Z)(function*(P){const N=pi(P),ae=yield(yield Ur()).transaction(Wi).objectStore(Wi).get(N);if(ae)return ae;{const Le=yield Mo(P.appConfig.senderId);if(Le)return yield Sn(P,Le),Le}})).apply(this,arguments)}function Sn(P,N){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,be.Z)(function*(P,N){const G=pi(P),Le=(yield Ur()).transaction(Wi,"readwrite");return yield Le.objectStore(Wi).put(N,G),yield Le.done,N})).apply(this,arguments)}function Zs(P){return ds.apply(this,arguments)}function ds(){return(ds=(0,be.Z)(function*(P){const N=pi(P),ae=(yield Ur()).transaction(Wi,"readwrite");yield ae.objectStore(Wi).delete(N),yield ae.done})).apply(this,arguments)}function pi({appConfig:P}){return P.appId}const Br=new z.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Us(P,N){return ii.apply(this,arguments)}function ii(){return(ii=(0,be.Z)(function*(P,N){var G;const ae=yield oo(P),Le=Mi(N),Xe={method:"POST",headers:ae,body:JSON.stringify(Le)};let Dt;try{Dt=yield(yield fetch(as(P.appConfig),Xe)).json()}catch(Ut){throw Br.create("token-subscribe-failed",{errorInfo:null===(G=Ut)||void 0===G?void 0:G.toString()})}if(Dt.error)throw Br.create("token-subscribe-failed",{errorInfo:Dt.error.message});if(!Dt.token)throw Br.create("token-subscribe-no-token");return Dt.token})).apply(this,arguments)}function Po(P,N){return hs.apply(this,arguments)}function hs(){return(hs=(0,be.Z)(function*(P,N){var G;const ae=yield oo(P),Le=Mi(N.subscriptionOptions),Xe={method:"PATCH",headers:ae,body:JSON.stringify(Le)};let Dt;try{Dt=yield(yield fetch(`${as(P.appConfig)}/${N.token}`,Xe)).json()}catch(Ut){throw Br.create("token-update-failed",{errorInfo:null===(G=Ut)||void 0===G?void 0:G.toString()})}if(Dt.error)throw Br.create("token-update-failed",{errorInfo:Dt.error.message});if(!Dt.token)throw Br.create("token-update-no-token");return Dt.token})).apply(this,arguments)}function yi(P,N){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,be.Z)(function*(P,N){var G;const Le={method:"DELETE",headers:yield oo(P)};try{const Dt=yield(yield fetch(`${as(P.appConfig)}/${N}`,Le)).json();if(Dt.error)throw Br.create("token-unsubscribe-failed",{errorInfo:Dt.error.message})}catch(Xe){throw Br.create("token-unsubscribe-failed",{errorInfo:null===(G=Xe)||void 0===G?void 0:G.toString()})}})).apply(this,arguments)}function as({projectId:P}){return`https://fcmregistrations.googleapis.com/v1/projects/${P}/registrations`}function oo(P){return $t.apply(this,arguments)}function $t(){return($t=(0,be.Z)(function*({appConfig:P,installations:N}){const G=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P.apiKey,"x-goog-firebase-installations-auth":`FIS ${G}`})})).apply(this,arguments)}function Mi({p256dh:P,auth:N,endpoint:G,vapidKey:ae}){const Le={web:{endpoint:G,auth:N,p256dh:P}};return ae!==nr&&(Le.web.applicationPubKey=ae),Le}const ao=6048e5;function uo(P){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,be.Z)(function*(P){const N=yield lo(P.swRegistration,P.vapidKey),G={vapidKey:P.vapidKey,swScope:P.swRegistration.scope,endpoint:N.endpoint,auth:zi(N.getKey("auth")),p256dh:zi(N.getKey("p256dh"))},ae=yield Ls(P.firebaseDependencies);if(ae){if(F(ae.subscriptionOptions,G))return Date.now()>=ae.createTime+ao?na(P,{token:ae.token,createTime:Date.now(),subscriptionOptions:G}):ae.token;try{yield yi(P.firebaseDependencies,ae.token)}catch(Le){console.warn(Le)}return mt(P.firebaseDependencies,G)}return mt(P.firebaseDependencies,G)})).apply(this,arguments)}function ta(P){return bs.apply(this,arguments)}function bs(){return(bs=(0,be.Z)(function*(P){const N=yield Ls(P.firebaseDependencies);N&&(yield yi(P.firebaseDependencies,N.token),yield Zs(P.firebaseDependencies));const G=yield P.swRegistration.pushManager.getSubscription();return!G||G.unsubscribe()})).apply(this,arguments)}function na(P,N){return fs.apply(this,arguments)}function fs(){return(fs=(0,be.Z)(function*(P,N){try{const G=yield Po(P.firebaseDependencies,N),ae=Object.assign(Object.assign({},N),{token:G,createTime:Date.now()});return yield Sn(P.firebaseDependencies,ae),G}catch(G){throw yield ta(P),G}})).apply(this,arguments)}function mt(P,N){return _n.apply(this,arguments)}function _n(){return(_n=(0,be.Z)(function*(P,N){const ae={token:yield Us(P,N),createTime:Date.now(),subscriptionOptions:N};return yield Sn(P,ae),ae.token})).apply(this,arguments)}function lo(P,N){return co.apply(this,arguments)}function co(){return(co=(0,be.Z)(function*(P,N){return(yield P.pushManager.getSubscription())||P.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Io(N)})})).apply(this,arguments)}function F(P,N){return N.vapidKey===P.vapidKey&&N.endpoint===P.endpoint&&N.auth===P.auth&&N.p256dh===P.p256dh}function k(P){const N={from:P.from,collapseKey:P.collapse_key,messageId:P.fcmMessageId};return function x(P,N){if(!N.notification)return;P.notification={};const G=N.notification.title;G&&(P.notification.title=G);const ae=N.notification.body;ae&&(P.notification.body=ae);const Le=N.notification.image;Le&&(P.notification.image=Le)}(N,P),function Y(P,N){!N.data||(P.data=N.data)}(N,P),function Ze(P,N){var G,ae,Le,Xe,Dt;if(!(N.fcmOptions||null!==(G=N.notification)&&void 0!==G&&G.click_action))return;P.fcmOptions={};const Ut=null!==(Le=null===(ae=N.fcmOptions)||void 0===ae?void 0:ae.link)&&void 0!==Le?Le:null===(Xe=N.notification)||void 0===Xe?void 0:Xe.click_action;Ut&&(P.fcmOptions.link=Ut);const Nn=null===(Dt=N.fcmOptions)||void 0===Dt?void 0:Dt.analytics_label;Nn&&(P.fcmOptions.analyticsLabel=Nn)}(N,P),N}function Wt(P){return"object"==typeof P&&!!P&&cs in P}function zr(P,N){const G=[];for(let ae=0;ae<P.length;ae++)G.push(P.charAt(ae)),ae<N.length&&G.push(N.charAt(ae));return G.join("")}function Bs(P){return Br.create("missing-app-config-values",{valueName:P})}zr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),zr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class us{constructor(N,G,ae){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Le=function ts(P){if(!P||!P.options)throw Bs("App Configuration Object");if(!P.name)throw Bs("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:G}=P;for(const ae of N)if(!G[ae])throw Bs(ae);return{appName:P.name,projectId:G.projectId,apiKey:G.apiKey,appId:G.appId,senderId:G.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:Le,installations:G,analyticsProvider:ae}}_delete(){return Promise.resolve()}}function gi(P){return vi.apply(this,arguments)}function vi(){return(vi=(0,be.Z)(function*(P){var N;try{P.swRegistration=yield navigator.serviceWorker.register(ki,{scope:Fi}),P.swRegistration.update().catch(()=>{})}catch(G){throw Br.create("failed-service-worker-registration",{browserErrorMessage:null===(N=G)||void 0===N?void 0:N.message})}})).apply(this,arguments)}function Xs(P,N){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,be.Z)(function*(P,N){if(!N&&!P.swRegistration&&(yield gi(P)),N||!P.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw Br.create("invalid-sw-registration");P.swRegistration=N}})).apply(this,arguments)}function $s(P,N){return ho.apply(this,arguments)}function ho(){return(ho=(0,be.Z)(function*(P,N){N?P.vapidKey=N:P.vapidKey||(P.vapidKey=nr)})).apply(this,arguments)}function ra(){return(ra=(0,be.Z)(function*(P,N){if(!navigator)throw Br.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Br.create("permission-blocked");return yield $s(P,N?.vapidKey),yield Xs(P,N?.serviceWorkerRegistration),uo(P)})).apply(this,arguments)}function ia(P,N,G){return Do.apply(this,arguments)}function Do(){return(Do=(0,be.Z)(function*(P,N,G){const ae=qo(N);(yield P.firebaseDependencies.analyticsProvider.get()).logEvent(ae,{message_id:G[cs],message_name:G[qs],message_time:G[Ks],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function qo(P){switch(P){case Ji.NOTIFICATION_CLICKED:return"notification_open";case Ji.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function $(){return($=(0,be.Z)(function*(P,N){const G=N.data;if(!G.isFirebaseMessaging)return;P.onMessageHandler&&G.messageType===Ji.PUSH_RECEIVED&&("function"==typeof P.onMessageHandler?P.onMessageHandler(k(G)):P.onMessageHandler.next(k(G)));const ae=G.data;Wt(ae)&&"1"===ae[wo]&&(yield ia(P,G.messageType,ae))})).apply(this,arguments)}const R="@firebase/messaging",K="0.9.19",Ee=P=>{const N=new us(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),P.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",G=>function A(P,N){return $.apply(this,arguments)}(N,G)),N},et=P=>{const N=P.getProvider("messaging").getImmediate();return{getToken:ae=>function ba(P,N){return ra.apply(this,arguments)}(N,ae)}};function Yt(){return Er.apply(this,arguments)}function Er(){return(Er=(0,be.Z)(function*(){try{yield(0,z.eu)()}catch{return!1}return typeof window<"u"&&(0,z.hl)()&&(0,z.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ct(){(0,me.Xd)(new de.wA("messaging",Ee,"PUBLIC")),(0,me.Xd)(new de.wA("messaging-internal",et,"PRIVATE")),(0,me.KN)(R,K),(0,me.KN)(R,K,"esm2017")}();const Or="analytics",Li="firebase_id",Ro="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",bt="https://www.googletagmanager.com/gtag/js",U=new ie.Yd("@firebase/analytics");function v(P){return Promise.all(P.map(N=>N.catch(G=>G)))}function w(P,N){const G=document.createElement("script");G.src=`${bt}?l=${P}&id=${N}`,G.async=!0,document.head.appendChild(G)}function B(P,N,G,ae,Le,Xe){return J.apply(this,arguments)}function J(){return(J=(0,be.Z)(function*(P,N,G,ae,Le,Xe){const Dt=ae[Le];try{if(Dt)yield N[Dt];else{const Nn=(yield v(G)).find(jn=>jn.measurementId===Le);Nn&&(yield N[Nn.appId])}}catch(Ut){U.error(Ut)}P("config",Le,Xe)})).apply(this,arguments)}function re(P,N,G,ae,Le){return Z.apply(this,arguments)}function Z(){return(Z=(0,be.Z)(function*(P,N,G,ae,Le){try{let Xe=[];if(Le&&Le.send_to){let Dt=Le.send_to;Array.isArray(Dt)||(Dt=[Dt]);const Ut=yield v(G);for(const Nn of Dt){const jn=Ut.find(Dn=>Dn.measurementId===Nn),$n=jn&&N[jn.appId];if(!$n){Xe=[];break}Xe.push($n)}}0===Xe.length&&(Xe=Object.values(N)),yield Promise.all(Xe),P("event",ae,Le||{})}catch(Xe){U.error(Xe)}})).apply(this,arguments)}function qt(P){const N=window.document.getElementsByTagName("script");for(const G of Object.values(N))if(G.src&&G.src.includes(bt)&&G.src.includes(P))return G;return null}const xn=new z.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Dr=new class kn{constructor(N={},G=1e3){this.throttleMetadata=N,this.intervalMillis=G}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,G){this.throttleMetadata[N]=G}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function Pr(P){return new Headers({Accept:"application/json","x-goog-api-key":P})}function Vi(P){return cr.apply(this,arguments)}function cr(){return(cr=(0,be.Z)(function*(P){var N;const{appId:G,apiKey:ae}=P,Le={method:"GET",headers:Pr(ae)},Xe=Ro.replace("{app-id}",G),Dt=yield fetch(Xe,Le);if(200!==Dt.status&&304!==Dt.status){let Ut="";try{const Nn=yield Dt.json();null!==(N=Nn.error)&&void 0!==N&&N.message&&(Ut=Nn.error.message)}catch{}throw xn.create("config-fetch-failed",{httpStatus:Dt.status,responseMessage:Ut})}return Dt.json()})).apply(this,arguments)}function li(P){return In.apply(this,arguments)}function In(){return(In=(0,be.Z)(function*(P,N=Dr,G){const{appId:ae,apiKey:Le,measurementId:Xe}=P.options;if(!ae)throw xn.create("no-app-id");if(!Le){if(Xe)return{measurementId:Xe,appId:ae};throw xn.create("no-api-key")}const Dt=N.getThrottleMetadata(ae)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ut=new ns;return setTimeout((0,be.Z)(function*(){Ut.abort()}),void 0!==G?G:6e4),_i({appId:ae,apiKey:Le,measurementId:Xe},Dt,Ut,N)})).apply(this,arguments)}function _i(P,N,G){return ci.apply(this,arguments)}function ci(){return(ci=(0,be.Z)(function*(P,{throttleEndTimeMillis:N,backoffCount:G},ae,Le=Dr){var Xe,Dt;const{appId:Ut,measurementId:Nn}=P;try{yield rr(ae,N)}catch(jn){if(Nn)return U.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Nn} provided in the "measurementId" field in the local Firebase config. [${null===(Xe=jn)||void 0===Xe?void 0:Xe.message}]`),{appId:Ut,measurementId:Nn};throw jn}try{const jn=yield Vi(P);return Le.deleteThrottleMetadata(Ut),jn}catch(jn){const $n=jn;if(!gn($n)){if(Le.deleteThrottleMetadata(Ut),Nn)return U.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Nn} provided in the "measurementId" field in the local Firebase config. [${$n?.message}]`),{appId:Ut,measurementId:Nn};throw jn}const Dn=503===Number(null===(Dt=$n?.customData)||void 0===Dt?void 0:Dt.httpStatus)?(0,z.$s)(G,Le.intervalMillis,30):(0,z.$s)(G,Le.intervalMillis),ss={throttleEndTimeMillis:Date.now()+Dn,backoffCount:G+1};return Le.setThrottleMetadata(Ut,ss),U.debug(`Calling attemptFetch again in ${Dn} millis`),_i(P,ss,ae,Le)}})).apply(this,arguments)}function rr(P,N){return new Promise((G,ae)=>{const Le=Math.max(N-Date.now(),0),Xe=setTimeout(G,Le);P.addEventListener(()=>{clearTimeout(Xe),ae(xn.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}function gn(P){if(!(P instanceof z.ZR&&P.customData))return!1;const N=Number(P.customData.httpStatus);return 429===N||500===N||503===N||504===N}class ns{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}let ir,Ei;function er(){return(er=(0,be.Z)(function*(P,N,G,ae,Le){if(Le&&Le.global)P("event",G,ae);else{const Xe=yield N;P("event",G,Object.assign(Object.assign({},ae),{send_to:Xe}))}})).apply(this,arguments)}function Js(P){Ei=P}function sr(P){ir=P}function ka(){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,be.Z)(function*(){var P;if(!(0,z.hl)())return U.warn(xn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,z.eu)()}catch(N){return U.warn(xn.create("indexeddb-unavailable",{errorInfo:null===(P=N)||void 0===P?void 0:P.toString()}).message),!1}return!0})).apply(this,arguments)}function Ki(){return(Ki=(0,be.Z)(function*(P,N,G,ae,Le,Xe,Dt){var Ut;const Nn=li(P);Nn.then(Ps=>{G[Ps.measurementId]=Ps.appId,P.options.measurementId&&Ps.measurementId!==P.options.measurementId&&U.warn(`The measurement ID in the local Firebase config (${P.options.measurementId}) does not match the measurement ID fetched from the server (${Ps.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ps=>U.error(Ps)),N.push(Nn);const jn=ka().then(Ps=>{if(Ps)return ae.getId()}),[$n,Dn]=yield Promise.all([Nn,jn]);qt(Xe)||w(Xe,$n.measurementId),Ei&&(Le("consent","default",Ei),Js(void 0)),Le("js",new Date);const ss=null!==(Ut=Dt?.config)&&void 0!==Ut?Ut:{};return ss.origin="firebase",ss.update=!0,null!=Dn&&(ss[Li]=Dn),Le("config",$n.measurementId,ss),ir&&(Le("set",ir),sr(void 0)),$n.measurementId})).apply(this,arguments)}class Tr{constructor(N){this.app=N}_delete(){return delete We[this.app.options.appId],Promise.resolve()}}let We={},Ts=[];const Ss={};let Yo,Hs,sa="dataLayer",Oo=!1;function ko(P,N,G){!function aa(){const P=[];if((0,z.ru)()&&P.push("This is a browser extension environment."),(0,z.zI)()||P.push("Cookies are not available."),P.length>0){const N=P.map((ae,Le)=>`(${Le+1}) ${ae}`).join(" "),G=xn.create("invalid-analytics-context",{errorInfo:N});U.warn(G.message)}}();const ae=P.options.appId;if(!ae)throw xn.create("no-app-id");if(!P.options.apiKey){if(!P.options.measurementId)throw xn.create("no-api-key");U.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${P.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=We[ae])throw xn.create("already-exists",{id:ae});if(!Oo){!function M(P){let N=[];Array.isArray(window[P])?N=window[P]:window[P]=N}(sa);const{wrappedGtag:Xe,gtagCore:Dt}=function rt(P,N,G,ae,Le){let Xe=function(...Dt){window[ae].push(arguments)};return window[Le]&&"function"==typeof window[Le]&&(Xe=window[Le]),window[Le]=function fe(P,N,G,ae){function Xe(){return(Xe=(0,be.Z)(function*(Dt,Ut,Nn){try{"event"===Dt?yield re(P,N,G,Ut,Nn):"config"===Dt?yield B(P,N,G,ae,Ut,Nn):"consent"===Dt?P("consent","update",Nn):P("set",Ut)}catch(jn){U.error(jn)}})).apply(this,arguments)}return function Le(Dt,Ut,Nn){return Xe.apply(this,arguments)}}(Xe,P,N,G),{gtagCore:Xe,wrappedGtag:window[Le]}}(We,Ts,Ss,sa,"gtag");Hs=Xe,Yo=Dt,Oo=!0}return We[ae]=function Si(P,N,G,ae,Le,Xe,Dt){return Ki.apply(this,arguments)}(P,Ts,Ss,N,Yo,sa,G),new Tr(P)}function Ca(){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,be.Z)(function*(){if((0,z.ru)()||!(0,z.zI)()||!(0,z.hl)())return!1;try{return yield(0,z.eu)()}catch{return!1}})).apply(this,arguments)}const Ms="@firebase/analytics";!function si(){(0,me.Xd)(new de.wA(Or,(N,{options:G})=>ko(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),G),"PUBLIC")),(0,me.Xd)(new de.wA("analytics-internal",function P(N){try{const G=N.getProvider(Or).getImmediate();return{logEvent:(ae,Le,Xe)=>function La(P,N,G,ae){P=(0,z.m9)(P),function No(P,N,G,ae,Le){return er.apply(this,arguments)}(Hs,We[P.app.options.appId],N,G,ae).catch(Le=>U.error(Le))}(G,ae,Le,Xe)}}catch(G){throw xn.create("interop-component-reg-failed",{reason:G})}},"PRIVATE")),(0,me.KN)(Ms,"0.8.3"),(0,me.KN)(Ms,"0.8.3","esm2017")}();var oc=X(727);class ua extends oc.w0{constructor(N,G){super()}schedule(N,G=0){return this}}const Fn={setInterval(P,N,...G){const{delegate:ae}=Fn;return ae?.setInterval?ae.setInterval(P,N,...G):setInterval(P,N,...G)},clearInterval(P){const{delegate:N}=Fn;return(N?.clearInterval||clearInterval)(P)},delegate:void 0};var Fo=X(8737);class la extends ua{constructor(N,G){super(N,G),this.scheduler=N,this.work=G,this.pending=!1}schedule(N,G=0){var ae;if(this.closed)return this;this.state=N;const Le=this.id,Xe=this.scheduler;return null!=Le&&(this.id=this.recycleAsyncId(Xe,Le,G)),this.pending=!0,this.delay=G,this.id=null!==(ae=this.id)&&void 0!==ae?ae:this.requestAsyncId(Xe,this.id,G),this}requestAsyncId(N,G,ae=0){return Fn.setInterval(N.flush.bind(N,this),ae)}recycleAsyncId(N,G,ae=0){if(null!=ae&&this.delay===ae&&!1===this.pending)return G;null!=G&&Fn.clearInterval(G)}execute(N,G){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ae=this._execute(N,G);if(ae)return ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(N,G){let Le,ae=!1;try{this.work(N)}catch(Xe){ae=!0,Le=Xe||new Error("Scheduled action threw falsy error")}if(ae)return this.unsubscribe(),Le}unsubscribe(){if(!this.closed){const{id:N,scheduler:G}=this,{actions:ae}=G;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Fo.P)(ae,this),null!=N&&(this.id=this.recycleAsyncId(G,N,null)),this.delay=null,super.unsubscribe()}}}const Va={now:()=>(Va.delegate||Date).now(),delegate:void 0};class wi{constructor(N,G=wi.now){this.schedulerActionCtor=N,this.now=G}schedule(N,G=0,ae){return new this.schedulerActionCtor(this,N).schedule(ae,G)}}wi.now=Va.now;class rs extends wi{constructor(N,G=wi.now){super(N,G),this.actions=[],this._active=!1}flush(N){const{actions:G}=this;if(this._active)return void G.push(N);let ae;this._active=!0;do{if(ae=N.execute(N.state,N.delay))break}while(N=G.shift());if(this._active=!1,ae){for(;N=G.shift();)N.unsubscribe();throw ae}}}const ca=new class Sa extends rs{}(class su extends la{constructor(N,G){super(N,G),this.scheduler=N,this.work=G}schedule(N,G=0){return G>0?super.schedule(N,G):(this.delay=G,this.state=N,this.scheduler.flush(this),this)}execute(N,G){return G>0||this.closed?super.execute(N,G):this._execute(N,G)}requestAsyncId(N,G,ae=0){return null!=ae&&ae>0||null==ae&&this.delay>0?super.requestAsyncId(N,G,ae):(N.flush(this),0)}}),bo=new rs(la);var ya=X(9751),va=X(8505),_=X(9468),E=X(5363);const m=new f.GfV("7.4.1"),T="__angularfire_symbol__analyticsIsSupportedValue",O="__angularfire_symbol__analyticsIsSupported",W="__angularfire_symbol__remoteConfigIsSupportedValue",le="__angularfire_symbol__remoteConfigIsSupported",ge="__angularfire_symbol__messagingIsSupportedValue",Je="__angularfire_symbol__messagingIsSupported";function xs(P,N,G){if(N){if(1===N.length)return N[0];const Xe=N.filter(Dt=>Dt.app===G);if(1===Xe.length)return Xe[0]}return G.container.getProvider(P).getImmediate({optional:!0})}globalThis[O]||(globalThis[O]=Ca().then(P=>globalThis[T]=P).catch(()=>globalThis[T]=!1)),globalThis[Je]||(globalThis[Je]=Yt().then(P=>globalThis[ge]=P).catch(()=>globalThis[ge]=!1)),globalThis[le]||(globalThis[le]=ks().then(P=>globalThis[W]=P).catch(()=>globalThis[W]=!1));const po=(P,N)=>{const G=N?[N]:(0,j.C6)(),ae=[];return G.forEach(Le=>{Le.container.getProvider(P).instances.forEach(Dt=>{ae.includes(Dt)||ae.push(Dt)})}),ae};function eo(){}class is{constructor(N,G=ca){this.zone=N,this.delegate=G}now(){return this.delegate.now()}schedule(N,G,ae){const Le=this.zone;return this.delegate.schedule(function(Dt){Le.runGuarded(()=>{N.apply(this,[Dt])})},G,ae)}}class Zi{constructor(N){this.zone=N,this.task=null}call(N,G){const ae=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",eo,{},eo,eo)),G.pipe((0,va.b)({next:ae,complete:ae,error:ae})).subscribe(N).add(ae)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Qo=(()=>{class P{constructor(G){this.ngZone=G,this.outsideAngular=G.runOutsideAngular(()=>new is(Zone.current)),this.insideAngular=G.run(()=>new is(Zone.current,bo)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return P.\u0275fac=function(G){return new(G||P)(f.LFG(f.R0b))},P.\u0275prov=f.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function Sr(){const P=globalThis.\u0275AngularFireScheduler;if(!P)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return P}function nd(P){return Sr().ngZone.runOutsideAngular(()=>P())}function Aa(P){return Sr().ngZone.run(()=>P())}function da(P){return Sr(),function Za(P){return function(G){return(G=G.lift(new Zi(P.ngZone))).pipe((0,_.R)(P.outsideAngular),(0,E.Q)(P.insideAngular))}}(Sr())(P)}const Bi=(P,N)=>function(){const ae=arguments;return N&&setTimeout(()=>{"scheduled"===N.state&&N.invoke()},10),Aa(()=>P.apply(void 0,ae))},ou=(P,N)=>function(){let G;const ae=arguments;for(let Xe=0;Xe<arguments.length;Xe++)"function"==typeof ae[Xe]&&(N&&(G||(G=Aa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",eo,{},eo,eo)))),ae[Xe]=Bi(ae[Xe],G));const Le=nd(()=>P.apply(this,ae));if(!N){if(Le instanceof ya.y){const Xe=Sr();return Le.pipe((0,_.R)(Xe.outsideAngular),(0,E.Q)(Xe.insideAngular))}return Aa(()=>Le)}return Le instanceof ya.y?Le.pipe(da):Le instanceof Promise?Aa(()=>new Promise((Xe,Dt)=>Le.then(Ut=>Aa(()=>Xe(Ut)),Ut=>Aa(()=>Dt(Ut))))):"function"==typeof Le&&G?function(){return setTimeout(()=>{G&&"scheduled"===G.state&&G.invoke()},10),Le.apply(this,arguments)}:Aa(()=>Le)}},2090:(fn,ut,X)=>{X.d(ut,{$s:()=>Tt,BH:()=>At,L:()=>he,LL:()=>nn,P0:()=>He,Pz:()=>ot,Sg:()=>Rt,US:()=>de,ZR:()=>bn,aH:()=>Ae,b$:()=>kt,eu:()=>Ie,hl:()=>lt,m9:()=>Tn,ne:()=>Mr,pd:()=>Hi,q4:()=>je,ru:()=>Vt,tV:()=>Ne,uI:()=>Be,vZ:()=>Gt,w1:()=>_t,xO:()=>br,xb:()=>Rr,z$:()=>tt,zI:()=>Re,zd:()=>fr});const me=function(ye){const pe=[];let Te=0;for(let it=0;it<ye.length;it++){let Ke=ye.charCodeAt(it);Ke<128?pe[Te++]=Ke:Ke<2048?(pe[Te++]=Ke>>6|192,pe[Te++]=63&Ke|128):55296==(64512&Ke)&&it+1<ye.length&&56320==(64512&ye.charCodeAt(it+1))?(Ke=65536+((1023&Ke)<<10)+(1023&ye.charCodeAt(++it)),pe[Te++]=Ke>>18|240,pe[Te++]=Ke>>12&63|128,pe[Te++]=Ke>>6&63|128,pe[Te++]=63&Ke|128):(pe[Te++]=Ke>>12|224,pe[Te++]=Ke>>6&63|128,pe[Te++]=63&Ke|128)}return pe},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ye,pe){if(!Array.isArray(ye))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Te=pe?this.byteToCharMapWebSafe_:this.byteToCharMap_,it=[];for(let Ke=0;Ke<ye.length;Ke+=3){const Lt=ye[Ke],on=Ke+1<ye.length,Ln=on?ye[Ke+1]:0,Fr=Ke+2<ye.length,zn=Fr?ye[Ke+2]:0;let se=(15&Ln)<<2|zn>>6,Ge=63&zn;Fr||(Ge=64,on||(se=64)),it.push(Te[Lt>>2],Te[(3&Lt)<<4|Ln>>4],Te[se],Te[Ge])}return it.join("")},encodeString(ye,pe){return this.HAS_NATIVE_SUPPORT&&!pe?btoa(ye):this.encodeByteArray(me(ye),pe)},decodeString(ye,pe){return this.HAS_NATIVE_SUPPORT&&!pe?atob(ye):function(ye){const pe=[];let Te=0,it=0;for(;Te<ye.length;){const Ke=ye[Te++];if(Ke<128)pe[it++]=String.fromCharCode(Ke);else if(Ke>191&&Ke<224){const Lt=ye[Te++];pe[it++]=String.fromCharCode((31&Ke)<<6|63&Lt)}else if(Ke>239&&Ke<365){const Fr=((7&Ke)<<18|(63&ye[Te++])<<12|(63&ye[Te++])<<6|63&ye[Te++])-65536;pe[it++]=String.fromCharCode(55296+(Fr>>10)),pe[it++]=String.fromCharCode(56320+(1023&Fr))}else{const Lt=ye[Te++],on=ye[Te++];pe[it++]=String.fromCharCode((15&Ke)<<12|(63&Lt)<<6|63&on)}}return pe.join("")}(this.decodeStringToByteArray(ye,pe))},decodeStringToByteArray(ye,pe){this.init_();const Te=pe?this.charToByteMapWebSafe_:this.charToByteMap_,it=[];for(let Ke=0;Ke<ye.length;){const Lt=Te[ye.charAt(Ke++)],Ln=Ke<ye.length?Te[ye.charAt(Ke)]:0;++Ke;const zn=Ke<ye.length?Te[ye.charAt(Ke)]:64;++Ke;const ve=Ke<ye.length?Te[ye.charAt(Ke)]:64;if(++Ke,null==Lt||null==Ln||null==zn||null==ve)throw Error();it.push(Lt<<2|Ln>>4),64!==zn&&(it.push(Ln<<4&240|zn>>2),64!==ve&&it.push(zn<<6&192|ve))}return it},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ye=0;ye<this.ENCODED_VALS.length;ye++)this.byteToCharMap_[ye]=this.ENCODED_VALS.charAt(ye),this.charToByteMap_[this.byteToCharMap_[ye]]=ye,this.byteToCharMapWebSafe_[ye]=this.ENCODED_VALS_WEBSAFE.charAt(ye),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ye]]=ye,ye>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ye)]=ye,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ye)]=ye)}}},he=function(ye){return function(ye){const pe=me(ye);return de.encodeByteArray(pe,!0)}(ye).replace(/\./g,"")},Ne=function(ye){try{return de.decodeString(ye,!0)}catch(pe){console.error("base64Decode failed: ",pe)}return null};function tt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Be(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tt())}function Vt(){const ye="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ye&&void 0!==ye.id}function kt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _t(){const ye=tt();return ye.indexOf("MSIE ")>=0||ye.indexOf("Trident/")>=0}function lt(){return"object"==typeof indexedDB}function Ie(){return new Promise((ye,pe)=>{try{let Te=!0;const it="validate-browser-context-for-indexeddb-analytics-module",Ke=self.indexedDB.open(it);Ke.onsuccess=()=>{Ke.result.close(),Te||self.indexedDB.deleteDatabase(it),ye(!0)},Ke.onupgradeneeded=()=>{Te=!1},Ke.onerror=()=>{var Lt;pe((null===(Lt=Ke.error)||void 0===Lt?void 0:Lt.message)||"")}}catch(Te){pe(Te)}})}function Re(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Fe=()=>{try{return function st(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ye=process.env.__FIREBASE_DEFAULTS__;return ye?JSON.parse(ye):void 0})()||(()=>{if(typeof document>"u")return;let ye;try{ye=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const pe=ye&&Ne(ye[1]);return pe&&JSON.parse(pe)})()}catch(ye){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ye}`)}},je=ye=>{var pe,Te;return null===(Te=null===(pe=Fe())||void 0===pe?void 0:pe.emulatorHosts)||void 0===Te?void 0:Te[ye]},He=ye=>{const pe=je(ye);if(!pe)return;const Te=pe.lastIndexOf(":");if(Te<=0||Te+1===pe.length)throw new Error(`Invalid host ${pe} with no separate hostname and port!`);const it=parseInt(pe.substring(Te+1),10);return"["===pe[0]?[pe.substring(1,Te-1),it]:[pe.substring(0,Te),it]},Ae=()=>{var ye;return null===(ye=Fe())||void 0===ye?void 0:ye.config},ot=ye=>{var pe;return null===(pe=Fe())||void 0===pe?void 0:pe[`_${ye}`]};class At{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((pe,Te)=>{this.resolve=pe,this.reject=Te})}wrapCallback(pe){return(Te,it)=>{Te?this.reject(Te):this.resolve(it),"function"==typeof pe&&(this.promise.catch(()=>{}),1===pe.length?pe(Te):pe(Te,it))}}}function Rt(ye,pe){if(ye.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const it=pe||"demo-project",Ke=ye.iat||0,Lt=ye.sub||ye.user_id;if(!Lt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const on=Object.assign({iss:`https://securetoken.google.com/${it}`,aud:it,iat:Ke,exp:Ke+3600,auth_time:Ke,sub:Lt,user_id:Lt,firebase:{sign_in_provider:"custom",identities:{}}},ye);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(on)),""].join(".")}class bn extends Error{constructor(pe,Te,it){super(Te),this.code=pe,this.customData=it,this.name="FirebaseError",Object.setPrototypeOf(this,bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nn.prototype.create)}}class nn{constructor(pe,Te,it){this.service=pe,this.serviceName=Te,this.errors=it}create(pe,...Te){const it=Te[0]||{},Ke=`${this.service}/${pe}`,Lt=this.errors[pe],on=Lt?function Wn(ye,pe){return ye.replace(yn,(Te,it)=>{const Ke=pe[it];return null!=Ke?String(Ke):`<${it}?>`})}(Lt,it):"Error";return new bn(Ke,`${this.serviceName}: ${on} (${Ke}).`,it)}}const yn=/\{\$([^}]+)}/g;function Rr(ye){for(const pe in ye)if(Object.prototype.hasOwnProperty.call(ye,pe))return!1;return!0}function Gt(ye,pe){if(ye===pe)return!0;const Te=Object.keys(ye),it=Object.keys(pe);for(const Ke of Te){if(!it.includes(Ke))return!1;const Lt=ye[Ke],on=pe[Ke];if(Kn(Lt)&&Kn(on)){if(!Gt(Lt,on))return!1}else if(Lt!==on)return!1}for(const Ke of it)if(!Te.includes(Ke))return!1;return!0}function Kn(ye){return null!==ye&&"object"==typeof ye}function br(ye){const pe=[];for(const[Te,it]of Object.entries(ye))Array.isArray(it)?it.forEach(Ke=>{pe.push(encodeURIComponent(Te)+"="+encodeURIComponent(Ke))}):pe.push(encodeURIComponent(Te)+"="+encodeURIComponent(it));return pe.length?"&"+pe.join("&"):""}function fr(ye){const pe={};return ye.replace(/^\?/,"").split("&").forEach(it=>{if(it){const[Ke,Lt]=it.split("=");pe[decodeURIComponent(Ke)]=decodeURIComponent(Lt)}}),pe}function Hi(ye){const pe=ye.indexOf("?");if(!pe)return"";const Te=ye.indexOf("#",pe);return ye.substring(pe,Te>0?Te:void 0)}function Mr(ye,pe){const Te=new xt(ye,pe);return Te.subscribe.bind(Te)}class xt{constructor(pe,Te){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Te,this.task.then(()=>{pe(this)}).catch(it=>{this.error(it)})}next(pe){this.forEachObserver(Te=>{Te.next(pe)})}error(pe){this.forEachObserver(Te=>{Te.error(pe)}),this.close(pe)}complete(){this.forEachObserver(pe=>{pe.complete()}),this.close()}subscribe(pe,Te,it){let Ke;if(void 0===pe&&void 0===Te&&void 0===it)throw new Error("Missing Observer.");Ke=function un(ye,pe){if("object"!=typeof ye||null===ye)return!1;for(const Te of pe)if(Te in ye&&"function"==typeof ye[Te])return!0;return!1}(pe,["next","error","complete"])?pe:{next:pe,error:Te,complete:it},void 0===Ke.next&&(Ke.next=pn),void 0===Ke.error&&(Ke.error=pn),void 0===Ke.complete&&(Ke.complete=pn);const Lt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ke.error(this.finalError):Ke.complete()}catch{}}),this.observers.push(Ke),Lt}unsubscribeOne(pe){void 0===this.observers||void 0===this.observers[pe]||(delete this.observers[pe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(pe){if(!this.finalized)for(let Te=0;Te<this.observers.length;Te++)this.sendOne(Te,pe)}sendOne(pe,Te){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[pe])try{Te(this.observers[pe])}catch(it){typeof console<"u"&&console.error&&console.error(it)}})}close(pe){this.finalized||(this.finalized=!0,void 0!==pe&&(this.finalError=pe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pn(){}function Tt(ye,pe=1e3,Te=2){const it=pe*Math.pow(Te,ye),Ke=Math.round(.5*it*(Math.random()-.5)*2);return Math.min(144e5,it+Ke)}function Tn(ye){return ye&&ye._delegate?ye._delegate:ye}},6009:(fn,ut,X)=>{var f=X(1481),j=X(8256),be=X(3692),me=X(7323),z=X(3562),de=X(433),ie=X(7340);function Ne(U){return new j.vHH(3e3,!1)}function qr(){return typeof window<"u"&&typeof window.document<"u"}function or(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function kr(U){switch(U.length){case 0:return new ie.ZN;case 1:return U[0];default:return new ie.ZE(U)}}function vr(U,v,w,M,B=new Map,J=new Map){const re=[],Z=[];let fe=-1,rt=null;if(M.forEach(qt=>{const an=qt.get("offset"),xn=an==fe,Jn=xn&&rt||new Map;qt.forEach((En,kn)=>{let Dr=kn,Pr=En;if("offset"!==kn)switch(Dr=v.normalizePropertyName(Dr,re),Pr){case ie.k1:Pr=B.get(kn);break;case ie.l3:Pr=J.get(kn);break;default:Pr=v.normalizeStyleValue(kn,Dr,Pr,re)}Jn.set(Dr,Pr)}),xn||Z.push(Jn),rt=Jn,fe=an}),re.length)throw function He(U){return new j.vHH(3502,!1)}();return Z}function ei(U,v,w,M){switch(v){case"start":U.onStart(()=>M(w&&wr(w,"start",U)));break;case"done":U.onDone(()=>M(w&&wr(w,"done",U)));break;case"destroy":U.onDestroy(()=>M(w&&wr(w,"destroy",U)))}}function wr(U,v,w){const J=Rr(U.element,U.triggerName,U.fromState,U.toState,v||U.phaseName,w.totalTime??U.totalTime,!!w.disabled),re=U._data;return null!=re&&(J._data=re),J}function Rr(U,v,w,M,B="",J=0,re){return{element:U,triggerName:v,fromState:w,toState:M,phaseName:B,totalTime:J,disabled:!!re}}function ar(U,v,w){let M=U.get(v);return M||U.set(v,M=w),M}function Gt(U){const v=U.indexOf(":");return[U.substring(1,v),U.slice(v+1)]}let Kn=(U,v)=>!1,Ar=(U,v,w)=>[],br=null;function fr(U){const v=U.parentNode||U.host;return v===br?null:v}(or()||typeof Element<"u")&&(qr()?(br=(()=>document.documentElement)(),Kn=(U,v)=>{for(;v;){if(v===U)return!0;v=fr(v)}return!1}):Kn=(U,v)=>U.contains(v),Ar=(U,v,w)=>{if(w)return Array.from(U.querySelectorAll(v));const M=U.querySelector(v);return M?[M]:[]});let Mr=null,xt=!1;const ur=Kn,Yn=Ar;let Hn=(()=>{class U{validateStyleProperty(w){return function jt(U){Mr||(Mr=function pn(){return typeof document<"u"?document.body:null}()||{},xt=!!Mr.style&&"WebkitAppearance"in Mr.style);let v=!0;return Mr.style&&!function _r(U){return"ebkit"==U.substring(1,6)}(U)&&(v=U in Mr.style,!v&&xt&&(v="Webkit"+U.charAt(0).toUpperCase()+U.slice(1)in Mr.style)),v}(w)}matchesElement(w,M){return!1}containsElement(w,M){return ur(w,M)}getParentElement(w){return fr(w)}query(w,M,B){return Yn(w,M,B)}computeStyle(w,M,B){return B||""}animate(w,M,B,J,re,Z=[],fe){return new ie.ZN(B,J)}}return U.\u0275fac=function(w){return new(w||U)},U.\u0275prov=j.Yz7({token:U,factory:U.\u0275fac}),U})(),fi=(()=>{class U{}return U.NOOP=new Hn,U})();const Ri="ng-enter",ai="ng-leave",Et="ng-trigger",Ue=".ng-trigger",Tt="ng-animating",dt=".ng-animating";function Mt(U){if("number"==typeof U)return U;const v=U.match(/^(-?[\.\d]+)(m?s)/);return!v||v.length<2?0:Tn(parseFloat(v[1]),v[2])}function Tn(U,v){return"s"===v?1e3*U:U}function ye(U,v,w){return U.hasOwnProperty("duration")?U:function pe(U,v,w){let B,J=0,re="";if("string"==typeof U){const Z=U.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Z)return v.push(Ne()),{duration:0,delay:0,easing:""};B=Tn(parseFloat(Z[1]),Z[2]);const fe=Z[3];null!=fe&&(J=Tn(parseFloat(fe),Z[4]));const rt=Z[5];rt&&(re=rt)}else B=U;if(!w){let Z=!1,fe=v.length;B<0&&(v.push(function ne(){return new j.vHH(3100,!1)}()),Z=!0),J<0&&(v.push(function ue(){return new j.vHH(3101,!1)}()),Z=!0),Z&&v.splice(fe,0,Ne())}return{duration:B,delay:J,easing:re}}(U,v,w)}function Te(U,v={}){return Object.keys(U).forEach(w=>{v[w]=U[w]}),v}function it(U){const v=new Map;return Object.keys(U).forEach(w=>{v.set(w,U[w])}),v}function on(U,v=new Map,w){if(w)for(let[M,B]of w)v.set(M,B);for(let[M,B]of U)v.set(M,B);return v}function Ln(U,v,w){return w?v+":"+w+";":""}function Fr(U){let v="";for(let w=0;w<U.style.length;w++){const M=U.style.item(w);v+=Ln(0,M,U.style.getPropertyValue(M))}for(const w in U.style)U.style.hasOwnProperty(w)&&!w.startsWith("_")&&(v+=Ln(0,rn(w),U.style[w]));U.setAttribute("style",v)}function zn(U,v,w){U.style&&(v.forEach((M,B)=>{const J=gt(B);w&&!w.has(B)&&w.set(B,U.style[J]),U.style[J]=M}),or()&&Fr(U))}function Ve(U,v){U.style&&(v.forEach((w,M)=>{const B=gt(M);U.style[B]=""}),or()&&Fr(U))}function ve(U){return Array.isArray(U)?1==U.length?U[0]:(0,ie.vP)(U):U}const Ge=new RegExp("{{\\s*(.+?)\\s*}}","g");function xe(U){let v=[];if("string"==typeof U){let w;for(;w=Ge.exec(U);)v.push(w[1]);Ge.lastIndex=0}return v}function nt(U,v,w){const M=U.toString(),B=M.replace(Ge,(J,re)=>{let Z=v[re];return null==Z&&(w.push(function tt(U){return new j.vHH(3003,!1)}()),Z=""),Z.toString()});return B==M?U:B}function wt(U){const v=[];let w=U.next();for(;!w.done;)v.push(w.value),w=U.next();return v}const zt=/-+([a-z0-9])/g;function gt(U){return U.replace(zt,(...v)=>v[1].toUpperCase())}function rn(U){return U.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Nr(U,v,w){switch(v.type){case 7:return U.visitTrigger(v,w);case 0:return U.visitState(v,w);case 1:return U.visitTransition(v,w);case 2:return U.visitSequence(v,w);case 3:return U.visitGroup(v,w);case 4:return U.visitAnimate(v,w);case 5:return U.visitKeyframes(v,w);case 6:return U.visitStyle(v,w);case 8:return U.visitReference(v,w);case 9:return U.visitAnimateChild(v,w);case 10:return U.visitAnimateRef(v,w);case 11:return U.visitQuery(v,w);case 12:return U.visitStagger(v,w);default:throw function Be(U){return new j.vHH(3004,!1)}()}}function Ir(U,v){return window.getComputedStyle(U)[v]}function Xi(U,v){const w=[];return"string"==typeof U?U.split(/\s*,\s*/).forEach(M=>function Vn(U,v,w){if(":"==U[0]){const fe=function ji(U,v){switch(U){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(w,M)=>parseFloat(M)>parseFloat(w);case":decrement":return(w,M)=>parseFloat(M)<parseFloat(w);default:return v.push(function Pe(U){return new j.vHH(3016,!1)}()),"* => *"}}(U,w);if("function"==typeof fe)return void v.push(fe);U=fe}const M=U.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==M||M.length<4)return w.push(function Ce(U){return new j.vHH(3015,!1)}()),v;const B=M[1],J=M[2],re=M[3];v.push(ke(B,re));"<"==J[0]&&!("*"==B&&"*"==re)&&v.push(ke(re,B))}(M,w,v)):w.push(U),w}const ri=new Set(["true","1"]),Hr=new Set(["false","0"]);function ke(U,v){const w=ri.has(U)||Hr.has(U),M=ri.has(v)||Hr.has(v);return(B,J)=>{let re="*"==U||U==B,Z="*"==v||v==J;return!re&&w&&"boolean"==typeof B&&(re=B?ri.has(U):Hr.has(U)),!Z&&M&&"boolean"==typeof J&&(Z=J?ri.has(v):Hr.has(v)),re&&Z}}const $e=new RegExp("s*:selfs*,?","g");function at(U,v,w,M){return new Bt(U).build(v,w,M)}class Bt{constructor(v){this._driver=v}build(v,w,M){const B=new Zn(w);return this._resetContextStyleTimingState(B),Nr(this,ve(v),B)}_resetContextStyleTimingState(v){v.currentQuerySelector="",v.collectedStyles=new Map,v.collectedStyles.set("",new Map),v.currentTime=0}visitTrigger(v,w){let M=w.queryCount=0,B=w.depCount=0;const J=[],re=[];return"@"==v.name.charAt(0)&&w.errors.push(function St(){return new j.vHH(3006,!1)}()),v.definitions.forEach(Z=>{if(this._resetContextStyleTimingState(w),0==Z.type){const fe=Z,rt=fe.name;rt.toString().split(/\s*,\s*/).forEach(qt=>{fe.name=qt,J.push(this.visitState(fe,w))}),fe.name=rt}else if(1==Z.type){const fe=this.visitTransition(Z,w);M+=fe.queryCount,B+=fe.depCount,re.push(fe)}else w.errors.push(function Vt(){return new j.vHH(3007,!1)}())}),{type:7,name:v.name,states:J,transitions:re,queryCount:M,depCount:B,options:null}}visitState(v,w){const M=this.visitStyle(v.styles,w),B=v.options&&v.options.params||null;if(M.containsDynamicStyles){const J=new Set,re=B||{};M.styles.forEach(Z=>{Z instanceof Map&&Z.forEach(fe=>{xe(fe).forEach(rt=>{re.hasOwnProperty(rt)||J.add(rt)})})}),J.size&&(wt(J.values()),w.errors.push(function kt(U,v){return new j.vHH(3008,!1)}()))}return{type:0,name:v.name,style:M,options:B?{params:B}:null}}visitTransition(v,w){w.queryCount=0,w.depCount=0;const M=Nr(this,ve(v.animation),w);return{type:1,matchers:Xi(v.expr,w.errors),animation:M,queryCount:w.queryCount,depCount:w.depCount,options:vs(v.options)}}visitSequence(v,w){return{type:2,steps:v.steps.map(M=>Nr(this,M,w)),options:vs(v.options)}}visitGroup(v,w){const M=w.currentTime;let B=0;const J=v.steps.map(re=>{w.currentTime=M;const Z=Nr(this,re,w);return B=Math.max(B,w.currentTime),Z});return w.currentTime=B,{type:3,steps:J,options:vs(v.options)}}visitAnimate(v,w){const M=function Vr(U,v){if(U.hasOwnProperty("duration"))return U;if("number"==typeof U)return Gr(ye(U,v).duration,0,"");const w=U;if(w.split(/\s+/).some(J=>"{"==J.charAt(0)&&"{"==J.charAt(1))){const J=Gr(0,0,"");return J.dynamic=!0,J.strValue=w,J}const B=ye(w,v);return Gr(B.duration,B.delay,B.easing)}(v.timings,w.errors);w.currentAnimateTimings=M;let B,J=v.styles?v.styles:(0,ie.oB)({});if(5==J.type)B=this.visitKeyframes(J,w);else{let re=v.styles,Z=!1;if(!re){Z=!0;const rt={};M.easing&&(rt.easing=M.easing),re=(0,ie.oB)(rt)}w.currentTime+=M.duration+M.delay;const fe=this.visitStyle(re,w);fe.isEmptyStep=Z,B=fe}return w.currentAnimateTimings=null,{type:4,timings:M,style:B,options:null}}visitStyle(v,w){const M=this._makeStyleAst(v,w);return this._validateStyleAst(M,w),M}_makeStyleAst(v,w){const M=[],B=Array.isArray(v.styles)?v.styles:[v.styles];for(let Z of B)"string"==typeof Z?Z===ie.l3?M.push(Z):w.errors.push(new j.vHH(3002,!1)):M.push(it(Z));let J=!1,re=null;return M.forEach(Z=>{if(Z instanceof Map&&(Z.has("easing")&&(re=Z.get("easing"),Z.delete("easing")),!J))for(let fe of Z.values())if(fe.toString().indexOf("{{")>=0){J=!0;break}}),{type:6,styles:M,easing:re,offset:v.offset,containsDynamicStyles:J,options:null}}_validateStyleAst(v,w){const M=w.currentAnimateTimings;let B=w.currentTime,J=w.currentTime;M&&J>0&&(J-=M.duration+M.delay),v.styles.forEach(re=>{"string"!=typeof re&&re.forEach((Z,fe)=>{const rt=w.collectedStyles.get(w.currentQuerySelector),qt=rt.get(fe);let an=!0;qt&&(J!=B&&J>=qt.startTime&&B<=qt.endTime&&(w.errors.push(function ce(U,v,w,M,B){return new j.vHH(3010,!1)}()),an=!1),J=qt.startTime),an&&rt.set(fe,{startTime:J,endTime:B}),w.options&&function se(U,v,w){const M=v.params||{},B=xe(U);B.length&&B.forEach(J=>{M.hasOwnProperty(J)||w.push(function Oe(U){return new j.vHH(3001,!1)}())})}(Z,w.options,w.errors)})})}visitKeyframes(v,w){const M={type:5,styles:[],options:null};if(!w.currentAnimateTimings)return w.errors.push(function De(){return new j.vHH(3011,!1)}()),M;let J=0;const re=[];let Z=!1,fe=!1,rt=0;const qt=v.steps.map(Pr=>{const Vi=this._makeStyleAst(Pr,w);let cr=null!=Vi.offset?Vi.offset:function jr(U){if("string"==typeof U)return null;let v=null;if(Array.isArray(U))U.forEach(w=>{if(w instanceof Map&&w.has("offset")){const M=w;v=parseFloat(M.get("offset")),M.delete("offset")}});else if(U instanceof Map&&U.has("offset")){const w=U;v=parseFloat(w.get("offset")),w.delete("offset")}return v}(Vi.styles),li=0;return null!=cr&&(J++,li=Vi.offset=cr),fe=fe||li<0||li>1,Z=Z||li<rt,rt=li,re.push(li),Vi});fe&&w.errors.push(function _e(){return new j.vHH(3012,!1)}()),Z&&w.errors.push(function lt(){return new j.vHH(3200,!1)}());const an=v.steps.length;let xn=0;J>0&&J<an?w.errors.push(function Ie(){return new j.vHH(3202,!1)}()):0==J&&(xn=1/(an-1));const Jn=an-1,En=w.currentTime,kn=w.currentAnimateTimings,Dr=kn.duration;return qt.forEach((Pr,Vi)=>{const cr=xn>0?Vi==Jn?1:xn*Vi:re[Vi],li=cr*Dr;w.currentTime=En+kn.delay+li,kn.duration=li,this._validateStyleAst(Pr,w),Pr.offset=cr,M.styles.push(Pr)}),M}visitReference(v,w){return{type:8,animation:Nr(this,ve(v.animation),w),options:vs(v.options)}}visitAnimateChild(v,w){return w.depCount++,{type:9,options:vs(v.options)}}visitAnimateRef(v,w){return{type:10,animation:this.visitReference(v.animation,w),options:vs(v.options)}}visitQuery(v,w){const M=w.currentQuerySelector,B=v.options||{};w.queryCount++,w.currentQuery=v;const[J,re]=function Mn(U){const v=!!U.split(/\s*,\s*/).find(w=>":self"==w);return v&&(U=U.replace($e,"")),U=U.replace(/@\*/g,Ue).replace(/@\w+/g,w=>Ue+"-"+w.slice(1)).replace(/:animating/g,dt),[U,v]}(v.selector);w.currentQuerySelector=M.length?M+" "+J:J,ar(w.collectedStyles,w.currentQuerySelector,new Map);const Z=Nr(this,ve(v.animation),w);return w.currentQuery=null,w.currentQuerySelector=M,{type:11,selector:J,limit:B.limit||0,optional:!!B.optional,includeSelf:re,animation:Z,originalSelector:v.selector,options:vs(v.options)}}visitStagger(v,w){w.currentQuery||w.errors.push(function Re(){return new j.vHH(3013,!1)}());const M="full"===v.timings?{duration:0,delay:0,easing:"full"}:ye(v.timings,w.errors,!0);return{type:12,animation:Nr(this,ve(v.animation),w),timings:M,options:null}}}class Zn{constructor(v){this.errors=v,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function vs(U){return U?(U=Te(U)).params&&(U.params=function pr(U){return U?Te(U):null}(U.params)):U={},U}function Gr(U,v,w){return{duration:U,delay:v,easing:w}}function Qn(U,v,w,M,B,J,re=null,Z=!1){return{type:1,element:U,keyframes:v,preStyleProps:w,postStyleProps:M,duration:B,delay:J,totalTime:B+J,easing:re,subTimeline:Z}}class Ci{constructor(){this._map=new Map}get(v){return this._map.get(v)||[]}append(v,w){let M=this._map.get(v);M||this._map.set(v,M=[]),M.push(...w)}has(v){return this._map.has(v)}clear(){this._map.clear()}}const mi=new RegExp(":enter","g"),Os=new RegExp(":leave","g");function to(U,v,w,M,B,J=new Map,re=new Map,Z,fe,rt=[]){return(new Es).buildKeyframes(U,v,w,M,B,J,re,Z,fe,rt)}class Es{buildKeyframes(v,w,M,B,J,re,Z,fe,rt,qt=[]){rt=rt||new Ci;const an=new ls(v,w,rt,B,J,qt,[]);an.options=fe;const xn=fe.delay?Mt(fe.delay):0;an.currentTimeline.delayNextStep(xn),an.currentTimeline.setStyles([re],null,an.errors,fe),Nr(this,M,an);const Jn=an.timelines.filter(En=>En.containsAnimation());if(Jn.length&&Z.size){let En;for(let kn=Jn.length-1;kn>=0;kn--){const Dr=Jn[kn];if(Dr.element===w){En=Dr;break}}En&&!En.allowOnlyTimelineStyles()&&En.setStyles([Z],null,an.errors,fe)}return Jn.length?Jn.map(En=>En.buildKeyframes()):[Qn(w,[],[],[],0,xn,"",!1)]}visitTrigger(v,w){}visitState(v,w){}visitTransition(v,w){}visitAnimateChild(v,w){const M=w.subInstructions.get(w.element);if(M){const B=w.createSubContext(v.options),J=w.currentTimeline.currentTime,re=this._visitSubInstructions(M,B,B.options);J!=re&&w.transformIntoNewTimeline(re)}w.previousNode=v}visitAnimateRef(v,w){const M=w.createSubContext(v.options);M.transformIntoNewTimeline(),this._applyAnimationRefDelays([v.options,v.animation.options],w,M),this.visitReference(v.animation,M),w.transformIntoNewTimeline(M.currentTimeline.currentTime),w.previousNode=v}_applyAnimationRefDelays(v,w,M){for(const B of v){const J=B?.delay;if(J){const re="number"==typeof J?J:Mt(nt(J,B?.params??{},w.errors));M.delayNextStep(re)}}}_visitSubInstructions(v,w,M){let J=w.currentTimeline.currentTime;const re=null!=M.duration?Mt(M.duration):null,Z=null!=M.delay?Mt(M.delay):null;return 0!==re&&v.forEach(fe=>{const rt=w.appendInstructionToTimeline(fe,re,Z);J=Math.max(J,rt.duration+rt.delay)}),J}visitReference(v,w){w.updateOptions(v.options,!0),Nr(this,v.animation,w),w.previousNode=v}visitSequence(v,w){const M=w.subContextCount;let B=w;const J=v.options;if(J&&(J.params||J.delay)&&(B=w.createSubContext(J),B.transformIntoNewTimeline(),null!=J.delay)){6==B.previousNode.type&&(B.currentTimeline.snapshotCurrentStyles(),B.previousNode=Oi);const re=Mt(J.delay);B.delayNextStep(re)}v.steps.length&&(v.steps.forEach(re=>Nr(this,re,B)),B.currentTimeline.applyStylesToKeyframe(),B.subContextCount>M&&B.transformIntoNewTimeline()),w.previousNode=v}visitGroup(v,w){const M=[];let B=w.currentTimeline.currentTime;const J=v.options&&v.options.delay?Mt(v.options.delay):0;v.steps.forEach(re=>{const Z=w.createSubContext(v.options);J&&Z.delayNextStep(J),Nr(this,re,Z),B=Math.max(B,Z.currentTimeline.currentTime),M.push(Z.currentTimeline)}),M.forEach(re=>w.currentTimeline.mergeTimelineCollectedStyles(re)),w.transformIntoNewTimeline(B),w.previousNode=v}_visitTiming(v,w){if(v.dynamic){const M=v.strValue;return ye(w.params?nt(M,w.params,w.errors):M,w.errors)}return{duration:v.duration,delay:v.delay,easing:v.easing}}visitAnimate(v,w){const M=w.currentAnimateTimings=this._visitTiming(v.timings,w),B=w.currentTimeline;M.delay&&(w.incrementTime(M.delay),B.snapshotCurrentStyles());const J=v.style;5==J.type?this.visitKeyframes(J,w):(w.incrementTime(M.duration),this.visitStyle(J,w),B.applyStylesToKeyframe()),w.currentAnimateTimings=null,w.previousNode=v}visitStyle(v,w){const M=w.currentTimeline,B=w.currentAnimateTimings;!B&&M.hasCurrentStyleProperties()&&M.forwardFrame();const J=B&&B.easing||v.easing;v.isEmptyStep?M.applyEmptyStep(J):M.setStyles(v.styles,J,w.errors,w.options),w.previousNode=v}visitKeyframes(v,w){const M=w.currentAnimateTimings,B=w.currentTimeline.duration,J=M.duration,Z=w.createSubContext().currentTimeline;Z.easing=M.easing,v.styles.forEach(fe=>{Z.forwardTime((fe.offset||0)*J),Z.setStyles(fe.styles,fe.easing,w.errors,w.options),Z.applyStylesToKeyframe()}),w.currentTimeline.mergeTimelineCollectedStyles(Z),w.transformIntoNewTimeline(B+J),w.previousNode=v}visitQuery(v,w){const M=w.currentTimeline.currentTime,B=v.options||{},J=B.delay?Mt(B.delay):0;J&&(6===w.previousNode.type||0==M&&w.currentTimeline.hasCurrentStyleProperties())&&(w.currentTimeline.snapshotCurrentStyles(),w.previousNode=Oi);let re=M;const Z=w.invokeQuery(v.selector,v.originalSelector,v.limit,v.includeSelf,!!B.optional,w.errors);w.currentQueryTotal=Z.length;let fe=null;Z.forEach((rt,qt)=>{w.currentQueryIndex=qt;const an=w.createSubContext(v.options,rt);J&&an.delayNextStep(J),rt===w.element&&(fe=an.currentTimeline),Nr(this,v.animation,an),an.currentTimeline.applyStylesToKeyframe(),re=Math.max(re,an.currentTimeline.currentTime)}),w.currentQueryIndex=0,w.currentQueryTotal=0,w.transformIntoNewTimeline(re),fe&&(w.currentTimeline.mergeTimelineCollectedStyles(fe),w.currentTimeline.snapshotCurrentStyles()),w.previousNode=v}visitStagger(v,w){const M=w.parentContext,B=w.currentTimeline,J=v.timings,re=Math.abs(J.duration),Z=re*(w.currentQueryTotal-1);let fe=re*w.currentQueryIndex;switch(J.duration<0?"reverse":J.easing){case"reverse":fe=Z-fe;break;case"full":fe=M.currentStaggerTime}const qt=w.currentTimeline;fe&&qt.delayNextStep(fe);const an=qt.currentTime;Nr(this,v.animation,w),w.previousNode=v,M.currentStaggerTime=B.currentTime-an+(B.startTime-M.currentTimeline.startTime)}}const Oi={};class ls{constructor(v,w,M,B,J,re,Z,fe){this._driver=v,this.element=w,this.subInstructions=M,this._enterClassName=B,this._leaveClassName=J,this.errors=re,this.timelines=Z,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Oi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=fe||new Ao(this._driver,w,0),Z.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(v,w){if(!v)return;const M=v;let B=this.options;null!=M.duration&&(B.duration=Mt(M.duration)),null!=M.delay&&(B.delay=Mt(M.delay));const J=M.params;if(J){let re=B.params;re||(re=this.options.params={}),Object.keys(J).forEach(Z=>{(!w||!re.hasOwnProperty(Z))&&(re[Z]=nt(J[Z],re,this.errors))})}}_copyOptions(){const v={};if(this.options){const w=this.options.params;if(w){const M=v.params={};Object.keys(w).forEach(B=>{M[B]=w[B]})}}return v}createSubContext(v=null,w,M){const B=w||this.element,J=new ls(this._driver,B,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(B,M||0));return J.previousNode=this.previousNode,J.currentAnimateTimings=this.currentAnimateTimings,J.options=this._copyOptions(),J.updateOptions(v),J.currentQueryIndex=this.currentQueryIndex,J.currentQueryTotal=this.currentQueryTotal,J.parentContext=this,this.subContextCount++,J}transformIntoNewTimeline(v){return this.previousNode=Oi,this.currentTimeline=this.currentTimeline.fork(this.element,v),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(v,w,M){const B={duration:w??v.duration,delay:this.currentTimeline.currentTime+(M??0)+v.delay,easing:""},J=new ma(this._driver,v.element,v.keyframes,v.preStyleProps,v.postStyleProps,B,v.stretchStartingKeyframe);return this.timelines.push(J),B}incrementTime(v){this.currentTimeline.forwardTime(this.currentTimeline.duration+v)}delayNextStep(v){v>0&&this.currentTimeline.delayNextStep(v)}invokeQuery(v,w,M,B,J,re){let Z=[];if(B&&Z.push(this.element),v.length>0){v=(v=v.replace(mi,"."+this._enterClassName)).replace(Os,"."+this._leaveClassName);let rt=this._driver.query(this.element,v,1!=M);0!==M&&(rt=M<0?rt.slice(rt.length+M,rt.length):rt.slice(0,M)),Z.push(...rt)}return!J&&0==Z.length&&re.push(function st(U){return new j.vHH(3014,!1)}()),Z}}class Ao{constructor(v,w,M,B){this._driver=v,this.element=w,this.startTime=M,this._elementTimelineStylesLookup=B,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(w),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(w,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(v){const w=1===this._keyframes.size&&this._pendingStyles.size;this.duration||w?(this.forwardTime(this.currentTime+v),w&&this.snapshotCurrentStyles()):this.startTime+=v}fork(v,w){return this.applyStylesToKeyframe(),new Ao(this._driver,v,w||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(v){this.applyStylesToKeyframe(),this.duration=v,this._loadKeyframe()}_updateStyle(v,w){this._localTimelineStyles.set(v,w),this._globalTimelineStyles.set(v,w),this._styleSummary.set(v,{time:this.currentTime,value:w})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(v){v&&this._previousKeyframe.set("easing",v);for(let[w,M]of this._globalTimelineStyles)this._backFill.set(w,M||ie.l3),this._currentKeyframe.set(w,ie.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(v,w,M,B){w&&this._previousKeyframe.set("easing",w);const J=B&&B.params||{},re=function no(U,v){const w=new Map;let M;return U.forEach(B=>{if("*"===B){M=M||v.keys();for(let J of M)w.set(J,ie.l3)}else on(B,w)}),w}(v,this._globalTimelineStyles);for(let[Z,fe]of re){const rt=nt(fe,J,M);this._pendingStyles.set(Z,rt),this._localTimelineStyles.has(Z)||this._backFill.set(Z,this._globalTimelineStyles.get(Z)??ie.l3),this._updateStyle(Z,rt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((v,w)=>{this._currentKeyframe.set(w,v)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((v,w)=>{this._currentKeyframe.has(w)||this._currentKeyframe.set(w,v)}))}snapshotCurrentStyles(){for(let[v,w]of this._localTimelineStyles)this._pendingStyles.set(v,w),this._updateStyle(v,w)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const v=[];for(let w in this._currentKeyframe)v.push(w);return v}mergeTimelineCollectedStyles(v){v._styleSummary.forEach((w,M)=>{const B=this._styleSummary.get(M);(!B||w.time>B.time)&&this._updateStyle(M,w.value)})}buildKeyframes(){this.applyStylesToKeyframe();const v=new Set,w=new Set,M=1===this._keyframes.size&&0===this.duration;let B=[];this._keyframes.forEach((Z,fe)=>{const rt=on(Z,new Map,this._backFill);rt.forEach((qt,an)=>{qt===ie.k1?v.add(an):qt===ie.l3&&w.add(an)}),M||rt.set("offset",fe/this.duration),B.push(rt)});const J=v.size?wt(v.values()):[],re=w.size?wt(w.values()):[];if(M){const Z=B[0],fe=new Map(Z);Z.set("offset",0),fe.set("offset",1),B=[Z,fe]}return Qn(this.element,B,J,re,this.duration,this.startTime,this.easing,!1)}}class ma extends Ao{constructor(v,w,M,B,J,re,Z=!1){super(v,w,re.delay),this.keyframes=M,this.preStyleProps=B,this.postStyleProps=J,this._stretchStartingKeyframe=Z,this.timings={duration:re.duration,delay:re.delay,easing:re.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let v=this.keyframes,{delay:w,duration:M,easing:B}=this.timings;if(this._stretchStartingKeyframe&&w){const J=[],re=M+w,Z=w/re,fe=on(v[0]);fe.set("offset",0),J.push(fe);const rt=on(v[0]);rt.set("offset",zo(Z)),J.push(rt);const qt=v.length-1;for(let an=1;an<=qt;an++){let xn=on(v[an]);const Jn=xn.get("offset");xn.set("offset",zo((w+Jn*M)/re)),J.push(xn)}M=re,w=0,B="",v=J}return Qn(this.element,v,this.preStyleProps,this.postStyleProps,M,w,B,!0)}}function zo(U,v=3){const w=Math.pow(10,v-1);return Math.round(U*w)/w}class Wo{}const ks=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ws extends Wo{normalizePropertyName(v,w){return gt(v)}normalizeStyleValue(v,w,M,B){let J="";const re=M.toString().trim();if(ks.has(w)&&0!==M&&"0"!==M)if("number"==typeof M)J="px";else{const Z=M.match(/^[+-]?[\d\.]+([a-z]*)$/);Z&&0==Z[1].length&&B.push(function pt(U,v){return new j.vHH(3005,!1)}())}return re+J}}function ki(U,v,w,M,B,J,re,Z,fe,rt,qt,an,xn){return{type:0,element:U,triggerName:v,isRemovalTransition:B,fromState:w,fromStyles:J,toState:M,toStyles:re,timelines:Z,queriedElements:fe,preStyleProps:rt,postStyleProps:qt,totalTime:an,errors:xn}}const Fi={};class nr{constructor(v,w,M){this._triggerName=v,this.ast=w,this._stateStyles=M}match(v,w,M,B){return function cs(U,v,w,M,B){return U.some(J=>J(v,w,M,B))}(this.ast.matchers,v,w,M,B)}buildStyles(v,w,M){let B=this._stateStyles.get("*");return void 0!==v&&(B=this._stateStyles.get(v?.toString())||B),B?B.buildStyles(w,M):new Map}build(v,w,M,B,J,re,Z,fe,rt,qt){const an=[],xn=this.ast.options&&this.ast.options.params||Fi,En=this.buildStyles(M,Z&&Z.params||Fi,an),kn=fe&&fe.params||Fi,Dr=this.buildStyles(B,kn,an),Pr=new Set,Vi=new Map,cr=new Map,li="void"===B,In={params:qs(kn,xn),delay:this.ast.options?.delay},_i=qt?[]:to(v,w,this.ast.animation,J,re,En,Dr,In,rt,an);let ci=0;if(_i.forEach(gn=>{ci=Math.max(gn.duration+gn.delay,ci)}),an.length)return ki(w,this._triggerName,M,B,li,En,Dr,[],[],Vi,cr,ci,an);_i.forEach(gn=>{const ns=gn.element,ir=ar(Vi,ns,new Set);gn.preStyleProps.forEach(er=>ir.add(er));const No=ar(cr,ns,new Set);gn.postStyleProps.forEach(er=>No.add(er)),ns!==w&&Pr.add(ns)});const rr=wt(Pr.values());return ki(w,this._triggerName,M,B,li,En,Dr,_i,rr,Vi,cr,ci)}}function qs(U,v){const w=Te(v);for(const M in U)U.hasOwnProperty(M)&&null!=U[M]&&(w[M]=U[M]);return w}class Ks{constructor(v,w,M){this.styles=v,this.defaultParams=w,this.normalizer=M}buildStyles(v,w){const M=new Map,B=Te(this.defaultParams);return Object.keys(v).forEach(J=>{const re=v[J];null!==re&&(B[J]=re)}),this.styles.styles.forEach(J=>{"string"!=typeof J&&J.forEach((re,Z)=>{re&&(re=nt(re,B,w));const fe=this.normalizer.normalizePropertyName(Z,w);re=this.normalizer.normalizeStyleValue(Z,fe,re,w),M.set(fe,re)})}),M}}class Fs{constructor(v,w,M){this.name=v,this.ast=w,this._normalizer=M,this.transitionFactories=[],this.states=new Map,w.states.forEach(B=>{this.states.set(B.name,new Ks(B.style,B.options&&B.options.params||{},M))}),zi(this.states,"true","1"),zi(this.states,"false","0"),w.transitions.forEach(B=>{this.transitionFactories.push(new nr(v,B,this.states))}),this.fallbackTransition=function Ji(U,v,w){return new nr(U,{type:1,animation:{type:2,steps:[],options:null},matchers:[(re,Z)=>!0],options:null,queryCount:0,depCount:0},v)}(v,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(v,w,M,B){return this.transitionFactories.find(re=>re.match(v,w,M,B))||null}matchStyles(v,w,M){return this.fallbackTransition.buildStyles(v,w,M)}}function zi(U,v,w){U.has(v)?U.has(w)||U.set(w,U.get(v)):U.has(w)&&U.set(v,U.get(w))}const Io=new Ci;class es{constructor(v,w,M){this.bodyNode=v,this._driver=w,this._normalizer=M,this._animations=new Map,this._playersById=new Map,this.players=[]}register(v,w){const M=[],J=at(this._driver,w,M,[]);if(M.length)throw function Ae(U){return new j.vHH(3503,!1)}();this._animations.set(v,J)}_buildPlayer(v,w,M){const B=v.element,J=vr(0,this._normalizer,0,v.keyframes,w,M);return this._driver.animate(B,J,v.duration,v.delay,v.easing,[],!0)}create(v,w,M={}){const B=[],J=this._animations.get(v);let re;const Z=new Map;if(J?(re=to(this._driver,w,J,Ri,ai,new Map,new Map,M,Io,B),re.forEach(qt=>{const an=ar(Z,qt.element,new Map);qt.postStyleProps.forEach(xn=>an.set(xn,null))})):(B.push(function ot(){return new j.vHH(3300,!1)}()),re=[]),B.length)throw function At(U){return new j.vHH(3504,!1)}();Z.forEach((qt,an)=>{qt.forEach((xn,Jn)=>{qt.set(Jn,this._driver.computeStyle(an,Jn,ie.l3))})});const rt=kr(re.map(qt=>{const an=Z.get(qt.element);return this._buildPlayer(qt,new Map,an)}));return this._playersById.set(v,rt),rt.onDestroy(()=>this.destroy(v)),this.players.push(rt),rt}destroy(v){const w=this._getPlayer(v);w.destroy(),this._playersById.delete(v);const M=this.players.indexOf(w);M>=0&&this.players.splice(M,1)}_getPlayer(v){const w=this._playersById.get(v);if(!w)throw function Rt(U){return new j.vHH(3301,!1)}();return w}listen(v,w,M,B){const J=Rr(w,"","","");return ei(this._getPlayer(v),M,J,B),()=>{}}command(v,w,M,B){if("register"==M)return void this.register(v,B[0]);if("create"==M)return void this.create(v,w,B[0]||{});const J=this._getPlayer(v);switch(M){case"play":J.play();break;case"pause":J.pause();break;case"reset":J.reset();break;case"restart":J.restart();break;case"finish":J.finish();break;case"init":J.init();break;case"setPosition":J.setPosition(parseFloat(B[0]));break;case"destroy":this.destroy(v)}}}const Qr="ng-animate-queued",Mo="ng-animate-disabled",Ai=[],Wi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ys={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ur="__ng_removed";class Ls{constructor(v,w=""){this.namespaceId=w;const M=v&&v.hasOwnProperty("value");if(this.value=function so(U){return U??null}(M?v.value:v),M){const J=Te(v);delete J.value,this.options=J}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(v){const w=v.params;if(w){const M=this.options.params;Object.keys(w).forEach(B=>{null==M[B]&&(M[B]=w[B])})}}}const os="void",Sn=new Ls(os);class Vs{constructor(v,w,M){this.id=v,this.hostElement=w,this._engine=M,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+v,yi(w,this._hostClassName)}listen(v,w,M,B){if(!this._triggers.has(w))throw function en(U,v){return new j.vHH(3302,!1)}();if(null==M||0==M.length)throw function bn(U){return new j.vHH(3303,!1)}();if(!function Us(U){return"start"==U||"done"==U}(M))throw function nn(U,v){return new j.vHH(3400,!1)}();const J=ar(this._elementListeners,v,[]),re={name:w,phase:M,callback:B};J.push(re);const Z=ar(this._engine.statesByElement,v,new Map);return Z.has(w)||(yi(v,Et),yi(v,Et+"-"+w),Z.set(w,Sn)),()=>{this._engine.afterFlush(()=>{const fe=J.indexOf(re);fe>=0&&J.splice(fe,1),this._triggers.has(w)||Z.delete(w)})}}register(v,w){return!this._triggers.has(v)&&(this._triggers.set(v,w),!0)}_getTrigger(v){const w=this._triggers.get(v);if(!w)throw function Wn(U){return new j.vHH(3401,!1)}();return w}trigger(v,w,M,B=!0){const J=this._getTrigger(w),re=new ds(this.id,w,v);let Z=this._engine.statesByElement.get(v);Z||(yi(v,Et),yi(v,Et+"-"+w),this._engine.statesByElement.set(v,Z=new Map));let fe=Z.get(w);const rt=new Ls(M,this.id);if(!(M&&M.hasOwnProperty("value"))&&fe&&rt.absorbOptions(fe.options),Z.set(w,rt),fe||(fe=Sn),rt.value!==os&&fe.value===rt.value){if(!function Mi(U,v){const w=Object.keys(U),M=Object.keys(v);if(w.length!=M.length)return!1;for(let B=0;B<w.length;B++){const J=w[B];if(!v.hasOwnProperty(J)||U[J]!==v[J])return!1}return!0}(fe.params,rt.params)){const kn=[],Dr=J.matchStyles(fe.value,fe.params,kn),Pr=J.matchStyles(rt.value,rt.params,kn);kn.length?this._engine.reportError(kn):this._engine.afterFlush(()=>{Ve(v,Dr),zn(v,Pr)})}return}const xn=ar(this._engine.playersByElement,v,[]);xn.forEach(kn=>{kn.namespaceId==this.id&&kn.triggerName==w&&kn.queued&&kn.destroy()});let Jn=J.matchTransition(fe.value,rt.value,v,rt.params),En=!1;if(!Jn){if(!B)return;Jn=J.fallbackTransition,En=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:w,transition:Jn,fromState:fe,toState:rt,player:re,isFallbackTransition:En}),En||(yi(v,Qr),re.onStart(()=>{Xr(v,Qr)})),re.onDone(()=>{let kn=this.players.indexOf(re);kn>=0&&this.players.splice(kn,1);const Dr=this._engine.playersByElement.get(v);if(Dr){let Pr=Dr.indexOf(re);Pr>=0&&Dr.splice(Pr,1)}}),this.players.push(re),xn.push(re),re}deregister(v){this._triggers.delete(v),this._engine.statesByElement.forEach(w=>w.delete(v)),this._elementListeners.forEach((w,M)=>{this._elementListeners.set(M,w.filter(B=>B.name!=v))})}clearElementCache(v){this._engine.statesByElement.delete(v),this._elementListeners.delete(v);const w=this._engine.playersByElement.get(v);w&&(w.forEach(M=>M.destroy()),this._engine.playersByElement.delete(v))}_signalRemovalForInnerTriggers(v,w){const M=this._engine.driver.query(v,Ue,!0);M.forEach(B=>{if(B[Ur])return;const J=this._engine.fetchNamespacesByElement(B);J.size?J.forEach(re=>re.triggerLeaveAnimation(B,w,!1,!0)):this.clearElementCache(B)}),this._engine.afterFlushAnimationsDone(()=>M.forEach(B=>this.clearElementCache(B)))}triggerLeaveAnimation(v,w,M,B){const J=this._engine.statesByElement.get(v),re=new Map;if(J){const Z=[];if(J.forEach((fe,rt)=>{if(re.set(rt,fe.value),this._triggers.has(rt)){const qt=this.trigger(v,rt,os,B);qt&&Z.push(qt)}}),Z.length)return this._engine.markElementAsRemoved(this.id,v,!0,w,re),M&&kr(Z).onDone(()=>this._engine.processLeaveNode(v)),!0}return!1}prepareLeaveAnimationListeners(v){const w=this._elementListeners.get(v),M=this._engine.statesByElement.get(v);if(w&&M){const B=new Set;w.forEach(J=>{const re=J.name;if(B.has(re))return;B.add(re);const fe=this._triggers.get(re).fallbackTransition,rt=M.get(re)||Sn,qt=new Ls(os),an=new ds(this.id,re,v);this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:re,transition:fe,fromState:rt,toState:qt,player:an,isFallbackTransition:!0})})}}removeNode(v,w){const M=this._engine;if(v.childElementCount&&this._signalRemovalForInnerTriggers(v,w),this.triggerLeaveAnimation(v,w,!0))return;let B=!1;if(M.totalAnimations){const J=M.players.length?M.playersByQueriedElement.get(v):[];if(J&&J.length)B=!0;else{let re=v;for(;re=re.parentNode;)if(M.statesByElement.get(re)){B=!0;break}}}if(this.prepareLeaveAnimationListeners(v),B)M.markElementAsRemoved(this.id,v,!1,w);else{const J=v[Ur];(!J||J===Wi)&&(M.afterFlush(()=>this.clearElementCache(v)),M.destroyInnerAnimations(v),M._onRemovalComplete(v,w))}}insertNode(v,w){yi(v,this._hostClassName)}drainQueuedTransitions(v){const w=[];return this._queue.forEach(M=>{const B=M.player;if(B.destroyed)return;const J=M.element,re=this._elementListeners.get(J);re&&re.forEach(Z=>{if(Z.name==M.triggerName){const fe=Rr(J,M.triggerName,M.fromState.value,M.toState.value);fe._data=v,ei(M.player,Z.phase,fe,Z.callback)}}),B.markedForDestroy?this._engine.afterFlush(()=>{B.destroy()}):w.push(M)}),this._queue=[],w.sort((M,B)=>{const J=M.transition.ast.depCount,re=B.transition.ast.depCount;return 0==J||0==re?J-re:this._engine.driver.containsElement(M.element,B.element)?1:-1})}destroy(v){this.players.forEach(w=>w.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,v)}elementContainsData(v){let w=!1;return this._elementListeners.has(v)&&(w=!0),w=!!this._queue.find(M=>M.element===v)||w,w}}class Zs{constructor(v,w,M){this.bodyNode=v,this.driver=w,this._normalizer=M,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(B,J)=>{}}_onRemovalComplete(v,w){this.onRemovalComplete(v,w)}get queuedPlayers(){const v=[];return this._namespaceList.forEach(w=>{w.players.forEach(M=>{M.queued&&v.push(M)})}),v}createNamespace(v,w){const M=new Vs(v,w,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,w)?this._balanceNamespaceList(M,w):(this.newHostElements.set(w,M),this.collectEnterElement(w)),this._namespaceLookup[v]=M}_balanceNamespaceList(v,w){const M=this._namespaceList,B=this.namespacesByHostElement;if(M.length-1>=0){let re=!1,Z=this.driver.getParentElement(w);for(;Z;){const fe=B.get(Z);if(fe){const rt=M.indexOf(fe);M.splice(rt+1,0,v),re=!0;break}Z=this.driver.getParentElement(Z)}re||M.unshift(v)}else M.push(v);return B.set(w,v),v}register(v,w){let M=this._namespaceLookup[v];return M||(M=this.createNamespace(v,w)),M}registerTrigger(v,w,M){let B=this._namespaceLookup[v];B&&B.register(w,M)&&this.totalAnimations++}destroy(v,w){if(!v)return;const M=this._fetchNamespace(v);this.afterFlush(()=>{this.namespacesByHostElement.delete(M.hostElement),delete this._namespaceLookup[v];const B=this._namespaceList.indexOf(M);B>=0&&this._namespaceList.splice(B,1)}),this.afterFlushAnimationsDone(()=>M.destroy(w))}_fetchNamespace(v){return this._namespaceLookup[v]}fetchNamespacesByElement(v){const w=new Set,M=this.statesByElement.get(v);if(M)for(let B of M.values())if(B.namespaceId){const J=this._fetchNamespace(B.namespaceId);J&&w.add(J)}return w}trigger(v,w,M,B){if(Br(w)){const J=this._fetchNamespace(v);if(J)return J.trigger(w,M,B),!0}return!1}insertNode(v,w,M,B){if(!Br(w))return;const J=w[Ur];if(J&&J.setForRemoval){J.setForRemoval=!1,J.setForMove=!0;const re=this.collectedLeaveElements.indexOf(w);re>=0&&this.collectedLeaveElements.splice(re,1)}if(v){const re=this._fetchNamespace(v);re&&re.insertNode(w,M)}B&&this.collectEnterElement(w)}collectEnterElement(v){this.collectedEnterElements.push(v)}markElementAsDisabled(v,w){w?this.disabledNodes.has(v)||(this.disabledNodes.add(v),yi(v,Mo)):this.disabledNodes.has(v)&&(this.disabledNodes.delete(v),Xr(v,Mo))}removeNode(v,w,M,B){if(Br(w)){const J=v?this._fetchNamespace(v):null;if(J?J.removeNode(w,B):this.markElementAsRemoved(v,w,!1,B),M){const re=this.namespacesByHostElement.get(w);re&&re.id!==v&&re.removeNode(w,B)}}else this._onRemovalComplete(w,B)}markElementAsRemoved(v,w,M,B,J){this.collectedLeaveElements.push(w),w[Ur]={namespaceId:v,setForRemoval:B,hasAnimation:M,removedBeforeQueried:!1,previousTriggersValues:J}}listen(v,w,M,B,J){return Br(w)?this._fetchNamespace(v).listen(w,M,B,J):()=>{}}_buildInstruction(v,w,M,B,J){return v.transition.build(this.driver,v.element,v.fromState.value,v.toState.value,M,B,v.fromState.options,v.toState.options,w,J)}destroyInnerAnimations(v){let w=this.driver.query(v,Ue,!0);w.forEach(M=>this.destroyActiveAnimationsForElement(M)),0!=this.playersByQueriedElement.size&&(w=this.driver.query(v,dt,!0),w.forEach(M=>this.finishActiveQueriedAnimationOnElement(M)))}destroyActiveAnimationsForElement(v){const w=this.playersByElement.get(v);w&&w.forEach(M=>{M.queued?M.markedForDestroy=!0:M.destroy()})}finishActiveQueriedAnimationOnElement(v){const w=this.playersByQueriedElement.get(v);w&&w.forEach(M=>M.finish())}whenRenderingDone(){return new Promise(v=>{if(this.players.length)return kr(this.players).onDone(()=>v());v()})}processLeaveNode(v){const w=v[Ur];if(w&&w.setForRemoval){if(v[Ur]=Wi,w.namespaceId){this.destroyInnerAnimations(v);const M=this._fetchNamespace(w.namespaceId);M&&M.clearElementCache(v)}this._onRemovalComplete(v,w.setForRemoval)}v.classList?.contains(Mo)&&this.markElementAsDisabled(v,!1),this.driver.query(v,".ng-animate-disabled",!0).forEach(M=>{this.markElementAsDisabled(M,!1)})}flush(v=-1){let w=[];if(this.newHostElements.size&&(this.newHostElements.forEach((M,B)=>this._balanceNamespaceList(M,B)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let M=0;M<this.collectedEnterElements.length;M++)yi(this.collectedEnterElements[M],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const M=[];try{w=this._flushAnimations(M,v)}finally{for(let B=0;B<M.length;B++)M[B]()}}else for(let M=0;M<this.collectedLeaveElements.length;M++)this.processLeaveNode(this.collectedLeaveElements[M]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(M=>M()),this._flushFns=[],this._whenQuietFns.length){const M=this._whenQuietFns;this._whenQuietFns=[],w.length?kr(w).onDone(()=>{M.forEach(B=>B())}):M.forEach(B=>B())}}reportError(v){throw function yn(U){return new j.vHH(3402,!1)}()}_flushAnimations(v,w){const M=new Ci,B=[],J=new Map,re=[],Z=new Map,fe=new Map,rt=new Map,qt=new Set;this.disabledNodes.forEach(Zt=>{qt.add(Zt);const tn=this.driver.query(Zt,".ng-animate-queued",!0);for(let wn=0;wn<tn.length;wn++)qt.add(tn[wn])});const an=this.bodyNode,xn=Array.from(this.statesByElement.keys()),Jn=hs(xn,this.collectedEnterElements),En=new Map;let kn=0;Jn.forEach((Zt,tn)=>{const wn=Ri+kn++;En.set(tn,wn),Zt.forEach(Un=>yi(Un,wn))});const Dr=[],Pr=new Set,Vi=new Set;for(let Zt=0;Zt<this.collectedLeaveElements.length;Zt++){const tn=this.collectedLeaveElements[Zt],wn=tn[Ur];wn&&wn.setForRemoval&&(Dr.push(tn),Pr.add(tn),wn.hasAnimation?this.driver.query(tn,".ng-star-inserted",!0).forEach(Un=>Pr.add(Un)):Vi.add(tn))}const cr=new Map,li=hs(xn,Array.from(Pr));li.forEach((Zt,tn)=>{const wn=ai+kn++;cr.set(tn,wn),Zt.forEach(Un=>yi(Un,wn))}),v.push(()=>{Jn.forEach((Zt,tn)=>{const wn=En.get(tn);Zt.forEach(Un=>Xr(Un,wn))}),li.forEach((Zt,tn)=>{const wn=cr.get(tn);Zt.forEach(Un=>Xr(Un,wn))}),Dr.forEach(Zt=>{this.processLeaveNode(Zt)})});const In=[],_i=[];for(let Zt=this._namespaceList.length-1;Zt>=0;Zt--)this._namespaceList[Zt].drainQueuedTransitions(w).forEach(wn=>{const Un=wn.player,Ui=wn.element;if(In.push(Un),this.collectedEnterElements.length){const Si=Ui[Ur];if(Si&&Si.setForMove){if(Si.previousTriggersValues&&Si.previousTriggersValues.has(wn.triggerName)){const Ki=Si.previousTriggersValues.get(wn.triggerName),Tr=this.statesByElement.get(wn.element);if(Tr&&Tr.has(wn.triggerName)){const We=Tr.get(wn.triggerName);We.value=Ki,Tr.set(wn.triggerName,We)}}return void Un.destroy()}}const xi=!an||!this.driver.containsElement(an,Ui),Ei=cr.get(Ui),Js=En.get(Ui),sr=this._buildInstruction(wn,M,Js,Ei,xi);if(sr.errors&&sr.errors.length)return void _i.push(sr);if(xi)return Un.onStart(()=>Ve(Ui,sr.fromStyles)),Un.onDestroy(()=>zn(Ui,sr.toStyles)),void B.push(Un);if(wn.isFallbackTransition)return Un.onStart(()=>Ve(Ui,sr.fromStyles)),Un.onDestroy(()=>zn(Ui,sr.toStyles)),void B.push(Un);const ka=[];sr.timelines.forEach(Si=>{Si.stretchStartingKeyframe=!0,this.disabledNodes.has(Si.element)||ka.push(Si)}),sr.timelines=ka,M.append(Ui,sr.timelines),re.push({instruction:sr,player:Un,element:Ui}),sr.queriedElements.forEach(Si=>ar(Z,Si,[]).push(Un)),sr.preStyleProps.forEach((Si,Ki)=>{if(Si.size){let Tr=fe.get(Ki);Tr||fe.set(Ki,Tr=new Set),Si.forEach((We,Ts)=>Tr.add(Ts))}}),sr.postStyleProps.forEach((Si,Ki)=>{let Tr=rt.get(Ki);Tr||rt.set(Ki,Tr=new Set),Si.forEach((We,Ts)=>Tr.add(Ts))})});if(_i.length){const Zt=[];_i.forEach(tn=>{Zt.push(function Cn(U,v){return new j.vHH(3505,!1)}())}),In.forEach(tn=>tn.destroy()),this.reportError(Zt)}const ci=new Map,rr=new Map;re.forEach(Zt=>{const tn=Zt.element;M.has(tn)&&(rr.set(tn,tn),this._beforeAnimationBuild(Zt.player.namespaceId,Zt.instruction,ci))}),B.forEach(Zt=>{const tn=Zt.element;this._getPreviousPlayers(tn,!1,Zt.namespaceId,Zt.triggerName,null).forEach(Un=>{ar(ci,tn,[]).push(Un),Un.destroy()})});const gn=Dr.filter(Zt=>ao(Zt,fe,rt)),ns=new Map;Po(ns,this.driver,Vi,rt,ie.l3).forEach(Zt=>{ao(Zt,fe,rt)&&gn.push(Zt)});const No=new Map;Jn.forEach((Zt,tn)=>{Po(No,this.driver,new Set(Zt),fe,ie.k1)}),gn.forEach(Zt=>{const tn=ns.get(Zt),wn=No.get(Zt);ns.set(Zt,new Map([...Array.from(tn?.entries()??[]),...Array.from(wn?.entries()??[])]))});const er=[],Ot=[],gs={};re.forEach(Zt=>{const{element:tn,player:wn,instruction:Un}=Zt;if(M.has(tn)){if(qt.has(tn))return wn.onDestroy(()=>zn(tn,Un.toStyles)),wn.disabled=!0,wn.overrideTotalTime(Un.totalTime),void B.push(wn);let Ui=gs;if(rr.size>1){let Ei=tn;const Js=[];for(;Ei=Ei.parentNode;){const sr=rr.get(Ei);if(sr){Ui=sr;break}Js.push(Ei)}Js.forEach(sr=>rr.set(sr,Ui))}const xi=this._buildAnimation(wn.namespaceId,Un,ci,J,No,ns);if(wn.setRealPlayer(xi),Ui===gs)er.push(wn);else{const Ei=this.playersByElement.get(Ui);Ei&&Ei.length&&(wn.parentPlayer=kr(Ei)),B.push(wn)}}else Ve(tn,Un.fromStyles),wn.onDestroy(()=>zn(tn,Un.toStyles)),Ot.push(wn),qt.has(tn)&&B.push(wn)}),Ot.forEach(Zt=>{const tn=J.get(Zt.element);if(tn&&tn.length){const wn=kr(tn);Zt.setRealPlayer(wn)}}),B.forEach(Zt=>{Zt.parentPlayer?Zt.syncPlayerEvents(Zt.parentPlayer):Zt.destroy()});for(let Zt=0;Zt<Dr.length;Zt++){const tn=Dr[Zt],wn=tn[Ur];if(Xr(tn,ai),wn&&wn.hasAnimation)continue;let Un=[];if(Z.size){let xi=Z.get(tn);xi&&xi.length&&Un.push(...xi);let Ei=this.driver.query(tn,dt,!0);for(let Js=0;Js<Ei.length;Js++){let sr=Z.get(Ei[Js]);sr&&sr.length&&Un.push(...sr)}}const Ui=Un.filter(xi=>!xi.destroyed);Ui.length?as(this,tn,Ui):this.processLeaveNode(tn)}return Dr.length=0,er.forEach(Zt=>{this.players.push(Zt),Zt.onDone(()=>{Zt.destroy();const tn=this.players.indexOf(Zt);this.players.splice(tn,1)}),Zt.play()}),er}elementContainsData(v,w){let M=!1;const B=w[Ur];return B&&B.setForRemoval&&(M=!0),this.playersByElement.has(w)&&(M=!0),this.playersByQueriedElement.has(w)&&(M=!0),this.statesByElement.has(w)&&(M=!0),this._fetchNamespace(v).elementContainsData(w)||M}afterFlush(v){this._flushFns.push(v)}afterFlushAnimationsDone(v){this._whenQuietFns.push(v)}_getPreviousPlayers(v,w,M,B,J){let re=[];if(w){const Z=this.playersByQueriedElement.get(v);Z&&(re=Z)}else{const Z=this.playersByElement.get(v);if(Z){const fe=!J||J==os;Z.forEach(rt=>{rt.queued||!fe&&rt.triggerName!=B||re.push(rt)})}}return(M||B)&&(re=re.filter(Z=>!(M&&M!=Z.namespaceId||B&&B!=Z.triggerName))),re}_beforeAnimationBuild(v,w,M){const J=w.element,re=w.isRemovalTransition?void 0:v,Z=w.isRemovalTransition?void 0:w.triggerName;for(const fe of w.timelines){const rt=fe.element,qt=rt!==J,an=ar(M,rt,[]);this._getPreviousPlayers(rt,qt,re,Z,w.toState).forEach(Jn=>{const En=Jn.getRealPlayer();En.beforeDestroy&&En.beforeDestroy(),Jn.destroy(),an.push(Jn)})}Ve(J,w.fromStyles)}_buildAnimation(v,w,M,B,J,re){const Z=w.triggerName,fe=w.element,rt=[],qt=new Set,an=new Set,xn=w.timelines.map(En=>{const kn=En.element;qt.add(kn);const Dr=kn[Ur];if(Dr&&Dr.removedBeforeQueried)return new ie.ZN(En.duration,En.delay);const Pr=kn!==fe,Vi=function oo(U){const v=[];return $t(U,v),v}((M.get(kn)||Ai).map(ci=>ci.getRealPlayer())).filter(ci=>!!ci.element&&ci.element===kn),cr=J.get(kn),li=re.get(kn),In=vr(0,this._normalizer,0,En.keyframes,cr,li),_i=this._buildPlayer(En,In,Vi);if(En.subTimeline&&B&&an.add(kn),Pr){const ci=new ds(v,Z,kn);ci.setRealPlayer(_i),rt.push(ci)}return _i});rt.forEach(En=>{ar(this.playersByQueriedElement,En.element,[]).push(En),En.onDone(()=>function pi(U,v,w){let M=U.get(v);if(M){if(M.length){const B=M.indexOf(w);M.splice(B,1)}0==M.length&&U.delete(v)}return M}(this.playersByQueriedElement,En.element,En))}),qt.forEach(En=>yi(En,Tt));const Jn=kr(xn);return Jn.onDestroy(()=>{qt.forEach(En=>Xr(En,Tt)),zn(fe,w.toStyles)}),an.forEach(En=>{ar(B,En,[]).push(Jn)}),Jn}_buildPlayer(v,w,M){return w.length>0?this.driver.animate(v.element,w,v.duration,v.delay,v.easing,M):new ie.ZN(v.duration,v.delay)}}class ds{constructor(v,w,M){this.namespaceId=v,this.triggerName=w,this.element=M,this._player=new ie.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(v){this._containsRealPlayer||(this._player=v,this._queuedCallbacks.forEach((w,M)=>{w.forEach(B=>ei(v,M,void 0,B))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(v.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(v){this.totalTime=v}syncPlayerEvents(v){const w=this._player;w.triggerCallback&&v.onStart(()=>w.triggerCallback("start")),v.onDone(()=>this.finish()),v.onDestroy(()=>this.destroy())}_queueEvent(v,w){ar(this._queuedCallbacks,v,[]).push(w)}onDone(v){this.queued&&this._queueEvent("done",v),this._player.onDone(v)}onStart(v){this.queued&&this._queueEvent("start",v),this._player.onStart(v)}onDestroy(v){this.queued&&this._queueEvent("destroy",v),this._player.onDestroy(v)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(v){this.queued||this._player.setPosition(v)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(v){const w=this._player;w.triggerCallback&&w.triggerCallback(v)}}function Br(U){return U&&1===U.nodeType}function ii(U,v){const w=U.style.display;return U.style.display=v??"none",w}function Po(U,v,w,M,B){const J=[];w.forEach(fe=>J.push(ii(fe)));const re=[];M.forEach((fe,rt)=>{const qt=new Map;fe.forEach(an=>{const xn=v.computeStyle(rt,an,B);qt.set(an,xn),(!xn||0==xn.length)&&(rt[Ur]=Ys,re.push(rt))}),U.set(rt,qt)});let Z=0;return w.forEach(fe=>ii(fe,J[Z++])),re}function hs(U,v){const w=new Map;if(U.forEach(Z=>w.set(Z,[])),0==v.length)return w;const B=new Set(v),J=new Map;function re(Z){if(!Z)return 1;let fe=J.get(Z);if(fe)return fe;const rt=Z.parentNode;return fe=w.has(rt)?rt:B.has(rt)?1:re(rt),J.set(Z,fe),fe}return v.forEach(Z=>{const fe=re(Z);1!==fe&&w.get(fe).push(Z)}),w}function yi(U,v){U.classList?.add(v)}function Xr(U,v){U.classList?.remove(v)}function as(U,v,w){kr(w).onDone(()=>U.processLeaveNode(v))}function $t(U,v){for(let w=0;w<U.length;w++){const M=U[w];M instanceof ie.ZE?$t(M.players,v):v.push(M)}}function ao(U,v,w){const M=w.get(U);if(!M)return!1;let B=v.get(U);return B?M.forEach(J=>B.add(J)):v.set(U,M),w.delete(U),!0}class uo{constructor(v,w,M){this.bodyNode=v,this._driver=w,this._normalizer=M,this._triggerCache={},this.onRemovalComplete=(B,J)=>{},this._transitionEngine=new Zs(v,w,M),this._timelineEngine=new es(v,w,M),this._transitionEngine.onRemovalComplete=(B,J)=>this.onRemovalComplete(B,J)}registerTrigger(v,w,M,B,J){const re=v+"-"+B;let Z=this._triggerCache[re];if(!Z){const fe=[],qt=at(this._driver,J,fe,[]);if(fe.length)throw function je(U,v){return new j.vHH(3404,!1)}();Z=function wo(U,v,w){return new Fs(U,v,w)}(B,qt,this._normalizer),this._triggerCache[re]=Z}this._transitionEngine.registerTrigger(w,B,Z)}register(v,w){this._transitionEngine.register(v,w)}destroy(v,w){this._transitionEngine.destroy(v,w)}onInsert(v,w,M,B){this._transitionEngine.insertNode(v,w,M,B)}onRemove(v,w,M,B){this._transitionEngine.removeNode(v,w,B||!1,M)}disableAnimations(v,w){this._transitionEngine.markElementAsDisabled(v,w)}process(v,w,M,B){if("@"==M.charAt(0)){const[J,re]=Gt(M);this._timelineEngine.command(J,w,re,B)}else this._transitionEngine.trigger(v,w,M,B)}listen(v,w,M,B,J){if("@"==M.charAt(0)){const[re,Z]=Gt(M);return this._timelineEngine.listen(re,w,Z,J)}return this._transitionEngine.listen(v,w,M,B,J)}flush(v=-1){this._transitionEngine.flush(v)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ta=(()=>{class U{constructor(w,M,B){this._element=w,this._startStyles=M,this._endStyles=B,this._state=0;let J=U.initialStylesByElement.get(w);J||U.initialStylesByElement.set(w,J=new Map),this._initialStyles=J}start(){this._state<1&&(this._startStyles&&zn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(zn(this._element,this._initialStyles),this._endStyles&&(zn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(U.initialStylesByElement.delete(this._element),this._startStyles&&(Ve(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ve(this._element,this._endStyles),this._endStyles=null),zn(this._element,this._initialStyles),this._state=3)}}return U.initialStylesByElement=new WeakMap,U})();function bs(U){let v=null;return U.forEach((w,M)=>{(function na(U){return"display"===U||"position"===U})(M)&&(v=v||new Map,v.set(M,w))}),v}class fs{constructor(v,w,M,B){this.element=v,this.keyframes=w,this.options=M,this._specialStyles=B,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=M.duration,this._delay=M.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const v=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,v,this.options),this._finalKeyframe=v.length?v[v.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(v){const w=[];return v.forEach(M=>{w.push(Object.fromEntries(M))}),w}_triggerWebAnimation(v,w,M){return v.animate(this._convertKeyframesToObject(w),M)}onStart(v){this._originalOnStartFns.push(v),this._onStartFns.push(v)}onDone(v){this._originalOnDoneFns.push(v),this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(v=>v()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}setPosition(v){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=v*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const v=new Map;this.hasStarted()&&this._finalKeyframe.forEach((M,B)=>{"offset"!==B&&v.set(B,this._finished?M:Ir(this.element,B))}),this.currentSnapshot=v}triggerCallback(v){const w="start"===v?this._onStartFns:this._onDoneFns;w.forEach(M=>M()),w.length=0}}class mt{validateStyleProperty(v){return!0}validateAnimatableStyleProperty(v){return!0}matchesElement(v,w){return!1}containsElement(v,w){return ur(v,w)}getParentElement(v){return fr(v)}query(v,w,M){return Yn(v,w,M)}computeStyle(v,w,M){return window.getComputedStyle(v)[w]}animate(v,w,M,B,J,re=[]){const fe={duration:M,delay:B,fill:0==B?"both":"forwards"};J&&(fe.easing=J);const rt=new Map,qt=re.filter(Jn=>Jn instanceof fs);(function vn(U,v){return 0===U||0===v})(M,B)&&qt.forEach(Jn=>{Jn.currentSnapshot.forEach((En,kn)=>rt.set(kn,En))});let an=function Ke(U){return U.length?U[0]instanceof Map?U:U.map(v=>it(v)):[]}(w).map(Jn=>on(Jn));an=function xr(U,v,w){if(w.size&&v.length){let M=v[0],B=[];if(w.forEach((J,re)=>{M.has(re)||B.push(re),M.set(re,J)}),B.length)for(let J=1;J<v.length;J++){let re=v[J];B.forEach(Z=>re.set(Z,Ir(U,Z)))}}return v}(v,an,rt);const xn=function Qs(U,v){let w=null,M=null;return Array.isArray(v)&&v.length?(w=bs(v[0]),v.length>1&&(M=bs(v[v.length-1]))):v instanceof Map&&(w=bs(v)),w||M?new ta(U,w,M):null}(v,an);return new fs(v,an,fe,xn)}}var _n=X(6895);let lo=(()=>{class U extends ie._j{constructor(w,M){super(),this._nextAnimationId=0,this._renderer=w.createRenderer(M.body,{id:"0",encapsulation:j.ifc.None,styles:[],data:{animation:[]}})}build(w){const M=this._nextAnimationId.toString();this._nextAnimationId++;const B=Array.isArray(w)?(0,ie.vP)(w):w;return k(this._renderer,null,M,"register",[B]),new co(M,this._renderer)}}return U.\u0275fac=function(w){return new(w||U)(j.LFG(j.FYo),j.LFG(_n.K0))},U.\u0275prov=j.Yz7({token:U,factory:U.\u0275fac}),U})();class co extends ie.LC{constructor(v,w){super(),this._id=v,this._renderer=w}create(v,w){return new F(this._id,v,w||{},this._renderer)}}class F{constructor(v,w,M,B){this.id=v,this.element=w,this._renderer=B,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",M)}_listen(v,w){return this._renderer.listen(this.element,`@@${this.id}:${v}`,w)}_command(v,...w){return k(this._renderer,this.element,this.id,v,w)}onDone(v){this._listen("done",v)}onStart(v){this._listen("start",v)}onDestroy(v){this._listen("destroy",v)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(v){this._command("setPosition",v)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function k(U,v,w,M,B){return U.setProperty(v,`@@${w}:${M}`,B)}const x="@",Y="@.disabled";let Ze=(()=>{class U{constructor(w,M,B){this.delegate=w,this.engine=M,this._zone=B,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),M.onRemovalComplete=(J,re)=>{const Z=re?.parentNode(J);Z&&re.removeChild(Z,J)}}createRenderer(w,M){const J=this.delegate.createRenderer(w,M);if(!(w&&M&&M.data&&M.data.animation)){let qt=this._rendererCache.get(J);return qt||(qt=new Wt("",J,this.engine),this._rendererCache.set(J,qt)),qt}const re=M.id,Z=M.id+"-"+this._currentId;this._currentId++,this.engine.register(Z,w);const fe=qt=>{Array.isArray(qt)?qt.forEach(fe):this.engine.registerTrigger(re,Z,w,qt.name,qt)};return M.data.animation.forEach(fe),new zr(this,Z,J,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(w,M,B){w>=0&&w<this._microtaskId?this._zone.run(()=>M(B)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(J=>{const[re,Z]=J;re(Z)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([M,B]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return U.\u0275fac=function(w){return new(w||U)(j.LFG(j.FYo),j.LFG(uo),j.LFG(j.R0b))},U.\u0275prov=j.Yz7({token:U,factory:U.\u0275fac}),U})();class Wt{constructor(v,w,M){this.namespaceId=v,this.delegate=w,this.engine=M,this.destroyNode=this.delegate.destroyNode?B=>w.destroyNode(B):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(v,w){return this.delegate.createElement(v,w)}createComment(v){return this.delegate.createComment(v)}createText(v){return this.delegate.createText(v)}appendChild(v,w){this.delegate.appendChild(v,w),this.engine.onInsert(this.namespaceId,w,v,!1)}insertBefore(v,w,M,B=!0){this.delegate.insertBefore(v,w,M),this.engine.onInsert(this.namespaceId,w,v,B)}removeChild(v,w,M){this.engine.onRemove(this.namespaceId,w,this.delegate,M)}selectRootElement(v,w){return this.delegate.selectRootElement(v,w)}parentNode(v){return this.delegate.parentNode(v)}nextSibling(v){return this.delegate.nextSibling(v)}setAttribute(v,w,M,B){this.delegate.setAttribute(v,w,M,B)}removeAttribute(v,w,M){this.delegate.removeAttribute(v,w,M)}addClass(v,w){this.delegate.addClass(v,w)}removeClass(v,w){this.delegate.removeClass(v,w)}setStyle(v,w,M,B){this.delegate.setStyle(v,w,M,B)}removeStyle(v,w,M){this.delegate.removeStyle(v,w,M)}setProperty(v,w,M){w.charAt(0)==x&&w==Y?this.disableAnimations(v,!!M):this.delegate.setProperty(v,w,M)}setValue(v,w){this.delegate.setValue(v,w)}listen(v,w,M){return this.delegate.listen(v,w,M)}disableAnimations(v,w){this.engine.disableAnimations(v,w)}}class zr extends Wt{constructor(v,w,M,B){super(w,M,B),this.factory=v,this.namespaceId=w}setProperty(v,w,M){w.charAt(0)==x?"."==w.charAt(1)&&w==Y?this.disableAnimations(v,M=void 0===M||!!M):this.engine.process(this.namespaceId,v,w.slice(1),M):this.delegate.setProperty(v,w,M)}listen(v,w,M){if(w.charAt(0)==x){const B=function ts(U){switch(U){case"body":return document.body;case"document":return document;case"window":return window;default:return U}}(v);let J=w.slice(1),re="";return J.charAt(0)!=x&&([J,re]=function Bs(U){const v=U.indexOf(".");return[U.substring(0,v),U.slice(v+1)]}(J)),this.engine.listen(this.namespaceId,B,J,re,Z=>{this.factory.scheduleListenerCallback(Z._data||-1,M,Z)})}return this.delegate.listen(v,w,M)}}const Xs=[{provide:ie._j,useClass:lo},{provide:Wo,useFactory:function gi(){return new ws}},{provide:uo,useClass:(()=>{class U extends uo{constructor(w,M,B,J){super(w.body,M,B)}ngOnDestroy(){this.flush()}}return U.\u0275fac=function(w){return new(w||U)(j.LFG(_n.K0),j.LFG(fi),j.LFG(Wo),j.LFG(j.z2F))},U.\u0275prov=j.Yz7({token:U,factory:U.\u0275fac}),U})()},{provide:j.FYo,useFactory:function vi(U,v,w){return new Ze(U,v,w)},deps:[f.se,uo,j.R0b]}],Ti=[{provide:fi,useFactory:()=>new mt},{provide:j.QbO,useValue:"BrowserAnimations"},...Xs],$s=[{provide:fi,useClass:Hn},{provide:j.QbO,useValue:"NoopAnimations"},...Xs];let ho=(()=>{class U{static withConfig(w){return{ngModule:U,providers:w.disableAnimations?$s:Ti}}}return U.\u0275fac=function(w){return new(w||U)},U.\u0275mod=j.oAB({type:U}),U.\u0275inj=j.cJS({providers:Ti,imports:[f.b2]}),U})();var Do=X(4325),qo=X(8393),A=X(9635),$=X(4004),R=X(5698);X(5867);const Ee=(0,$.U)(U=>!!U);let et=(()=>{class U{constructor(w,M){this.router=w,this.auth=M,this.canActivate=(B,J)=>{const re=B.data.authGuardPipe||(()=>Ee);return(0,me.EA)(this.auth).pipe((0,R.q)(1),re(B,J),(0,$.U)(Z=>"boolean"==typeof Z?Z:Array.isArray(Z)?this.router.createUrlTree(Z):this.router.parseUrl(Z)))}}}return U.\u0275fac=function(w){return new(w||U)(j.LFG(qo.F0),j.LFG(me.gx))},U.\u0275prov=j.Yz7({token:U,factory:U.\u0275fac,providedIn:"any"}),U})();const ct=U=>({canActivate:[et],data:{authGuardPipe:U}}),Or=[{path:"",loadComponent:()=>Promise.all([X.e(528),X.e(906)]).then(X.bind(X,4906)).then(U=>U.DashboardComponent),...ct(()=>{return U=["login"],(0,A.z)(Ee,(0,$.U)(v=>v||U));var U})},{path:"login",loadComponent:()=>Promise.all([X.e(528),X.e(458)]).then(X.bind(X,8458)).then(U=>U.LoginComponent),...ct(()=>{return U=[""],(0,A.z)(Ee,(0,$.U)(v=>v&&U||!0));var U})}];let Li=(()=>{class U{}return U.\u0275fac=function(w){return new(w||U)},U.\u0275mod=j.oAB({type:U}),U.\u0275inj=j.cJS({imports:[qo.Bz.forRoot(Or),qo.Bz]}),U})();var qi=X(270);let Cs=(()=>{class U{constructor(w){this.firestore=w,this.email="turangr@gmail.com",this.password="D3rb1sh1r3"}login(){const w=(0,qi.v0)();(0,qi.e5)(w,this.email,this.password).then(M=>{const J=(0,z.hJ)(this.firestore,"heartRate");(0,z.BS)(J).subscribe(re=>console.log(re.map(Z=>Z.date.toDate())))}).catch(M=>{})}}return U.\u0275fac=function(w){return new(w||U)(j.Y36(z.gg))},U.\u0275cmp=j.Xpm({type:U,selectors:[["app-root"]],decls:1,vars:0,template:function(w,M){1&w&&j._UZ(0,"router-outlet")},dependencies:[qo.lC]}),U})(),Ro=(()=>{class U{}return U.\u0275fac=function(w){return new(w||U)},U.\u0275mod=j.oAB({type:U,bootstrap:[Cs]}),U.\u0275inj=j.cJS({imports:[f.b2,ho,Do.DL,de.u5,Li,(0,be.hX)(()=>(0,be.ZF)({apiKey:"AIzaSyDsF2WktxElNwaCXjg26IXuKCUnA83WK68",authDomain:"ta-metrics.firebaseapp.com",databaseURL:"https://ta-metrics-default-rtdb.europe-west1.firebasedatabase.app",projectId:"ta-metrics",storageBucket:"ta-metrics.appspot.com",messagingSenderId:"534795041184",appId:"1:534795041184:web:80dbef0d0113c0fe7a4cc5"})),(0,z.Cm)(()=>(0,z.ad)()),(0,me.AR)(()=>(0,me.v0)())]}),U})();(0,j.G48)(),f.q6().bootstrapModule(Ro).catch(U=>console.error(U))},5867:(fn,ut,X)=>{X.d(ut,{C6:()=>f.C6,KN:()=>f.KN,Mq:()=>f.Mq,ZF:()=>f.ZF});var f=X(9681);(0,f.KN)("firebase","9.12.1","app")},270:(fn,ut,X)=>{X.d(ut,{Xb:()=>F,v0:()=>Mh,MX:()=>Xn,e5:()=>x,w7:()=>Or});var f=X(5861),j=X(2090),be=X(9681),me=X(1877),z=X(655),de=X(4859);const pt=function tt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},St=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),kt=new me.Yd("@firebase/auth");function Ft(D,...h){kt.logLevel<=me.in.ERROR&&kt.error(`Auth (${be.Jn}): ${D}`,...h)}function _t(D,...h){throw lt(D,...h)}function ce(D,...h){return lt(D,...h)}function De(D,h,g){const C=Object.assign(Object.assign({},pt()),{[h]:g});return new j.LL("auth","Firebase",C).create(h,{appName:D.name})}function lt(D,...h){if("string"!=typeof D){const g=h[0],C=[...h.slice(1)];return C[0]&&(C[0].appName=D.name),D._errorFactory.create(g,...C)}return St.create(D,...h)}function Ie(D,h,...g){if(!D)throw lt(h,...g)}function Re(D){const h="INTERNAL ASSERTION FAILED: "+D;throw Ft(h),new Error(h)}function st(D,h){D||Re(h)}const Ce=new Map;function Pe(D){st(D instanceof Function,"Expected a class definition");let h=Ce.get(D);return h?(st(h instanceof D,"Instance stored in cache mismatched with class"),h):(h=new D,Ce.set(D,h),h)}function je(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function Ae(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class Rt{constructor(h,g){this.shortDelay=h,this.longDelay=g,st(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function ot(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function He(){return"http:"===Ae()||"https:"===Ae()}()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function en(D,h){st(D.emulator,"Emulator should always be set here");const{url:g}=D.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class bn{static initialize(h,g,C){this.fetchImpl=h,g&&(this.headersImpl=g),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Wn=new Rt(3e4,6e4);function yn(D,h){return D.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:D.tenantId}):h}function dn(D,h,g,C){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,f.Z)(function*(D,h,g,C,q={}){return cn(D,q,(0,f.Z)(function*(){let ee={},ze={};C&&("GET"===h?ze=C:ee={body:JSON.stringify(C)});const yt=(0,j.xO)(Object.assign({key:D.config.apiKey},ze)).slice(1),sn=yield D._getAdditionalHeaders();return sn["Content-Type"]="application/json",D.languageCode&&(sn["X-Firebase-Locale"]=D.languageCode),bn.fetch()(vr(D,D.config.apiHost,g,yt),Object.assign({method:h,headers:sn,referrerPolicy:"no-referrer"},ee))}))})).apply(this,arguments)}function cn(D,h,g){return qr.apply(this,arguments)}function qr(){return(qr=(0,f.Z)(function*(D,h,g){D._canInitEmulator=!1;const C=Object.assign(Object.assign({},nn),h);try{const q=new ei(D),ee=yield Promise.race([g(),q.promise]);q.clearNetworkTimeout();const ze=yield ee.json();if("needConfirmation"in ze)throw wr(D,"account-exists-with-different-credential",ze);if(ee.ok&&!("errorMessage"in ze))return ze;{const yt=ee.ok?ze.errorMessage:ze.error.message,[sn,Qt]=yt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===sn)throw wr(D,"credential-already-in-use",ze);if("EMAIL_EXISTS"===sn)throw wr(D,"email-already-in-use",ze);if("USER_DISABLED"===sn)throw wr(D,"user-disabled",ze);const Xt=C[sn]||sn.toLowerCase().replace(/[_\s]+/g,"-");if(Qt)throw De(D,Xt,Qt);_t(D,Xt)}}catch(q){if(q instanceof j.ZR)throw q;_t(D,"network-request-failed")}})).apply(this,arguments)}function or(D,h,g,C){return kr.apply(this,arguments)}function kr(){return(kr=(0,f.Z)(function*(D,h,g,C,q={}){const ee=yield dn(D,h,g,C,q);return"mfaPendingCredential"in ee&&_t(D,"multi-factor-auth-required",{_serverResponse:ee}),ee})).apply(this,arguments)}function vr(D,h,g,C){const q=`${h}${g}?${C}`;return D.config.emulator?en(D.config,q):`${D.config.apiScheme}://${q}`}class ei{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,C)=>{this.timer=setTimeout(()=>C(ce(this.auth,"network-request-failed")),Wn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wr(D,h,g){const C={appName:D.name};g.email&&(C.email=g.email),g.phoneNumber&&(C.phoneNumber=g.phoneNumber);const q=ce(D,h,C);return q.customData._tokenResponse=g,q}function ar(){return(ar=(0,f.Z)(function*(D,h){return dn(D,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Ar(D,h){return br.apply(this,arguments)}function br(){return(br=(0,f.Z)(function*(D,h){return dn(D,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function fr(D){if(D)try{const h=new Date(Number(D));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Mr(){return(Mr=(0,f.Z)(function*(D,h=!1){const g=(0,j.m9)(D),C=yield g.getIdToken(h),q=jt(C);Ie(q&&q.exp&&q.auth_time&&q.iat,g.auth,"internal-error");const ee="object"==typeof q.firebase?q.firebase:void 0,ze=ee?.sign_in_provider;return{claims:q,token:C,authTime:fr(xt(q.auth_time)),issuedAtTime:fr(xt(q.iat)),expirationTime:fr(xt(q.exp)),signInProvider:ze||null,signInSecondFactor:ee?.sign_in_second_factor||null}})).apply(this,arguments)}function xt(D){return 1e3*Number(D)}function jt(D){var h;const[g,C,q]=D.split(".");if(void 0===g||void 0===C||void 0===q)return Ft("JWT malformed, contained fewer than 3 sections"),null;try{const ee=(0,j.tV)(C);return ee?JSON.parse(ee):(Ft("Failed to decode base64 JWT payload"),null)}catch(ee){return Ft("Caught error parsing JWT payload as JSON",null===(h=ee)||void 0===h?void 0:h.toString()),null}}function pn(D,h){return ur.apply(this,arguments)}function ur(){return(ur=(0,f.Z)(function*(D,h,g=!1){if(g)return h;try{return yield h}catch(C){throw C instanceof j.ZR&&Yn(C)&&D.auth.currentUser===D&&(yield D.auth.signOut()),C}})).apply(this,arguments)}function Yn({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class Zr{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const q=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,q)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const C=this.getInterval(h);this.timerId=setTimeout((0,f.Z)(function*(){yield g.iteration()}),C)}iteration(){var h=this;return(0,f.Z)(function*(){var g;try{yield h.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(g=C)||void 0===g?void 0:g.code)&&h.schedule(!0))}h.schedule()})()}}class Hn{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=fr(this.lastLoginAt),this.creationTime=fr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fi(D){return tr.apply(this,arguments)}function tr(){return(tr=(0,f.Z)(function*(D){var h;const g=D.auth,C=yield D.getIdToken(),q=yield pn(D,Ar(g,{idToken:C}));Ie(q?.users.length,g,"internal-error");const ee=q.users[0];D._notifyReloadListener(ee);const ze=null!==(h=ee.providerUserInfo)&&void 0!==h&&h.length?ai(ee.providerUserInfo):[],yt=Ri(D.providerData,ze),Xt=!!D.isAnonymous&&!(D.email&&ee.passwordHash||yt?.length),Yr={uid:ee.localId,displayName:ee.displayName||null,photoURL:ee.photoUrl||null,email:ee.email||null,emailVerified:ee.emailVerified||!1,phoneNumber:ee.phoneNumber||null,tenantId:ee.tenantId||null,providerData:yt,metadata:new Hn(ee.createdAt,ee.lastLoginAt),isAnonymous:Xt};Object.assign(D,Yr)})).apply(this,arguments)}function ln(){return(ln=(0,f.Z)(function*(D){const h=(0,j.m9)(D);yield fi(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Ri(D,h){return[...D.filter(C=>!h.some(q=>q.providerId===C.providerId)),...h]}function ai(D){return D.map(h=>{var{providerId:g}=h,C=(0,z._T)(h,["providerId"]);return{providerId:g,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Ue(){return(Ue=(0,f.Z)(function*(D,h){const g=yield cn(D,{},(0,f.Z)(function*(){const C=(0,j.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:q,apiKey:ee}=D.config,ze=vr(D,q,"/v1/token",`key=${ee}`),yt=yield D._getAdditionalHeaders();return yt["Content-Type"]="application/x-www-form-urlencoded",bn.fetch()(ze,{method:"POST",headers:yt,body:C})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Tt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Ie(h.idToken,"internal-error"),Ie(typeof h.idToken<"u","internal-error"),Ie(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function un(D){const h=jt(D);return Ie(h,"internal-error"),Ie(typeof h.exp<"u","internal-error"),Ie(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}getToken(h,g=!1){var C=this;return(0,f.Z)(function*(){return Ie(!C.accessToken||C.refreshToken,h,"user-token-expired"),g||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(h,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var C=this;return(0,f.Z)(function*(){const{accessToken:q,refreshToken:ee,expiresIn:ze}=yield function Et(D,h){return Ue.apply(this,arguments)}(h,g);C.updateTokensAndExpiration(q,ee,Number(ze))})()}updateTokensAndExpiration(h,g,C){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(h,g){const{refreshToken:C,accessToken:q,expirationTime:ee}=g,ze=new Tt;return C&&(Ie("string"==typeof C,"internal-error",{appName:h}),ze.refreshToken=C),q&&(Ie("string"==typeof q,"internal-error",{appName:h}),ze.accessToken=q),ee&&(Ie("number"==typeof ee,"internal-error",{appName:h}),ze.expirationTime=ee),ze}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Tt,this.toJSON())}_performRefresh(){return Re("not implemented")}}function dt(D,h){Ie("string"==typeof D||typeof D>"u","internal-error",{appName:h})}class Mt{constructor(h){var{uid:g,auth:C,stsTokenManager:q}=h,ee=(0,z._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=C,this.stsTokenManager=q,this.accessToken=q.accessToken,this.displayName=ee.displayName||null,this.email=ee.email||null,this.emailVerified=ee.emailVerified||!1,this.phoneNumber=ee.phoneNumber||null,this.photoURL=ee.photoURL||null,this.isAnonymous=ee.isAnonymous||!1,this.tenantId=ee.tenantId||null,this.providerData=ee.providerData?[...ee.providerData]:[],this.metadata=new Hn(ee.createdAt||void 0,ee.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,f.Z)(function*(){const C=yield pn(g,g.stsTokenManager.getToken(g.auth,h));return Ie(C,g.auth,"internal-error"),g.accessToken!==C&&(g.accessToken=C,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),C})()}getIdTokenResult(h){return function _r(D){return Mr.apply(this,arguments)}(this,h)}reload(){return function ti(D){return ln.apply(this,arguments)}(this)}_assign(h){this!==h&&(Ie(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new Mt(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var C=this;return(0,f.Z)(function*(){let q=!1;h.idToken&&h.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(h),q=!0),g&&(yield fi(C)),yield C.auth._persistUserIfCurrent(C),q&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var h=this;return(0,f.Z)(function*(){const g=yield h.getIdToken();return yield pn(h,function Rr(D,h){return ar.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var C,q,ee,ze,yt,sn,Qt,Xt;const Yr=null!==(C=g.displayName)&&void 0!==C?C:void 0,To=null!==(q=g.email)&&void 0!==q?q:void 0,go=null!==(ee=g.phoneNumber)&&void 0!==ee?ee:void 0,qu=null!==(ze=g.photoURL)&&void 0!==ze?ze:void 0,mo=null!==(yt=g.tenantId)&&void 0!==yt?yt:void 0,cc=null!==(sn=g._redirectEventId)&&void 0!==sn?sn:void 0,Ku=null!==(Qt=g.createdAt)&&void 0!==Qt?Qt:void 0,ud=null!==(Xt=g.lastLoginAt)&&void 0!==Xt?Xt:void 0,{uid:Uo,emailVerified:Yu,isAnonymous:Zu,providerData:ld,stsTokenManager:dc}=g;Ie(Uo&&dc,h,"internal-error");const dr=Tt.fromJSON(this.name,dc);Ie("string"==typeof Uo,h,"internal-error"),dt(Yr,h.name),dt(To,h.name),Ie("boolean"==typeof Yu,h,"internal-error"),Ie("boolean"==typeof Zu,h,"internal-error"),dt(go,h.name),dt(qu,h.name),dt(mo,h.name),dt(cc,h.name),dt(Ku,h.name),dt(ud,h.name);const hc=new Mt({uid:Uo,auth:h,email:To,emailVerified:Yu,displayName:Yr,isAnonymous:Zu,photoURL:qu,phoneNumber:go,tenantId:mo,stsTokenManager:dr,createdAt:Ku,lastLoginAt:ud});return ld&&Array.isArray(ld)&&(hc.providerData=ld.map(Cl=>Object.assign({},Cl))),cc&&(hc._redirectEventId=cc),hc}static _fromIdTokenResponse(h,g,C=!1){return(0,f.Z)(function*(){const q=new Tt;q.updateFromServerResponse(g);const ee=new Mt({uid:g.localId,auth:h,stsTokenManager:q,isAnonymous:C});return yield fi(ee),ee})()}}const ye=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(g,C){var q=this;return(0,f.Z)(function*(){q.storage[g]=C})()}_get(g){var C=this;return(0,f.Z)(function*(){const q=C.storage[g];return void 0===q?null:q})()}_remove(g){var C=this;return(0,f.Z)(function*(){delete C.storage[g]})()}_addListener(g,C){}_removeListener(g,C){}}return D.type="NONE",D})();function pe(D,h,g){return`firebase:${D}:${h}:${g}`}class Te{constructor(h,g,C){this.persistence=h,this.auth=g,this.userKey=C;const{config:q,name:ee}=this.auth;this.fullUserKey=pe(this.userKey,q.apiKey,ee),this.fullPersistenceKey=pe("persistence",q.apiKey,ee),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,f.Z)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?Mt._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,f.Z)(function*(){if(g.persistence===h)return;const C=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,C?g.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,C="authUser"){return(0,f.Z)(function*(){if(!g.length)return new Te(Pe(ye),h,C);const q=(yield Promise.all(g.map(function(){var Qt=(0,f.Z)(function*(Xt){if(yield Xt._isAvailable())return Xt});return function(Xt){return Qt.apply(this,arguments)}}()))).filter(Qt=>Qt);let ee=q[0]||Pe(ye);const ze=pe(C,h.config.apiKey,h.name);let yt=null;for(const Qt of g)try{const Xt=yield Qt._get(ze);if(Xt){const Yr=Mt._fromJSON(h,Xt);Qt!==ee&&(yt=Yr),ee=Qt;break}}catch{}const sn=q.filter(Qt=>Qt._shouldAllowMigration);return ee._shouldAllowMigration&&sn.length?(ee=sn[0],yt&&(yield ee._set(ze,yt.toJSON())),yield Promise.all(g.map(function(){var Qt=(0,f.Z)(function*(Xt){if(Xt!==ee)try{yield Xt._remove(ze)}catch{}});return function(Xt){return Qt.apply(this,arguments)}}())),new Te(ee,h,C)):new Te(ee,h,C)})()}}function it(D){const h=D.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Ln(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Ke(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(zn(h))return"Blackberry";if(Ve(h))return"Webos";if(Lt(h))return"Safari";if((h.includes("chrome/")||on(h))&&!h.includes("edge/"))return"Chrome";if(Fr(h))return"Android";{const C=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function Ke(D=(0,j.z$)()){return/firefox\//i.test(D)}function Lt(D=(0,j.z$)()){const h=D.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function on(D=(0,j.z$)()){return/crios\//i.test(D)}function Ln(D=(0,j.z$)()){return/iemobile/i.test(D)}function Fr(D=(0,j.z$)()){return/android/i.test(D)}function zn(D=(0,j.z$)()){return/blackberry/i.test(D)}function Ve(D=(0,j.z$)()){return/webos/i.test(D)}function ve(D=(0,j.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function nt(D=(0,j.z$)()){return ve(D)||Fr(D)||Ve(D)||zn(D)||/windows phone/i.test(D)||Ln(D)}function zt(D,h=[]){let g;switch(D){case"Browser":g=it((0,j.z$)());break;case"Worker":g=`${it((0,j.z$)())}-${D}`;break;default:g=D}const C=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${be.Jn}/${C}`}class gt{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const C=ee=>new Promise((ze,yt)=>{try{ze(h(ee))}catch(sn){yt(sn)}});C.onAbort=g,this.queue.push(C);const q=this.queue.length-1;return()=>{this.queue[q]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,f.Z)(function*(){var C;if(g.auth.currentUser===h)return;const q=[];try{for(const ee of g.queue)yield ee(h),ee.onAbort&&q.push(ee.onAbort)}catch(ee){q.reverse();for(const ze of q)try{ze()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=ee)||void 0===C?void 0:C.message})}})()}}class rn{constructor(h,g,C){this.app=h,this.heartbeatServiceProvider=g,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xr(this),this.idTokenSubscription=new xr(this),this.beforeStateQueue=new gt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=St,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(h,g){var C=this;return g&&(this._popupRedirectResolver=Pe(g)),this._initializationPromise=this.queue((0,f.Z)(function*(){var q,ee;if(!C._deleted&&(C.persistenceManager=yield Te.create(C,h),!C._deleted)){if(null!==(q=C._popupRedirectResolver)&&void 0!==q&&q._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(g),C.lastNotifiedUid=(null===(ee=C.currentUser)||void 0===ee?void 0:ee.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,f.Z)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUser(h){var g=this;return(0,f.Z)(function*(){var C;const q=yield g.assertedPersistence.getCurrentUser();let ee=q,ze=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const yt=null===(C=g.redirectUser)||void 0===C?void 0:C._redirectEventId,sn=ee?._redirectEventId,Qt=yield g.tryRedirectSignIn(h);(!yt||yt===sn)&&Qt?.user&&(ee=Qt.user,ze=!0)}if(!ee)return g.directlySetCurrentUser(null);if(!ee._redirectEventId){if(ze)try{yield g.beforeStateQueue.runMiddleware(ee)}catch(yt){ee=q,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(yt))}return ee?g.reloadAndSetCurrentUserOrClear(ee):g.directlySetCurrentUser(null)}return Ie(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===ee._redirectEventId?g.directlySetCurrentUser(ee):g.reloadAndSetCurrentUserOrClear(ee)})()}tryRedirectSignIn(h){var g=this;return(0,f.Z)(function*(){let C=null;try{C=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,f.Z)(function*(){var C;try{yield fi(h)}catch(q){if("auth/network-request-failed"!==(null===(C=q)||void 0===C?void 0:C.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function At(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var h=this;return(0,f.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,f.Z)(function*(){const C=h?(0,j.m9)(h):null;return C&&Ie(C.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(C&&C._clone(g))})()}_updateCurrentUser(h,g=!1){var C=this;return(0,f.Z)(function*(){if(!C._deleted)return h&&Ie(C.tenantId===h.tenantId,C,"tenant-id-mismatch"),g||(yield C.beforeStateQueue.runMiddleware(h)),C.queue((0,f.Z)(function*(){yield C.directlySetCurrentUser(h),C.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,f.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var g=this;return this.queue((0,f.Z)(function*(){yield g.assertedPersistence.setPersistence(Pe(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new j.LL("auth","Firebase",h())}onAuthStateChanged(h,g,C){return this.registerStateListener(this.authStateSubscription,h,g,C)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,C){return this.registerStateListener(this.idTokenSubscription,h,g,C)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var C=this;return(0,f.Z)(function*(){const q=yield C.getOrInitRedirectPersistenceManager(g);return null===h?q.removeCurrentUser():q.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,f.Z)(function*(){if(!g.redirectPersistenceManager){const C=h&&Pe(h)||g._popupRedirectResolver;Ie(C,g,"argument-error"),g.redirectPersistenceManager=yield Te.create(g,[Pe(C._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,f.Z)(function*(){var C,q;return g._isInitialized&&(yield g.queue((0,f.Z)(function*(){}))),(null===(C=g._currentUser)||void 0===C?void 0:C._redirectEventId)===h?g._currentUser:(null===(q=g.redirectUser)||void 0===q?void 0:q._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,f.Z)(function*(){if(h===g.currentUser)return g.queue((0,f.Z)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,C,q){if(this._deleted)return()=>{};const ee="function"==typeof g?g:g.next.bind(g),ze=this._isInitialized?Promise.resolve():this._initializationPromise;return Ie(ze,this,"internal-error"),ze.then(()=>ee(this.currentUser)),"function"==typeof g?h.addObserver(g,C,q):h.addObserver(g)}directlySetCurrentUser(h){var g=this;return(0,f.Z)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=zt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,f.Z)(function*(){var g;const C={"X-Client-Version":h.clientVersion};h.app.options.appId&&(C["X-Firebase-gmpid"]=h.app.options.appId);const q=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return q&&(C["X-Firebase-Client"]=q),C})()}}function vn(D){return(0,j.m9)(D)}class xr{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,j.ne)(g=>this.observer=g)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ir(D){const h=D.indexOf(":");return h<0?"":D.substr(0,h+1)}function lr(D){if(!D)return null;const h=Number(D);return isNaN(h)?null:h}class ui{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return Re("not implemented")}_getIdTokenResponse(h){return Re("not implemented")}_linkToIdToken(h,g){return Re("not implemented")}_getReauthenticationResolver(h){return Re("not implemented")}}function bi(){return(bi=(0,f.Z)(function*(D,h){return dn(D,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ri(){return(ri=(0,f.Z)(function*(D,h){return or(D,"POST","/v1/accounts:signInWithPassword",yn(D,h))})).apply(this,arguments)}function Vr(){return(Vr=(0,f.Z)(function*(D,h){return or(D,"POST","/v1/accounts:signInWithEmailLink",yn(D,h))})).apply(this,arguments)}function Gr(){return(Gr=(0,f.Z)(function*(D,h){return or(D,"POST","/v1/accounts:signInWithEmailLink",yn(D,h))})).apply(this,arguments)}class Qn extends ui{constructor(h,g,C,q=null){super("password",C),this._email=h,this._password=g,this._tenantId=q}static _fromEmailAndPassword(h,g){return new Qn(h,g,"password")}static _fromEmailAndCode(h,g,C=null){return new Qn(h,g,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,f.Z)(function*(){switch(g.signInMethod){case"password":return function ji(D,h){return ri.apply(this,arguments)}(h,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function jr(D,h){return Vr.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:_t(h,"internal-error")}})()}_linkToIdToken(h,g){var C=this;return(0,f.Z)(function*(){switch(C.signInMethod){case"password":return function Ns(D,h){return bi.apply(this,arguments)}(h,{idToken:g,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function vs(D,h){return Gr.apply(this,arguments)}(h,{idToken:g,email:C._email,oobCode:C._password});default:_t(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Ci(D,h){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,f.Z)(function*(D,h){return or(D,"POST","/v1/accounts:signInWithIdp",yn(D,h))})).apply(this,arguments)}class Gi{constructor(h){var g,C,q,ee,ze,yt;const sn=(0,j.zd)((0,j.pd)(h)),Qt=null!==(g=sn.apiKey)&&void 0!==g?g:null,Xt=null!==(C=sn.oobCode)&&void 0!==C?C:null,Yr=function Da(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(q=sn.mode)&&void 0!==q?q:null);Ie(Qt&&Xt&&Yr,"argument-error"),this.apiKey=Qt,this.operation=Yr,this.code=Xt,this.continueUrl=null!==(ee=sn.continueUrl)&&void 0!==ee?ee:null,this.languageCode=null!==(ze=sn.languageCode)&&void 0!==ze?ze:null,this.tenantId=null!==(yt=sn.tenantId)&&void 0!==yt?yt:null}static parseLink(h){const g=function Wo(D){const h=(0,j.zd)((0,j.pd)(D)).link,g=h?(0,j.zd)((0,j.pd)(h)).deep_link_id:null,C=(0,j.zd)((0,j.pd)(D)).deep_link_id;return(C?(0,j.zd)((0,j.pd)(C)).link:null)||C||g||h||D}(h);try{return new Gi(g)}catch{return null}}}let ws=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(g,C){return Qn._fromEmailAndPassword(g,C)}static credentialWithLink(g,C){const q=Gi.parseLink(C);return Ie(q,"argument-error"),Qn._fromEmailAndCode(g,q.code,q.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class ki{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Fi extends ki{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}function Io(D,h){return es.apply(this,arguments)}function es(){return(es=(0,f.Z)(function*(D,h){return or(D,"POST","/v1/accounts:signUp",yn(D,h))})).apply(this,arguments)}class Qr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,C,q=!1){return(0,f.Z)(function*(){const ee=yield Mt._fromIdTokenResponse(h,C,q),ze=io(C);return new Qr({user:ee,providerId:ze,_tokenResponse:C,operationType:g})})()}static _forOperation(h,g,C){return(0,f.Z)(function*(){yield h._updateTokensIfNecessary(C,!0);const q=io(C);return new Qr({user:h,providerId:q,_tokenResponse:C,operationType:g})})()}}function io(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}class Ds extends j.ZR{constructor(h,g,C,q){var ee;super(g.code,g.message),this.operationType=C,this.user=q,Object.setPrototypeOf(this,Ds.prototype),this.customData={appName:h.name,tenantId:null!==(ee=h.tenantId)&&void 0!==ee?ee:void 0,_serverResponse:g.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(h,g,C,q){return new Ds(h,g,C,q)}}function xo(D,h,g,C){return("reauthenticate"===h?g._getReauthenticationResolver(D):g._getIdTokenResponse(D)).catch(ee=>{throw"auth/multi-factor-auth-required"===ee.code?Ds._fromErrorAndOperation(D,ee,h,C):ee})}function Ur(D,h){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,f.Z)(function*(D,h,g=!1){const C=yield pn(D,h._linkToIdToken(D.auth,yield D.getIdToken()),g);return Qr._forOperation(D,"link",C)})).apply(this,arguments)}function Zs(){return(Zs=(0,f.Z)(function*(D,h,g=!1){var C;const{auth:q}=D,ee="reauthenticate";try{const ze=yield pn(D,xo(q,ee,h,D),g);Ie(ze.idToken,q,"internal-error");const yt=jt(ze.idToken);Ie(yt,q,"internal-error");const{sub:sn}=yt;return Ie(D.uid===sn,q,"user-mismatch"),Qr._forOperation(D,ee,ze)}catch(ze){throw"auth/user-not-found"===(null===(C=ze)||void 0===C?void 0:C.code)&&_t(q,"user-mismatch"),ze}})).apply(this,arguments)}function ds(D,h){return pi.apply(this,arguments)}function pi(){return(pi=(0,f.Z)(function*(D,h,g=!1){const C="signIn",q=yield xo(D,C,h),ee=yield Qr._fromIdTokenResponse(D,C,q);return g||(yield D._updateCurrentUser(ee.user)),ee})).apply(this,arguments)}function Br(){return(Br=(0,f.Z)(function*(D,h){return ds(vn(D),h)})).apply(this,arguments)}function F(D,h,g){return k.apply(this,arguments)}function k(){return(k=(0,f.Z)(function*(D,h,g){const C=vn(D),q=yield Io(C,{returnSecureToken:!0,email:h,password:g}),ee=yield Qr._fromIdTokenResponse(C,"signIn",q);return yield C._updateCurrentUser(ee.user),ee})).apply(this,arguments)}function x(D,h,g){return function so(D,h){return Br.apply(this,arguments)}((0,j.m9)(D),ws.credential(h,g))}function Xn(D,h,g,C){return(0,j.m9)(D).onIdTokenChanged(h,g,C)}function Or(D){return(0,j.m9)(D).signOut()}const re="__sak";class Z{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(re,"1"),this.storage.removeItem(re),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const xn=(()=>{class D extends Z{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,C)=>this.onStorageEvent(g,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function fe(){const D=(0,j.z$)();return Lt(D)||ve(D)}()&&function wt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=nt(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const C of Object.keys(this.listeners)){const q=this.storage.getItem(C),ee=this.localCache[C];q!==ee&&g(C,ee,q)}}onStorageEvent(g,C=!1){if(!g.key)return void this.forAllChangedKeys((yt,sn,Qt)=>{this.notifyListeners(yt,Qt)});const q=g.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const yt=this.storage.getItem(q);if(g.newValue!==yt)null!==g.newValue?this.storage.setItem(q,g.newValue):this.storage.removeItem(q);else if(this.localCache[q]===g.newValue&&!C)return}const ee=()=>{const yt=this.storage.getItem(q);!C&&this.localCache[q]===yt||this.notifyListeners(q,yt)},ze=this.storage.getItem(q);!function xe(){return(0,j.w1)()&&10===document.documentMode}()||ze===g.newValue||g.newValue===g.oldValue?ee():setTimeout(ee,10)}notifyListeners(g,C){this.localCache[g]=C;const q=this.listeners[g];if(q)for(const ee of Array.from(q))ee(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,C,q)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:C,newValue:q}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,C){var q=()=>super._set,ee=this;return(0,f.Z)(function*(){yield q().call(ee,g,C),ee.localCache[g]=JSON.stringify(C)})()}_get(g){var C=()=>super._get,q=this;return(0,f.Z)(function*(){const ee=yield C().call(q,g);return q.localCache[g]=JSON.stringify(ee),ee})()}_remove(g){var C=()=>super._remove,q=this;return(0,f.Z)(function*(){yield C().call(q,g),delete q.localCache[g]})()}}return D.type="LOCAL",D})(),En=(()=>{class D extends Z{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,C){}_removeListener(g,C){}}return D.type="SESSION",D})();let Dr=(()=>{class D{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const C=this.receivers.find(ee=>ee.isListeningto(g));if(C)return C;const q=new D(g);return this.receivers.push(q),q}isListeningto(g){return this.eventTarget===g}handleEvent(g){var C=this;return(0,f.Z)(function*(){const q=g,{eventId:ee,eventType:ze,data:yt}=q.data,sn=C.handlersMap[ze];if(!sn?.size)return;q.ports[0].postMessage({status:"ack",eventId:ee,eventType:ze});const Qt=Array.from(sn).map(function(){var Yr=(0,f.Z)(function*(To){return To(q.origin,yt)});return function(To){return Yr.apply(this,arguments)}}()),Xt=yield function kn(D){return Promise.all(D.map(function(){var h=(0,f.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(C){return{fulfilled:!1,reason:C}}});return function(g){return h.apply(this,arguments)}}()))}(Qt);q.ports[0].postMessage({status:"done",eventId:ee,eventType:ze,response:Xt})})()}_subscribe(g,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(C)}_unsubscribe(g,C){this.handlersMap[g]&&C&&this.handlersMap[g].delete(C),(!C||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function Pr(D="",h=10){let g="";for(let C=0;C<h;C++)g+=Math.floor(10*Math.random());return D+g}class Vi{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,C=50){var q=this;return(0,f.Z)(function*(){const ee=typeof MessageChannel<"u"?new MessageChannel:null;if(!ee)throw new Error("connection_unavailable");let ze,yt;return new Promise((sn,Qt)=>{const Xt=Pr("",20);ee.port1.start();const Yr=setTimeout(()=>{Qt(new Error("unsupported_event"))},C);yt={messageChannel:ee,onMessage(To){const go=To;if(go.data.eventId===Xt)switch(go.data.status){case"ack":clearTimeout(Yr),ze=setTimeout(()=>{Qt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ze),sn(go.data.response);break;default:clearTimeout(Yr),clearTimeout(ze),Qt(new Error("invalid_response"))}}},q.handlers.add(yt),ee.port1.addEventListener("message",yt.onMessage),q.target.postMessage({eventType:h,eventId:Xt,data:g},[ee.port2])}).finally(()=>{yt&&q.removeMessageHandler(yt)})})()}}function cr(){return window}function In(){return typeof cr().WorkerGlobalScope<"u"&&"function"==typeof cr().importScripts}function ci(){return(ci=(0,f.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ns="firebaseLocalStorageDb",No="firebaseLocalStorage",er="fbase_key";class Ot{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function gs(D,h){return D.transaction([No],h?"readwrite":"readonly").objectStore(No)}function tn(){const D=indexedDB.open(ns,1);return new Promise((h,g)=>{D.addEventListener("error",()=>{g(D.error)}),D.addEventListener("upgradeneeded",()=>{const C=D.result;try{C.createObjectStore(No,{keyPath:er})}catch(q){g(q)}}),D.addEventListener("success",(0,f.Z)(function*(){const C=D.result;C.objectStoreNames.contains(No)?h(C):(C.close(),yield function Zt(){const D=indexedDB.deleteDatabase(ns);return new Ot(D).toPromise()}(),h(yield tn()))}))})}function wn(D,h,g){return Un.apply(this,arguments)}function Un(){return(Un=(0,f.Z)(function*(D,h,g){const C=gs(D,!0).put({[er]:h,value:g});return new Ot(C).toPromise()})).apply(this,arguments)}function xi(){return(xi=(0,f.Z)(function*(D,h){const g=gs(D,!1).get(h),C=yield new Ot(g).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Ei(D,h){const g=gs(D,!0).delete(h);return new Ot(g).toPromise()}const Ko=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,f.Z)(function*(){return g.db||(g.db=yield tn()),g.db})()}_withRetries(g){var C=this;return(0,f.Z)(function*(){let q=0;for(;;)try{const ee=yield C._openDb();return yield g(ee)}catch(ee){if(q++>3)throw ee;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,f.Z)(function*(){return In()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,f.Z)(function*(){g.receiver=Dr._getInstance(function gn(){return In()?self:null}()),g.receiver._subscribe("keyChanged",function(){var C=(0,f.Z)(function*(q,ee){return{keyProcessed:(yield g._poll()).includes(ee.key)}});return function(q,ee){return C.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var C=(0,f.Z)(function*(q,ee){return["keyChanged"]});return function(q,ee){return C.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,f.Z)(function*(){var C,q;if(g.activeServiceWorker=yield function _i(){return ci.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Vi(g.activeServiceWorker);const ee=yield g.sender._send("ping",{},800);!ee||(null===(C=ee[0])||void 0===C?void 0:C.fulfilled)&&(null===(q=ee[0])||void 0===q?void 0:q.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var C=this;return(0,f.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function rr(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:g},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const g=yield tn();return yield wn(g,re,"1"),yield Ei(g,re),!0}catch{}return!1})()}_withPendingWrite(g){var C=this;return(0,f.Z)(function*(){C.pendingWrites++;try{yield g()}finally{C.pendingWrites--}})()}_set(g,C){var q=this;return(0,f.Z)(function*(){return q._withPendingWrite((0,f.Z)(function*(){return yield q._withRetries(ee=>wn(ee,g,C)),q.localCache[g]=C,q.notifyServiceWorker(g)}))})()}_get(g){var C=this;return(0,f.Z)(function*(){const q=yield C._withRetries(ee=>function Ui(D,h){return xi.apply(this,arguments)}(ee,g));return C.localCache[g]=q,q})()}_remove(g){var C=this;return(0,f.Z)(function*(){return C._withPendingWrite((0,f.Z)(function*(){return yield C._withRetries(q=>Ei(q,g)),delete C.localCache[g],C.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,f.Z)(function*(){const C=yield g._withRetries(ze=>{const yt=gs(ze,!1).getAll();return new Ot(yt).toPromise()});if(!C)return[];if(0!==g.pendingWrites)return[];const q=[],ee=new Set;for(const{fbase_key:ze,value:yt}of C)ee.add(ze),JSON.stringify(g.localCache[ze])!==JSON.stringify(yt)&&(g.notifyListeners(ze,yt),q.push(ze));for(const ze of Object.keys(g.localCache))g.localCache[ze]&&!ee.has(ze)&&(g.notifyListeners(ze,null),q.push(ze));return q})()}notifyListeners(g,C){this.localCache[g]=C;const q=this.listeners[g];if(q)for(const ee of Array.from(q))ee(C)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function sa(D){return`__${D}${Math.floor(1e6*Math.random())}`}function wi(D,h){return h?Pe(h):(Ie(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}sa("rcb"),new Rt(3e4,6e4);class rs extends ui{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Ci(h,this._buildIdpRequest())}_linkToIdToken(h,g){return Ci(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return Ci(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function Sa(D){return ds(D.auth,new rs(D),D.bypassAuthState)}function ca(D){const{auth:h,user:g}=D;return Ie(g,h,"internal-error"),function Vs(D,h){return Zs.apply(this,arguments)}(g,new rs(D),D.bypassAuthState)}function Ua(D){return bo.apply(this,arguments)}function bo(){return(bo=(0,f.Z)(function*(D){const{auth:h,user:g}=D;return Ie(g,h,"internal-error"),Ur(g,new rs(D),D.bypassAuthState)})).apply(this,arguments)}new Rt(2e3,1e4);const ge=new Map;class Je extends class Ya{constructor(h,g,C,q,ee=!1){this.auth=h,this.resolver=C,this.user=q,this.bypassAuthState=ee,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,f.Z)(function*(C,q){h.pendingPromise={resolve:C,reject:q};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ee){h.reject(ee)}});return function(C,q){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,f.Z)(function*(){const{urlResponse:C,sessionId:q,postBody:ee,tenantId:ze,error:yt,type:sn}=h;if(yt)return void g.reject(yt);const Qt={auth:g.auth,requestUri:C,sessionId:q,tenantId:ze||void 0,postBody:ee||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(sn)(Qt))}catch(Xt){g.reject(Xt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Sa;case"linkViaPopup":case"linkViaRedirect":return Ua;case"reauthViaPopup":case"reauthViaRedirect":return ca;default:_t(this.auth,"internal-error")}}resolve(h){st(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){st(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(h,g,C=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,C),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,f.Z)(function*(){let C=ge.get(g.auth._key());if(!C){try{const ee=(yield function Nt(D,h){return An.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;C=()=>Promise.resolve(ee)}catch(q){C=()=>Promise.reject(q)}ge.set(g.auth._key(),C)}return g.bypassAuthState||ge.set(g.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,C=this;return(0,f.Z)(function*(){if("signInViaRedirect"===h.type)return g().call(C,h);if("unknown"!==h.type){if(h.eventId){const q=yield C.auth._redirectUserForId(h.eventId);if(q)return C.user=q,g().call(C,h);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function An(){return(An=(0,f.Z)(function*(D,h){const g=is(h),C=eo(D);if(!(yield C._isAvailable()))return!1;const q="true"===(yield C._get(g));return yield C._remove(g),q})).apply(this,arguments)}function po(D,h){ge.set(D._key(),h)}function eo(D){return Pe(D._redirectPersistence)}function is(D){return pe("pendingRedirect",D.config.apiKey,D.name)}function P(D,h){return N.apply(this,arguments)}function N(){return(N=(0,f.Z)(function*(D,h,g=!1){const C=vn(D),q=wi(C,h),ze=yield new Je(C,q,g).execute();return ze&&!g&&(delete ze.user._redirectEventId,yield C._persistUserIfCurrent(ze.user),yield C._setRedirectUser(null,h)),ze})).apply(this,arguments)}class Xe{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(h,C)&&(g=!0,this.sendToConsumer(h,C),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Nn(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ut(D);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var C;if(h.error&&!Ut(h)){const q=(null===(C=h.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";g.onError(ce(this.auth,q))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const C=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&C}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dt(h))}saveEventToCache(h){this.cachedEventUids.add(Dt(h)),this.lastProcessedEventTime=Date.now()}}function Dt(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(h=>h).join("-")}function Ut({type:D,error:h}){return"unknown"===D&&"auth/no-auth-event"===h?.code}function jn(D){return $n.apply(this,arguments)}function $n(){return($n=(0,f.Z)(function*(D,h={}){return dn(D,"GET","/v1/projects",h)})).apply(this,arguments)}const Dn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ss=/^https?/;function Ma(){return(Ma=(0,f.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:h}=yield jn(D);for(const g of h)try{if(Co(g))return}catch{}_t(D,"unauthorized-domain")})).apply(this,arguments)}function Co(D){const h=je(),{protocol:g,hostname:C}=new URL(h);if(D.startsWith("chrome-extension://")){const ze=new URL(D);return""===ze.hostname&&""===C?"chrome-extension:"===g&&D.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&ze.hostname===C}if(!ss.test(g))return!1;if(Dn.test(D))return C===D;const q=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+q+"|"+q+")$","i").test(C)}const Ba=new Rt(3e4,6e4);function Lo(){const D=cr().___jsl;if(D?.H)for(const h of Object.keys(D.H))if(D.H[h].r=D.H[h].r||[],D.H[h].L=D.H[h].L||[],D.H[h].r=[...D.H[h].L],D.CP)for(let g=0;g<D.CP.length;g++)D.CP[g]=null}let ha=null;function Pa(D){return ha=ha||function xa(D){return new Promise((h,g)=>{var C,q,ee;function ze(){Lo(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Lo(),g(ce(D,"network-request-failed"))},timeout:Ba.get()})}if(null!==(q=null===(C=cr().gapi)||void 0===C?void 0:C.iframes)&&void 0!==q&&q.Iframe)h(gapi.iframes.getContext());else{if(null===(ee=cr().gapi)||void 0===ee||!ee.load){const yt=sa("iframefcb");return cr()[yt]=()=>{gapi.load?ze():g(ce(D,"network-request-failed"))},function Ss(D){return new Promise((h,g)=>{const C=document.createElement("script");C.setAttribute("src",D),C.onload=h,C.onerror=q=>{const ee=ce("internal-error");ee.customData=q,g(ee)},C.type="text/javascript",C.charset="UTF-8",function Ts(){var D,h;return null!==(h=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==h?h:document}().appendChild(C)})}(`https://apis.google.com/js/api.js?onload=${yt}`).catch(sn=>g(sn))}ze()}}).catch(h=>{throw ha=null,h})}(D),ha}const Ea=new Rt(5e3,15e3),yl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rd(D){const h=D.config;Ie(h.authDomain,D,"auth-domain-config-required");const g=h.emulator?en(h,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,C={apiKey:h.apiKey,appName:D.name,v:be.Jn},q=Gu.get(D.config.apiHost);q&&(C.eid=q);const ee=D._getFrameworks();return ee.length&&(C.fw=ee.join(",")),`${g}?${(0,j.xO)(C).slice(1)}`}function bu(){return bu=(0,f.Z)(function*(D){const h=yield Pa(D),g=cr().gapi;return Ie(g,D,"internal-error"),h.open({where:document.body,url:rd(D),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yl,dontclear:!0},C=>new Promise(function(){var q=(0,f.Z)(function*(ee,ze){yield C.restyle({setHideOnLeave:!1});const yt=ce(D,"network-request-failed"),sn=cr().setTimeout(()=>{ze(yt)},Ea.get());function Qt(){cr().clearTimeout(sn),ee(C)}C.ping(Qt).then(Qt,()=>{ze(yt)})});return function(ee,ze){return q.apply(this,arguments)}}()))}),bu.apply(this,arguments)}const id={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class zu{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fa(D,h,g,C,q,ee){Ie(D.config.authDomain,D,"auth-domain-config-required"),Ie(D.config.apiKey,D,"invalid-api-key");const ze={apiKey:D.config.apiKey,appName:D.name,authType:g,redirectUrl:C,v:be.Jn,eventId:q};if(h instanceof ki){h.setDefaultLanguage(D.languageCode),ze.providerId=h.providerId||"",(0,j.xb)(h.getCustomParameters())||(ze.customParameters=JSON.stringify(h.getCustomParameters()));for(const[sn,Qt]of Object.entries(ee||{}))ze[sn]=Qt}if(h instanceof Fi){const sn=h.getScopes().filter(Qt=>""!==Qt);sn.length>0&&(ze.scopes=sn.join(","))}D.tenantId&&(ze.tid=D.tenantId);const yt=ze;for(const sn of Object.keys(yt))void 0===yt[sn]&&delete yt[sn];return`${function au({config:D}){return D.emulator?en(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}(D)}?${(0,j.xO)(yt).slice(1)}`}const wl="webStorageSupport",Wu=class Cu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=En,this._completeRedirectFn=P,this._overrideRedirectResult=po}_openPopup(h,g,C,q){var ee=this;return(0,f.Z)(function*(){var ze;st(null===(ze=ee.eventManagers[h._key()])||void 0===ze?void 0:ze.manager,"_initialize() not called before _openPopup()");const yt=fa(h,g,C,je(),q);return function vl(D,h,g,C=500,q=600){const ee=Math.max((window.screen.availHeight-q)/2,0).toString(),ze=Math.max((window.screen.availWidth-C)/2,0).toString();let yt="";const sn=Object.assign(Object.assign({},id),{width:C.toString(),height:q.toString(),top:ee,left:ze}),Qt=(0,j.z$)().toLowerCase();g&&(yt=on(Qt)?"_blank":g),Ke(Qt)&&(h=h||"http://localhost",sn.scrollbars="yes");const Xt=Object.entries(sn).reduce((To,[go,qu])=>`${To}${go}=${qu},`,"");if(function Ge(D=(0,j.z$)()){var h;return ve(D)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Qt)&&"_self"!==yt)return function sd(D,h){const g=document.createElement("a");g.href=D,g.target=h;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(C)}(h||"",yt),new zu(null);const Yr=window.open(h||"",yt,Xt);Ie(Yr,D,"popup-blocked");try{Yr.focus()}catch{}return new zu(Yr)}(h,yt,Pr())})()}_openRedirect(h,g,C,q){var ee=this;return(0,f.Z)(function*(){return yield ee._originValidation(h),function li(D){cr().location.href=D}(fa(h,g,C,je(),q)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:q,promise:ee}=this.eventManagers[g];return q?Promise.resolve(q):(st(ee,"If manager is not set, promise should be"),ee)}const C=this.initAndGetManager(h);return this.eventManagers[g]={promise:C},C.catch(()=>{delete this.eventManagers[g]}),C}initAndGetManager(h){var g=this;return(0,f.Z)(function*(){const C=yield function Du(D){return bu.apply(this,arguments)}(h),q=new Xe(h);return C.register("authEvent",ee=>(Ie(ee?.authEvent,h,"invalid-auth-event"),{status:q.onEvent(ee.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:q},g.iframes[h._key()]=C,q})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(wl,{type:wl},q=>{var ee;const ze=null===(ee=q?.[0])||void 0===ee?void 0:ee[wl];void 0!==ze&&g(!!ze),_t(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ps(D){return Ma.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return nt()||Lt()||ve()}};var lu="@firebase/auth",lc="0.20.10";class Ah{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,f.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(C=>{var q;h((null===(q=C)||void 0===q?void 0:q.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);!g||(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ad=(0,j.Pz)("authIdTokenMaxAge")||300;let Ha=null;const ja=D=>function(){var h=(0,f.Z)(function*(g){const C=g&&(yield g.getIdTokenResult()),q=C&&((new Date).getTime()-Date.parse(C.issuedAtTime))/1e3;if(q&&q>ad)return;const ee=C?.token;Ha!==ee&&(Ha=ee,yield fetch(D,{method:ee?"POST":"DELETE",headers:ee?{Authorization:`Bearer ${ee}`}:{}}))});return function(g){return h.apply(this,arguments)}}();function Mh(D=(0,be.Mq)()){const h=(0,be.qX)(D,"auth");if(h.isInitialized())return h.getImmediate();const g=function Ye(D,h){const g=(0,be.qX)(D,"auth");if(g.isInitialized()){const q=g.getImmediate(),ee=g.getOptions();if((0,j.vZ)(ee,h??{}))return q;_t(q,"already-initialized")}return g.initialize({options:h})}(D,{popupRedirectResolver:Wu,persistence:[Ko,xn,En]}),C=(0,j.Pz)("authTokenSyncURL");if(C){const ee=ja(C);(function yr(D,h,g){(0,j.m9)(D).beforeAuthStateChanged(h,g)})(g,ee,()=>ee(g.currentUser)),Xn(g,ze=>ee(ze))}const q=(0,j.q4)("auth");return q&&function Nr(D,h,g){const C=vn(D);Ie(C._canInitEmulator,C,"emulator-config-failed"),Ie(/^https?:\/\//.test(h),C,"invalid-emulator-scheme");const q=!!g?.disableWarnings,ee=Ir(h),{host:ze,port:yt}=function Lr(D){const h=Ir(D),g=/(\/\/)?([^?#/]+)/.exec(D.substr(h.length));if(!g)return{host:"",port:null};const C=g[2].split("@").pop()||"",q=/^(\[[^\]]+\])(:|$)/.exec(C);if(q){const ee=q[1];return{host:ee,port:lr(C.substr(ee.length+1))}}{const[ee,ze]=C.split(":");return{host:ee,port:lr(ze)}}}(h);C.config.emulator={url:`${ee}//${ze}${null===yt?"":`:${yt}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:ze,port:yt,protocol:ee.replace(":",""),options:Object.freeze({disableWarnings:q})}),q||function Ni(){function D(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}(g,`http://${q}`),g}!function Dl(D){(0,be.Xd)(new de.wA("auth",(h,{options:g})=>{const C=h.getProvider("app").getImmediate(),q=h.getProvider("heartbeat"),{apiKey:ee,authDomain:ze}=C.options;return((yt,sn)=>{Ie(ee&&!ee.includes(":"),"invalid-api-key",{appName:yt.name}),Ie(!ze?.includes(":"),"argument-error",{appName:yt.name});const Qt={apiKey:ee,authDomain:ze,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zt(D)},Xt=new rn(yt,sn,Qt);return function Fe(D,h){const g=h?.persistence||[],C=(Array.isArray(g)?g:[g]).map(Pe);h?.errorMap&&D._updateErrorMap(h.errorMap),D._initializeWithPersistence(C,h?.popupRedirectResolver)}(Xt,g),Xt})(C,q)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,C)=>{h.getProvider("auth-internal").initialize()})),(0,be.Xd)(new de.wA("auth-internal",h=>{const g=vn(h.getProvider("auth").getImmediate());return new Ah(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,be.KN)(lu,lc,function $i(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,be.KN)(lu,lc,"esm2017")}("Browser")},3209:(fn,ut,X)=>{X.d(ut,{EK:()=>rr,ET:()=>$g,hJ:()=>Tg,JU:()=>Sg,ad:()=>Nf,cf:()=>Ay,pl:()=>Bg});var he,f=X(5861),j=X(9681),be=X(4859),me=X(1877),z=X(2090),de=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ie={},Ne=Ne||{},ne=de||self;function ue(){}function Oe(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function tt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var pt="closure_uid_"+(1e9*Math.random()>>>0),St=0;function Vt(i,e,n){return i.call.apply(i.bind,arguments)}function kt(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Ft(i,e,n){return(Ft=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Vt:kt).apply(null,arguments)}function _t(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function ce(i,e){function n(){}n.prototype=e.prototype,i.X=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.Wb=function(o,u,c){for(var p=Array(arguments.length-2),b=2;b<arguments.length;b++)p[b-2]=arguments[b];return e.prototype[u].apply(o,p)}}function De(){this.s=this.s,this.o=this.o}var lt={};De.prototype.s=!1,De.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Be(i){return Object.prototype.hasOwnProperty.call(i,pt)&&i[pt]||(i[pt]=++St)}(this);delete lt[i]}},De.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ie=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function Re(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function st(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(Oe(o)){const u=i.length||0,c=o.length||0;i.length=u+c;for(let p=0;p<c;p++)i[u+p]=o[p]}else i.push(o)}}function Ce(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}Ce.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!ne.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ne.addEventListener("test",ue,e),ne.removeEventListener("test",ue,e)}catch{}return i}();function Ye(i){return/^[\s\xa0]*$/.test(i)}var Fe=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function je(i,e){return i<e?-1:i>e?1:0}function He(){var i=ne.navigator;return i&&(i=i.userAgent)?i:""}function Ae(i){return-1!=He().indexOf(i)}function ot(i){return ot[" "](i),i}ot[" "]=ue;var Cn,i,Rt=Ae("Opera"),en=Ae("Trident")||Ae("MSIE"),bn=Ae("Edge"),nn=bn||en,Wn=Ae("Gecko")&&!(-1!=He().toLowerCase().indexOf("webkit")&&!Ae("Edge"))&&!(Ae("Trident")||Ae("MSIE"))&&!Ae("Edge"),yn=-1!=He().toLowerCase().indexOf("webkit")&&!Ae("Edge");function dn(){var i=ne.document;return i?i.documentMode:void 0}e:{var cn="",qr=(i=He(),Wn?/rv:([^\);]+)(\)|;)/.exec(i):bn?/Edge\/([\d\.]+)/.exec(i):en?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):yn?/WebKit\/(\S+)/.exec(i):Rt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(qr&&(cn=qr?qr[1]:""),en){var or=dn();if(null!=or&&or>parseFloat(cn)){Cn=String(or);break e}}Cn=cn}var kr={};var Rr=ne.document&&en&&(dn()||parseInt(Cn,10))||void 0;function ar(i,e){if(Ce.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Wn){e:{try{ot(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Gt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&ar.X.h.call(this)}}ce(ar,Ce);var Gt={2:"touch",3:"pen",4:"mouse"};ar.prototype.h=function(){ar.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Kn="closure_listenable_"+(1e6*Math.random()|0),Ar=0;function br(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.ha=u,this.key=++Ar,this.ba=this.ea=!1}function fr(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function Hi(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function _r(i){const e={};for(const n in i)e[n]=i[n];return e}const Mr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xt(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let c=0;c<Mr.length;c++)n=Mr[c],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function jt(i){this.src=i,this.g={},this.h=0}function un(i,e){var n=e.type;if(n in i.g){var c,o=i.g[n],u=Ie(o,e);(c=0<=u)&&Array.prototype.splice.call(o,u,1),c&&(fr(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function pn(i,e,n,o){for(var u=0;u<i.length;++u){var c=i[u];if(!c.ba&&c.listener==e&&c.capture==!!n&&c.ha==o)return u}return-1}jt.prototype.add=function(i,e,n,o,u){var c=i.toString();(i=this.g[c])||(i=this.g[c]=[],this.h++);var p=pn(i,e,o,u);return-1<p?(e=i[p],n||(e.ea=!1)):((e=new br(e,this.src,c,!!o,u)).ea=n,i.push(e)),e};var ur="closure_lm_"+(1e6*Math.random()|0),Yn={};function Zr(i,e,n,o,u){if(o&&o.once)return tr(i,e,n,o,u);if(Array.isArray(e)){for(var c=0;c<e.length;c++)Zr(i,e[c],n,o,u);return null}return n=Tt(n),i&&i[Kn]?i.N(e,n,tt(o)?!!o.capture:!!o,u):Hn(i,e,n,!1,o,u)}function Hn(i,e,n,o,u,c){if(!e)throw Error("Invalid event type");var p=tt(u)?!!u.capture:!!u,b=Et(i);if(b||(i[ur]=b=new jt(i)),(n=b.add(e,n,o,p,c)).proxy)return n;if(o=function fi(){const e=ai;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)Pe||(u=p),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(Ri(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function tr(i,e,n,o,u){if(Array.isArray(e)){for(var c=0;c<e.length;c++)tr(i,e[c],n,o,u);return null}return n=Tt(n),i&&i[Kn]?i.O(e,n,tt(o)?!!o.capture:!!o,u):Hn(i,e,n,!0,o,u)}function ti(i,e,n,o,u){if(Array.isArray(e))for(var c=0;c<e.length;c++)ti(i,e[c],n,o,u);else o=tt(o)?!!o.capture:!!o,n=Tt(n),i&&i[Kn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=pn(c=i.g[e],n,o,u))&&(fr(c[n]),Array.prototype.splice.call(c,n,1),0==c.length&&(delete i.g[e],i.h--))):i&&(i=Et(i))&&(e=i.g[e.toString()],i=-1,e&&(i=pn(e,n,o,u)),(n=-1<i?e[i]:null)&&ln(n))}function ln(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[Kn])un(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(Ri(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=Et(e))?(un(n,i),0==n.h&&(n.src=null,e[ur]=null)):fr(i)}}}function Ri(i){return i in Yn?Yn[i]:Yn[i]="on"+i}function ai(i,e){if(i.ba)i=!0;else{e=new ar(e,this);var n=i.listener,o=i.ha||i.src;i.ea&&ln(i),i=n.call(o,e)}return i}function Et(i){return(i=i[ur])instanceof jt?i:null}var Ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tt(i){return"function"==typeof i?i:(i[Ue]||(i[Ue]=function(e){return i.handleEvent(e)}),i[Ue])}function dt(){De.call(this),this.i=new jt(this),this.P=this,this.I=null}function Mt(i,e){var n,o=i.I;if(o)for(n=[];o;o=o.I)n.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Ce(e,i);else if(e instanceof Ce)e.target=e.target||i;else{var u=e;xt(e=new Ce(o,i),u)}if(u=!0,n)for(var c=n.length-1;0<=c;c--){var p=e.g=n[c];u=Tn(p,o,!0,e)&&u}if(u=Tn(p=e.g=i,o,!0,e)&&u,u=Tn(p,o,!1,e)&&u,n)for(c=0;c<n.length;c++)u=Tn(p=e.g=n[c],o,!1,e)&&u}function Tn(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,c=0;c<e.length;++c){var p=e[c];if(p&&!p.ba&&p.capture==n){var b=p.listener,L=p.ha||p.src;p.ea&&un(i.i,p),u=!1!==b.call(L,o)&&u}}return u&&!o.defaultPrevented}ce(dt,De),dt.prototype[Kn]=!0,dt.prototype.removeEventListener=function(i,e,n,o){ti(this,i,e,n,o)},dt.prototype.M=function(){if(dt.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)fr(n[o]);delete i.g[e],i.h--}}this.I=null},dt.prototype.N=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},dt.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var ye=ne.JSON.stringify;function pe(){var i=Ve;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Ln,it=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Ke,i=>i.reset());class Ke{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Lt(i){ne.setTimeout(()=>{throw i},0)}function on(i,e){Ln||function Fr(){var i=ne.Promise.resolve(void 0);Ln=function(){i.then(ve)}}(),zn||(Ln(),zn=!0),Ve.add(i,e)}var zn=!1,Ve=new class Te{constructor(){this.h=this.g=null}add(e,n){const o=it.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}};function ve(){for(var i;i=pe();){try{i.h.call(i.g)}catch(n){Lt(n)}var e=it;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}zn=!1}function se(i,e){dt.call(this),this.h=i||1,this.g=e||ne,this.j=Ft(this.lb,this),this.l=Date.now()}function Ge(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function xe(i,e,n){if("function"==typeof i)n&&(i=Ft(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Ft(i.handleEvent,i)}return 2147483647<Number(e)?-1:ne.setTimeout(i,e||0)}function nt(i){i.g=xe(()=>{i.g=null,i.i&&(i.i=!1,nt(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ce(se,dt),(he=se.prototype).ca=!1,he.R=null,he.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Mt(this,"tick"),this.ca&&(Ge(this),this.start()))}},he.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},he.M=function(){se.X.M.call(this),Ge(this),delete this.g};class wt extends De{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:nt(this)}M(){super.M(),this.g&&(ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zt(i){De.call(this),this.h=i,this.g={}}ce(zt,De);var gt=[];function rn(i,e,n,o){Array.isArray(n)||(n&&(gt[0]=n.toString()),n=gt);for(var u=0;u<n.length;u++){var c=Zr(e,n[u],o||i.handleEvent,!1,i.h||i);if(!c)break;i.g[c.key]=c}}function vn(i){Hi(i.g,function(e,n){this.g.hasOwnProperty(n)&&ln(e)},i),i.g={}}function xr(){this.g=!0}function Lr(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ni(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var c=u[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var p=1;p<u.length;p++)u[p]=""}}}return ye(n)}catch{return e}}(i,n)+(o?" "+o:"")})}zt.prototype.M=function(){zt.X.M.call(this),vn(this)},zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xr.prototype.Aa=function(){this.g=!1},xr.prototype.info=function(){};var ui={},On=null;function ni(){return On=On||new dt}function Ns(i){Ce.call(this,ui.Pa,i)}function bi(i){const e=ni();Mt(e,new Ns(e,i))}function Xi(i,e){Ce.call(this,ui.STAT_EVENT,i),this.stat=e}function Vn(i){const e=ni();Mt(e,new Xi(e,i))}function ji(i,e){Ce.call(this,ui.Qa,i),this.size=e}function ri(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ne.setTimeout(function(){i()},e)}ui.Pa="serverreachability",ce(Ns,Ce),ui.STAT_EVENT="statevent",ce(Xi,Ce),ui.Qa="timingevent",ce(ji,Ce);var Hr={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},ke={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Me(){}function at(){}Me.prototype.h=null;var pr,It={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Bt(){Ce.call(this,"d")}function Mn(){Ce.call(this,"c")}function Zn(){}function jr(i,e,n,o){this.l=i,this.j=e,this.m=n,this.U=o||1,this.S=new zt(this),this.O=vs,this.T=new se(i=nn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Vr}function Vr(){this.i=null,this.g="",this.h=!1}ce(Bt,Ce),ce(Mn,Ce),ce(Zn,Me),Zn.prototype.g=function(){return new XMLHttpRequest},Zn.prototype.i=function(){return{}},pr=new Zn;var vs=45e3,Gr={},Qn={};function Ci(i,e,n){i.K=1,i.v=ro(ks(e)),i.s=n,i.P=!0,Kr(i,null)}function Kr(i,e){i.F=Date.now(),Os(i),i.A=ks(i.v);var n=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),Is(n.i,"t",o),i.C=0,n=i.l.H,i.h=new Vr,i.g=A(i.l,n?e:null,!i.s),0<i.N&&(i.L=new wt(Ft(i.La,i,i.g),i.N)),rn(i.S,i.g,"readystatechange",i.ib),e=i.H?_r(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),bi(1),function Nr(i,e,n,o,u,c){i.info(function(){if(i.g)if(c)for(var p="",b=c.split("&"),L=0;L<b.length;L++){var H=b[L].split("=");if(1<H.length){var te=H[0];H=H[1];var we=te.split("_");p=2<=we.length&&"type"==we[1]?p+(te+"=")+H+"&":p+(te+"=redacted&")}}else p=null;else p=c;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+p})}(i.j,i.u,i.A,i.m,i.U,i.s)}function _s(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function mi(i,e,n){let u,o=!0;for(;!i.I&&i.C<n.length;){if(u=ea(i,n),u==Qn){4==e&&(i.o=4,Vn(14),o=!1),Lr(i.j,i.m,null,"[Incomplete Response]");break}if(u==Gr){i.o=4,Vn(15),Lr(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}Lr(i.j,i.m,u,null),Ao(i,u)}_s(i)&&u!=Qn&&u!=Gr&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Vn(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ti(e),e.K=!0,Vn(11))):(Lr(i.j,i.m,n,"[Invalid Chunked Response]"),ls(i),Oi(i))}function ea(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?Qn:(n=Number(e.substring(n,o)),isNaN(n)?Gr:(o+=1)+n>e.length?Qn:(e=e.substr(o,n),i.C=o+n,e))}function Os(i){i.V=Date.now()+i.O,to(i,i.O)}function to(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=ri(Ft(i.gb,i),e)}function Es(i){i.B&&(ne.clearTimeout(i.B),i.B=null)}function Oi(i){0==i.l.G||i.I||ba(i.l,i)}function ls(i){Es(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Ge(i.T),vn(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Ao(i,e){try{var n=i.l;if(0!=n.G&&(n.g==i||os(n.h,i)))if(!i.J&&os(n.h,i)&&3==n.G){try{var o=n.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<i.F))break e;ho(n),Ze(n)}Xs(n),Vn(18)}}else n.Ba=u[1],0<n.Ba-n.T&&37500>u[2]&&n.L&&0==n.A&&!n.v&&(n.v=ri(Ft(n.cb,n),6e3));if(1>=Ls(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else ia(n,11)}else if((i.J||n.g==i)&&ho(n),!Ye(e))for(u=n.Fa.g.parse(e),e=0;e<u.length;e++){let H=u[e];if(n.T=H[0],H=H[1],2==n.G)if("c"==H[0]){n.I=H[1],n.ka=H[2];const te=H[3];null!=te&&(n.ma=te,n.j.info("VER="+n.ma));const we=H[4];null!=we&&(n.Ca=we,n.j.info("SVER="+n.Ca));const Qe=H[5];null!=Qe&&"number"==typeof Qe&&0<Qe&&(n.J=o=1.5*Qe,n.j.info("backChannelRequestTimeoutMs_="+o)),o=n;const ht=i.g;if(ht){const vt=ht.g?ht.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vt){var c=o.h;c.g||-1==vt.indexOf("spdy")&&-1==vt.indexOf("quic")&&-1==vt.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(Sn(c,c.h),c.h=null))}if(o.D){const Jt=ht.g?ht.g.getResponseHeader("X-HTTP-Session-Id"):null;Jt&&(o.za=Jt,nr(o.F,o.D,Jt))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-i.F,n.j.info("Handshake RTT: "+n.P+"ms"));var p=i;if((o=n).sa=qo(o,o.H?o.ka:null,o.V),p.J){Vs(o.h,p);var b=p,L=o.J;L&&b.setTimeout(L),b.B&&(Es(b),Os(b)),o.g=p}else vi(o);0<n.i.length&&zr(n)}else"stop"!=H[0]&&"close"!=H[0]||ia(n,7);else 3==n.G&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?ia(n,7):Y(n):"noop"!=H[0]&&n.l&&n.l.wa(H),n.A=0)}bi(4)}catch{}}function no(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Oe(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function zo(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Oe(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function ma(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Oe(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,c=0;c<u;c++)e.call(void 0,o[c],n&&n[c],i)}(he=jr.prototype).setTimeout=function(i){this.O=i},he.ib=function(i){i=i.target;const e=this.L;e&&3==_n(i)?e.l():this.La(i)},he.La=function(i){try{if(i==this.g)e:{const te=_n(this.g);var e=this.g.Ea();const we=this.g.aa();if(!(3>te)&&(3!=te||nn||this.g&&(this.h.h||this.g.fa()||lo(this.g)))){this.I||4!=te||7==e||bi(8==e||0>=we?3:2),Es(this);var n=this.g.aa();this.Y=n;t:if(_s(this)){var o=lo(this.g);i="";var u=o.length,c=4==_n(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ls(this),Oi(this);var p="";break t}this.h.i=new ne.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:c&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,p=this.h.g}else p=this.g.fa();if(this.i=200==n,function Ir(i,e,n,o,u,c,p){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+c+" "+p})}(this.j,this.u,this.A,this.m,this.U,te,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ye(b)){var H=b;break t}}H=null}if(!(n=H)){this.i=!1,this.o=3,Vn(12),ls(this),Oi(this);break e}Lr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ao(this,n)}this.P?(mi(this,te,p),nn&&this.i&&3==te&&(rn(this.S,this.T,"tick",this.hb),this.T.start())):(Lr(this.j,this.m,p,null),Ao(this,p)),4==te&&ls(this),this.i&&!this.I&&(4==te?ba(this.l,this):(this.i=!1,Os(this)))}else 400==n&&0<p.indexOf("Unknown SID")?(this.o=3,Vn(12)):(this.o=0,Vn(13)),ls(this),Oi(this)}}}catch{}},he.hb=function(){if(this.g){var i=_n(this.g),e=this.g.fa();this.C<e.length&&(Es(this),mi(this,i,e),this.i&&4!=i&&Os(this))}},he.cancel=function(){this.I=!0,ls(this)},he.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function lr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(bi(3),Vn(17)),ls(this),this.o=2,Oi(this)):to(this,this.V-i)};var Da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gi(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Gi){this.h=void 0!==e?e:i.h,ws(this,i.j),this.s=i.s,this.g=i.g,ki(this,i.m),this.l=i.l,e=i.i;var n=new es;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Fi(this,n),this.o=i.o}else i&&(n=String(i).match(Da))?(this.h=!!e,ws(this,n[1]||"",!0),this.s=cs(n[2]||""),this.g=cs(n[3]||"",!0),ki(this,n[4]),this.l=cs(n[5]||"",!0),Fi(this,n[6]||"",!0),this.o=cs(n[7]||"")):(this.h=!!e,this.i=new es(null,this.h))}function ks(i){return new Gi(i)}function ws(i,e,n){i.j=n?cs(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function ki(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Fi(i,e,n){e instanceof es?(i.i=e,function xo(i,e){e&&!i.j&&(Qr(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(io(this,o),Is(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=qs(e,zi)),i.i=new es(e,i.h))}function nr(i,e,n){i.i.set(e,n)}function ro(i){return nr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function cs(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function qs(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,Ks),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Ks(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Gi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(qs(e,wo,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(qs(e,wo,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(qs(n,"/"==n.charAt(0)?Ji:Fs,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",qs(n,Io)),i.join("")};var wo=/[#\/\?@]/g,Fs=/[#\?:]/g,Ji=/[#\?]/g,zi=/[#\?@]/g,Io=/#/g;function es(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Qr(i){i.g||(i.g=new Map,i.h=0,i.i&&function Wo(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var c=i[n].substring(0,o);u=i[n].substring(o+1)}else c=i[n];e(c,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function io(i,e){Qr(i),e=Ds(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Mo(i,e){return Qr(i),e=Ds(i,e),i.g.has(e)}function Is(i,e,n){io(i,e),0<n.length&&(i.i=null,i.g.set(Ds(i,e),Re(n)),i.h+=n.length)}function Ds(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Wi(i){this.l=i||Ys,i=ne.PerformanceNavigationTiming?0<(i=ne.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ne.g&&ne.g.Ga&&ne.g.Ga()&&ne.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(he=es.prototype).add=function(i,e){Qr(this),this.i=null,i=Ds(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},he.forEach=function(i,e){Qr(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},he.oa=function(){Qr(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let c=0;c<u.length;c++)n.push(e[o])}return n},he.W=function(i){Qr(this);let e=[];if("string"==typeof i)Mo(this,i)&&(e=e.concat(this.g.get(Ds(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},he.set=function(i,e){return Qr(this),this.i=null,Mo(this,i=Ds(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},he.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},he.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const c=encodeURIComponent(String(o)),p=this.W(o);for(o=0;o<p.length;o++){var u=c;""!==p[o]&&(u+="="+encodeURIComponent(String(p[o]))),i.push(u)}}return this.i=i.join("&")};var Ys=10;function Ur(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Ls(i){return i.h?1:i.g?i.g.size:0}function os(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Sn(i,e){i.g?i.g.add(e):i.h=e}function Vs(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Zs(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.D);return e}return Re(i.i)}function ds(){}function pi(){this.g=new ds}function so(i,e,n){const o=n||"";try{no(i,function(u,c){let p=u;tt(u)&&(p=ye(u)),e.push(o+c+"="+encodeURIComponent(p))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Us(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function ii(i){this.l=i.ac||null,this.j=i.jb||!1}function Po(i,e){dt.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=hs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Wi.prototype.cancel=function(){if(this.i=Zs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},ds.prototype.stringify=function(i){return ne.JSON.stringify(i,void 0)},ds.prototype.parse=function(i){return ne.JSON.parse(i,void 0)},ce(ii,Me),ii.prototype.g=function(){return new Po(this.l,this.j)},ii.prototype.i=function(i){return function(){return i}}({}),ce(Po,dt);var hs=0;function yi(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function Xr(i){i.readyState=4,i.l=null,i.j=null,i.A=null,as(i)}function as(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(he=Po.prototype).open=function(i,e){if(this.readyState!=hs)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,as(this)},he.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||ne).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},he.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xr(this)),this.readyState=hs},he.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,as(this)),this.g&&(this.readyState=3,as(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ne.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;yi(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},he.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Xr(this):as(this),3==this.readyState&&yi(this)}},he.Va=function(i){this.g&&(this.response=this.responseText=i,Xr(this))},he.Ua=function(i){this.g&&(this.response=i,Xr(this))},he.ga=function(){this.g&&Xr(this)},he.setRequestHeader=function(i,e){this.v.append(i,e)},he.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},he.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(Po.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var oo=ne.JSON.parse;function $t(i){dt.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Mi,this.K=this.L=!1}ce($t,dt);var Mi="",ao=/^https?$/i,uo=["POST","PUT"];function ta(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,bs(i),fs(i)}function bs(i){i.D||(i.D=!0,Mt(i,"complete"),Mt(i,"error"))}function na(i){if(i.h&&typeof Ne<"u"&&(!i.C[1]||4!=_n(i)||2!=i.aa()))if(i.v&&4==_n(i))xe(i.Ha,0,i);else if(Mt(i,"readystatechange"),4==_n(i)){i.h=!1;try{const b=i.aa();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===b){var u=String(i.H).match(Da)[1]||null;if(!u&&ne.self&&ne.self.location){var c=ne.self.location.protocol;u=c.substr(0,c.length-1)}o=!ao.test(u?u.toLowerCase():"")}n=o}if(n)Mt(i,"complete"),Mt(i,"success");else{i.m=6;try{var p=2<_n(i)?i.g.statusText:""}catch{p=""}i.j=p+" ["+i.aa()+"]",bs(i)}}finally{fs(i)}}}function fs(i,e){if(i.g){mt(i);const n=i.g,o=i.C[0]?ue:null;i.g=null,i.C=null,e||Mt(i,"ready");try{n.onreadystatechange=o}catch{}}}function mt(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(ne.clearTimeout(i.A),i.A=null)}function _n(i){return i.g?i.g.readyState:0}function lo(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Mi:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function co(i){let e="";return Hi(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function F(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=co(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):nr(i,e,n))}function k(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function x(i){this.Ca=0,this.i=[],this.j=new xr,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=k("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=k("baseRetryDelayMs",5e3,i),this.bb=k("retryDelaySeedMs",1e4,i),this.$a=k("forwardChannelMaxRetries",2,i),this.ta=k("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new Wi(i&&i.concurrentRequestLimit),this.Fa=new pi,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Y(i){if(Wt(i),3==i.G){var e=i.U++,n=ks(i.F);nr(n,"SID",i.I),nr(n,"RID",e),nr(n,"TYPE","terminate"),us(i,n),(e=new jr(i,i.j,e,void 0)).K=2,e.v=ro(ks(n)),n=!1,ne.navigator&&ne.navigator.sendBeacon&&(n=ne.navigator.sendBeacon(e.v.toString(),"")),!n&&ne.Image&&((new Image).src=e.v,n=!0),n||(e.g=A(e.l,null),e.g.da(e.v)),e.F=Date.now(),Os(e)}Do(i)}function Ze(i){i.g&&(Ti(i),i.g.cancel(),i.g=null)}function Wt(i){Ze(i),i.u&&(ne.clearTimeout(i.u),i.u=null),ho(i),i.h.cancel(),i.m&&("number"==typeof i.m&&ne.clearTimeout(i.m),i.m=null)}function zr(i){Ur(i.h)||i.m||(i.m=!0,on(i.Ja,i),i.C=0)}function Bs(i,e){var n;n=e?e.m:i.U++;const o=ks(i.F);nr(o,"SID",i.I),nr(o,"RID",n),nr(o,"AID",i.T),us(i,o),i.o&&i.s&&F(o,i.o,i.s),n=new jr(i,i.j,n,i.C+1),null===i.o&&(n.H=i.s),e&&(i.i=e.D.concat(i.i)),e=gi(i,n,1e3),n.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),Sn(i.h,n),Ci(n,o,e)}function us(i,e){i.ia&&Hi(i.ia,function(n,o){nr(e,o,n)}),i.l&&no({},function(n,o){nr(e,o,n)})}function gi(i,e,n){n=Math.min(i.i.length,n);var o=i.l?Ft(i.l.Ra,i.l,i):null;e:{var u=i.i;let c=-1;for(;;){const p=["count="+n];-1==c?0<n?(c=u[0].h,p.push("ofs="+c)):c=0:p.push("ofs="+c);let b=!0;for(let L=0;L<n;L++){let H=u[L].h;const te=u[L].g;if(H-=c,0>H)c=Math.max(0,u[L].h-100),b=!1;else try{so(te,p,"req"+H+"_")}catch{o&&o(te)}}if(b){o=p.join("&");break e}}}return i=i.i.splice(0,n),e.D=i,o}function vi(i){i.g||i.u||(i.Z=1,on(i.Ia,i),i.A=0)}function Xs(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=ri(Ft(i.Ia,i),ra(i,i.A)),i.A++,0))}function Ti(i){null!=i.B&&(ne.clearTimeout(i.B),i.B=null)}function $s(i){i.g=new jr(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=ks(i.sa);nr(e,"RID","rpc"),nr(e,"SID",i.I),nr(e,"CI",i.L?"0":"1"),nr(e,"AID",i.T),nr(e,"TYPE","xmlhttp"),us(i,e),i.o&&i.s&&F(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var n=i.g;i=i.ka,n.K=1,n.v=ro(ks(e)),n.s=null,n.P=!0,Kr(n,i)}function ho(i){null!=i.v&&(ne.clearTimeout(i.v),i.v=null)}function ba(i,e){var n=null;if(i.g==e){ho(i),Ti(i),i.g=null;var o=2}else{if(!os(i.h,e))return;n=e.D,Vs(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;Mt(o=ni(),new ji(o,n,e,u)),zr(i)}else vi(i);else if(3==(u=e.o)||0==u&&0<i.pa||!(1==o&&function ts(i,e){return!(Ls(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=ri(Ft(i.Ja,i,e),ra(i,i.C)),i.C++,0)))}(i,e)||2==o&&Xs(i)))switch(n&&0<n.length&&(e=i.h,e.i=e.i.concat(n)),u){case 1:ia(i,5);break;case 4:ia(i,10);break;case 3:ia(i,6);break;default:ia(i,2)}}function ra(i,e){let n=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(n*=2),n*e}function ia(i,e){if(i.j.info("Error code "+e),2==e){var n=null;i.l&&(n=null);var o=Ft(i.kb,i);n||(n=new Gi("//www.google.com/images/cleardot.gif"),ne.location&&"http"==ne.location.protocol||ws(n,"https"),ro(n)),function Br(i,e){const n=new xr;if(ne.Image){const o=new Image;o.onload=_t(Us,n,o,"TestLoadImage: loaded",!0,e),o.onerror=_t(Us,n,o,"TestLoadImage: error",!1,e),o.onabort=_t(Us,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=_t(Us,n,o,"TestLoadImage: timeout",!1,e),ne.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else Vn(2);i.G=0,i.l&&i.l.va(e),Do(i),Wt(i)}function Do(i){if(i.G=0,i.la=[],i.l){const e=Zs(i.h);(0!=e.length||0!=i.i.length)&&(st(i.la,e),st(i.la,i.i),i.h.i.length=0,Re(i.i),i.i.length=0),i.l.ua()}}function qo(i,e,n){var o=n instanceof Gi?ks(n):new Gi(n,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),ki(o,o.m);else{var u=ne.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var c=new Gi(null,void 0);o&&ws(c,o),e&&(c.g=e),u&&ki(c,u),n&&(c.l=n),o=c}return e=i.za,(n=i.D)&&e&&nr(o,n,e),nr(o,"VER",i.ma),us(i,o),o}function A(i,e,n){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new $t(n&&i.Da&&!i.ra?new ii({jb:!0}):i.ra)).Ka(i.H),e}function $(){}function R(){if(en&&!(10<=Number(Rr)))throw Error("Environmental error: no available transport.")}function K(i,e){dt.call(this),this.g=new x(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!Ye(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ye(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new ct(this)}function Ee(i){Bt.call(this);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function et(){Mn.call(this),this.status=1}function ct(i){this.g=i}(he=$t.prototype).Ka=function(i){this.L=i},he.da=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():pr.g(),this.C=function $e(i){return i.h||(i.h=i.i())}(this.u?this.u:pr),this.g.onreadystatechange=Ft(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(c){return void ta(this,c)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const c of o.keys())n.set(c,o.get(c))}o=Array.from(n.keys()).find(c=>"content-type"==c.toLowerCase()),u=ne.FormData&&i instanceof ne.FormData,!(0<=Ie(uo,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,p]of n)this.g.setRequestHeader(c,p);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{mt(this),0<this.B&&((this.K=function Qs(i){return en&&function vr(){return function At(i){var e=kr;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Fe(String(Cn)).split("."),n=Fe("9").split("."),o=Math.max(e.length,n.length);for(let p=0;0==i&&p<o;p++){var u=e[p]||"",c=n[p]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==u[0].length&&0==c[0].length)break;i=je(0==u[1].length?0:parseInt(u[1],10),0==c[1].length?0:parseInt(c[1],10))||je(0==u[2].length,0==c[2].length)||je(u[2],c[2]),u=u[3],c=c[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ft(this.qa,this)):this.A=xe(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(c){ta(this,c)}},he.qa=function(){typeof Ne<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mt(this,"timeout"),this.abort(8))},he.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Mt(this,"complete"),Mt(this,"abort"),fs(this))},he.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fs(this,!0)),$t.X.M.call(this)},he.Ha=function(){this.s||(this.F||this.v||this.l?na(this):this.fb())},he.fb=function(){na(this)},he.aa=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},he.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},he.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),oo(e)}},he.Ea=function(){return this.m},he.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(he=x.prototype).ma=8,he.G=1,he.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const u=new jr(this,this.j,i,void 0);let c=this.s;if(this.S&&(c?(c=_r(c),xt(c,this.S)):c=this.S),null!==this.o||this.N||(u.H=c,c=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){var o=this.i[n];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=gi(this,u,e),nr(n=ks(this.F),"RID",i),nr(n,"CVER",22),this.D&&nr(n,"X-HTTP-Session-Id",this.D),us(this,n),c&&(this.N?e="headers="+encodeURIComponent(String(co(c)))+"&"+e:this.o&&F(n,this.o,c)),Sn(this.h,u),this.Ya&&nr(n,"TYPE","init"),this.O?(nr(n,"$req",e),nr(n,"SID","null"),u.Z=!0,Ci(u,n,null)):Ci(u,n,e),this.G=2}}else 3==this.G&&(i?Bs(this,i):0==this.i.length||Ur(this.h)||Bs(this))},he.Ia=function(){if(this.u=null,$s(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=ri(Ft(this.eb,this),i)}},he.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Vn(10),Ze(this),$s(this))},he.cb=function(){null!=this.v&&(this.v=null,Ze(this),Xs(this),Vn(19))},he.kb=function(i){i?(this.j.info("Successfully pinged google.com"),Vn(2)):(this.j.info("Failed to ping google.com"),Vn(1))},(he=$.prototype).xa=function(){},he.wa=function(){},he.va=function(){},he.ua=function(){},he.Ra=function(){},R.prototype.g=function(i,e){return new K(i,e)},ce(K,dt),K.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,n=this.h||void 0;Vn(0),i.V=e,i.ia=n||{},i.L=i.Y,i.F=qo(i,null,i.V),zr(i)},K.prototype.close=function(){Y(this.g)},K.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=ye(i),i=n);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&zr(e)},K.prototype.M=function(){this.g.l=null,delete this.j,Y(this.g),delete this.g,K.X.M.call(this)},ce(Ee,Bt),ce(et,Mn),ce(ct,$),ct.prototype.xa=function(){Mt(this.g,"a")},ct.prototype.wa=function(i){Mt(this.g,new Ee(i))},ct.prototype.va=function(i){Mt(this.g,new et(i))},ct.prototype.ua=function(){Mt(this.g,"b")},R.prototype.createWebChannel=R.prototype.g,K.prototype.send=K.prototype.u,K.prototype.open=K.prototype.m,K.prototype.close=K.prototype.close,Hr.NO_ERROR=0,Hr.TIMEOUT=8,Hr.HTTP_ERROR=6,ke.COMPLETE="complete",at.EventType=It,It.OPEN="a",It.CLOSE="b",It.ERROR="c",It.MESSAGE="d",dt.prototype.listen=dt.prototype.N,$t.prototype.listenOnce=$t.prototype.O,$t.prototype.getLastError=$t.prototype.Oa,$t.prototype.getLastErrorCode=$t.prototype.Ea,$t.prototype.getStatus=$t.prototype.aa,$t.prototype.getResponseJson=$t.prototype.Sa,$t.prototype.getResponseText=$t.prototype.fa,$t.prototype.send=$t.prototype.da,$t.prototype.setWithCredentials=$t.prototype.Ka;var Yt=ie.createWebChannelTransport=function(){return new R},Er=ie.getStatEventTarget=function(){return ni()},gr=ie.ErrorCode=Hr,Cr=ie.EventType=ke,mr=ie.Event=ui,Xn=ie.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},yr=ie.FetchXmlHttpFactory=ii,Bn=ie.WebChannel=at,fo=ie.XhrIo=$t;const ps="@firebase/firestore";class Or{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Or.UNAUTHENTICATED=new Or(null),Or.GOOGLE_CREDENTIALS=new Or("google-credentials-uid"),Or.FIRST_PARTY=new Or("first-party-uid"),Or.MOCK_USER=new Or("mock-user");let Li="9.12.1";const qi=new me.Yd("@firebase/firestore");function Cs(){return qi.logLevel}function bt(i,...e){if(qi.logLevel<=me.in.DEBUG){const n=e.map(w);qi.debug(`Firestore (${Li}): ${i}`,...n)}}function U(i,...e){if(qi.logLevel<=me.in.ERROR){const n=e.map(w);qi.error(`Firestore (${Li}): ${i}`,...n)}}function v(i,...e){if(qi.logLevel<=me.in.WARN){const n=e.map(w);qi.warn(`Firestore (${Li}): ${i}`,...n)}}function w(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function M(i="Unexpected state"){const e=`FIRESTORE (${Li}) INTERNAL ASSERTION FAILED: `+i;throw U(e),new Error(e)}function B(i,e){i||M()}function re(i,e){return i}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends z.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class qt{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class an{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Or.UNAUTHENTICATED))}shutdown(){}}class xn{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Jn{constructor(e){this.t=e,this.currentUser=Or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const c=H=>this.i!==u?(u=this.i,n(H)):Promise.resolve();let p=new rt;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new rt,e.enqueueRetryable(()=>c(this.currentUser))};const b=()=>{const H=p;e.enqueueRetryable((0,f.Z)(function*(){yield H.promise,yield c(o.currentUser)}))},L=H=>{bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(H=>L(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?L(H):(bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new rt)}},0),b()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(B("string"==typeof o.accessToken),new qt(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return B(null===e||"string"==typeof e),new Or(e)}}class En{constructor(e,n,o,u){this.h=e,this.l=n,this.m=o,this.g=u,this.type="FirstParty",this.user=Or.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(B(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class kn{constructor(e,n,o,u){this.h=e,this.l=n,this.m=o,this.g=u}getToken(){return Promise.resolve(new En(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Dr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pr{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const o=c=>{null!=c.error&&bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const p=c.token!==this.A;return this.A=c.token,bt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>o(c))};const u=c=>{bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.T.onInit(c=>u(c)),setTimeout(()=>{if(!this.appCheck){const c=this.T.getImmediate({optional:!0});c?u(c):bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(B("string"==typeof n.token),this.A=n.token,new Dr(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function cr(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class li{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=cr(40);for(let c=0;c<u.length;++c)o.length<20&&u[c]<n&&(o+=e.charAt(u[c]%e.length))}return o}}function In(i,e){return i<e?-1:i>e?1:0}function _i(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class rr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new fe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rr.fromMillis(Date.now())}static fromDate(e){return rr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new rr(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?In(this.nanoseconds,e.nanoseconds):In(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new gn(e)}static min(){return new gn(new rr(0,0))}static max(){return new gn(new rr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ns{constructor(e,n,o){void 0===n?n=0:n>e.length&&M(),void 0===o?o=e.length-n:o>e.length-n&&M(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===ns.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ns?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const c=e.get(u),p=n.get(u);if(c<p)return-1;if(c>p)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ir extends ns{construct(e,n,o){return new ir(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new fe(Z.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new ir(n)}static emptyPath(){return new ir([])}}const No=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class er extends ns{construct(e,n,o){return new er(e,n,o)}static isValidIdentifier(e){return No.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),er.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new er(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const c=()=>{if(0===o.length)throw new fe(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let p=!1;for(;u<e.length;){const b=e[u];if("\\"===b){if(u+1===e.length)throw new fe(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[u+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new fe(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=L,u+=2}else"`"===b?(p=!p,u++):"."!==b||p?(o+=b,u++):(c(),u++)}if(c(),p)throw new fe(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new er(n)}static emptyPath(){return new er([])}}class Ot{constructor(e){this.path=e}static fromPath(e){return new Ot(ir.fromString(e))}static fromName(e){return new Ot(ir.fromString(e).popFirst(5))}static empty(){return new Ot(ir.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ir.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return ir.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ot(new ir(e.slice()))}}function Js(i){return new sr(i.readTime,i.key,-1)}class sr{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new sr(gn.min(),Ot.empty(),-1)}static max(){return new sr(gn.max(),Ot.empty(),-1)}}function ka(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Ot.comparator(i.documentKey,e.documentKey),0!==n?n:In(i.largestBatchId,e.largestBatchId))}const Ko="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function Ki(i){return Tr.apply(this,arguments)}function Tr(){return Tr=(0,f.Z)(function*(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==Ko)throw i;bt("LocalStore","Unexpectedly lost primary lease")}),Tr.apply(this,arguments)}class We{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&M(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new We((o,u)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(o,u)},this.catchCallback=c=>{this.wrapFailure(n,c).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof We?n:We.resolve(n)}catch(n){return We.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):We.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):We.reject(n)}static resolve(e){return new We((n,o)=>{n(e)})}static reject(e){return new We((n,o)=>{o(e)})}static waitFor(e){return new We((n,o)=>{let u=0,c=0,p=!1;e.forEach(b=>{++u,b.next(()=>{++c,p&&c===u&&n()},L=>o(L))}),p=!0,c===u&&n()})}static or(e){let n=We.resolve(!1);for(const o of e)n=n.next(u=>u?We.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,c)=>{o.push(n.call(this,u,c))}),this.waitFor(o)}static mapArray(e,n){return new We((o,u)=>{const c=e.length,p=new Array(c);let b=0;for(let L=0;L<c;L++){const H=L;n(e[H]).next(te=>{p[H]=te,++b,b===c&&o(p)},te=>u(te))}})}static doWhile(e,n){return new We((o,u)=>{const c=()=>{!0===e()?n().next(()=>{c()},u):o()};c()})}}function Yo(i){return"IndexedDbTransactionError"===i.name}class Yi{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>n.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Ca(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Zo(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Ta(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}Yi.at=-1;class Rn{constructor(e,n){this.comparator=e,this.root=n||As.EMPTY}insert(e,n){return new Rn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,As.BLACK,null,null))}remove(e){return new Rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,As.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hu(this.root,e,this.comparator,!0)}}class Hu{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?o(e.key,n):1,n&&u&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class As{constructor(e,n,o,u,c){this.key=e,this.value=n,this.color=o??As.RED,this.left=u??As.EMPTY,this.right=c??As.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,c){return new As(e??this.key,n??this.value,o??this.color,u??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const c=o(e,u.key);return u=c<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===c?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return As.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return As.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,As.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,As.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw M();const e=this.left.check();if(e!==this.right.check())throw M();return e+(this.isRed()?0:1)}}As.EMPTY=null,As.RED=!0,As.BLACK=!1,As.EMPTY=new class{constructor(){this.size=0}get key(){throw M()}get value(){throw M()}get color(){throw M()}get left(){throw M()}get right(){throw M()}copy(i,e,n,o,u){return this}insert(i,e,n){return new As(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jr{constructor(e){this.comparator=e,this.data=new Rn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new La(this.data.getIterator())}getIteratorFrom(e){return new La(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Jr)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,c=o.getNext().key;if(0!==this.comparator(u,c))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jr(this.comparator);return n.data=e,n}}class La{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ms{constructor(e){this.fields=e,e.sort(er.comparator)}static empty(){return new Ms([])}unionWith(e){let n=new Jr(er.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new Ms(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _i(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class si{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new si(n)}static fromUint8Array(e){const n=function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u}(e);return new si(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return In(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}si.EMPTY_BYTE_STRING=new si("");const oc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ua(i){if(B(!!i),"string"==typeof i){let e=0;const n=oc.exec(i);if(B(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Fn(i.seconds),nanos:Fn(i.nanos)}}function Fn(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Fo(i){return"string"==typeof i?si.fromBase64String(i):si.fromUint8Array(i)}function la(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function su(i){const e=i.mapValue.fields.__previous_value__;return la(e)?su(e):e}function Va(i){const e=ua(i.mapValue.fields.__local_write_time__.timestampValue);return new rr(e.seconds,e.nanos)}class wi{constructor(e,n,o,u,c,p,b,L){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=c,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.useFetchStreams=L}}class rs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new rs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof rs&&e.projectId===this.projectId&&e.database===this.database}}function Sa(i){return null==i}function ca(i){return 0===i&&1/i==-1/0}const bo_mapValue={fields:{__type__:{stringValue:"__max__"}}};function ya(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?la(i)?4:$r(i)?9007199254740991:10:M()}function va(i,e){if(i===e)return!0;const n=ya(i);if(n!==ya(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Va(i).isEqual(Va(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=ua(o.timestampValue),p=ua(u.timestampValue);return c.seconds===p.seconds&&c.nanos===p.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,Fo(i.bytesValue).isEqual(Fo(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Fn(o.geoPointValue.latitude)===Fn(u.geoPointValue.latitude)&&Fn(o.geoPointValue.longitude)===Fn(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Fn(o.integerValue)===Fn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Fn(o.doubleValue),p=Fn(u.doubleValue);return c===p?ca(c)===ca(p):isNaN(c)&&isNaN(p)}return!1}(i,e);case 9:return _i(i.arrayValue.values||[],e.arrayValue.values||[],va);case 10:return function(o,u){const c=o.mapValue.fields||{},p=u.mapValue.fields||{};if(Ca(c)!==Ca(p))return!1;for(const b in c)if(c.hasOwnProperty(b)&&(void 0===p[b]||!va(c[b],p[b])))return!1;return!0}(i,e);default:return M()}var u}function _(i,e){return void 0!==(i.values||[]).find(n=>va(n,e))}function E(i,e){if(i===e)return 0;const n=ya(i),o=ya(e);if(n!==o)return In(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return In(i.booleanValue,e.booleanValue);case 2:return function(u,c){const p=Fn(u.integerValue||u.doubleValue),b=Fn(c.integerValue||c.doubleValue);return p<b?-1:p>b?1:p===b?0:isNaN(p)?isNaN(b)?0:-1:1}(i,e);case 3:return m(i.timestampValue,e.timestampValue);case 4:return m(Va(i),Va(e));case 5:return In(i.stringValue,e.stringValue);case 6:return function(u,c){const p=Fo(u),b=Fo(c);return p.compareTo(b)}(i.bytesValue,e.bytesValue);case 7:return function(u,c){const p=u.split("/"),b=c.split("/");for(let L=0;L<p.length&&L<b.length;L++){const H=In(p[L],b[L]);if(0!==H)return H}return In(p.length,b.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,c){const p=In(Fn(u.latitude),Fn(c.latitude));return 0!==p?p:In(Fn(u.longitude),Fn(c.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,c){const p=u.values||[],b=c.values||[];for(let L=0;L<p.length&&L<b.length;++L){const H=E(p[L],b[L]);if(H)return H}return In(p.length,b.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,c){if(u===bo_mapValue&&c===bo_mapValue)return 0;if(u===bo_mapValue)return 1;if(c===bo_mapValue)return-1;const p=u.fields||{},b=Object.keys(p),L=c.fields||{},H=Object.keys(L);b.sort(),H.sort();for(let te=0;te<b.length&&te<H.length;++te){const we=In(b[te],H[te]);if(0!==we)return we;const Qe=E(p[b[te]],L[H[te]]);if(0!==Qe)return Qe}return In(b.length,H.length)}(i.mapValue,e.mapValue);default:throw M()}}function m(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return In(i,e);const n=ua(i),o=ua(e),u=In(n.seconds,o.seconds);return 0!==u?u:In(n.nanos,o.nanos)}function T(i){return O(i)}function O(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=ua(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Fo(i.bytesValue).toBase64():"referenceValue"in i?Ot.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",c=!0;for(const p of o.values||[])c?c=!1:u+=",",u+=O(p);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let c="{",p=!0;for(const b of u)p?p=!1:c+=",",c+=`${b}:${O(o.fields[b])}`;return c+"}"}(i.mapValue):M();var e}function le(i){return!!i&&"integerValue"in i}function ge(i){return!!i&&"arrayValue"in i}function Je(i){return!!i&&"nullValue"in i}function Nt(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function An(i){return!!i&&"mapValue"in i}function Ht(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Zo(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=Ht(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ht(i.arrayValue.values[n]);return e}return Object.assign({},i)}function $r(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class Zi{constructor(e){this.value=e}static empty(){return new Zi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!An(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ht(n)}setAll(e){let n=er.emptyPath(),o={},u=[];e.forEach((p,b)=>{if(!n.isImmediateParentOf(b)){const L=this.getFieldsMap(n);this.applyChanges(L,o,u),o={},u=[],n=b.popLast()}p?o[b.lastSegment()]=Ht(p):u.push(b.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,o,u)}delete(e){const n=this.field(e.popLast());An(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return va(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];An(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){Zo(n,(u,c)=>e[u]=c);for(const u of o)delete e[u]}clone(){return new Zi(Ht(this.value))}}function Qo(i){const e=[];return Zo(i.fields,(n,o)=>{const u=new er([n]);if(An(o)){const c=Qo(o.mapValue).fields;if(0===c.length)e.push(u);else for(const p of c)e.push(u.child(p))}else e.push(u)}),new Ms(e)}class Sr{constructor(e,n,o,u,c,p){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.data=c,this.documentState=p}static newInvalidDocument(e){return new Sr(e,0,gn.min(),gn.min(),Zi.empty(),0)}static newFoundDocument(e,n,o){return new Sr(e,1,n,gn.min(),o,0)}static newNoDocument(e,n){return new Sr(e,2,n,gn.min(),Zi.empty(),0)}static newUnknownDocument(e,n){return new Sr(e,3,n,gn.min(),Zi.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Sr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Sr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nd{constructor(e,n=null,o=[],u=[],c=null,p=null,b=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=c,this.startAt=p,this.endAt=b,this.ht=null}}function Aa(i,e=null,n=[],o=[],u=null,c=null,p=null){return new nd(i,e,n,o,u,c,p)}function _a(i){const e=re(i);if(null===e.ht){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+T(u.value);var u}).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Sa(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>T(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>T(o)).join(",")),e.ht=n}return e.ht}function da(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!ss(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((n=i.filters[u]).op!==(o=e.filters[u]).op||!n.field.isEqual(o.field)||!va(n.value,o.value))return!1;var n,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Ma(i.startAt,e.startAt)&&Ma(i.endAt,e.endAt)}function Za(i){return Ot.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class N extends class{}{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.lt(e,n,o):new G(e,n,o):"array-contains"===n?new Dt(e,o):"in"===n?new Ut(e,o):"not-in"===n?new Nn(e,o):"array-contains-any"===n?new jn(e,o):new N(e,n,o)}static lt(e,n,o){return"in"===n?new ae(e,o):new Le(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.ft(E(n,this.value)):null!==n&&ya(this.value)===ya(n)&&this.ft(E(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return M()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class G extends N{constructor(e,n,o){super(e,n,o),this.key=Ot.fromName(o.referenceValue)}matches(e){const n=Ot.comparator(e.key,this.key);return this.ft(n)}}class ae extends N{constructor(e,n){super(e,"in",n),this.keys=Xe(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Le extends N{constructor(e,n){super(e,"not-in",n),this.keys=Xe(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Xe(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>Ot.fromName(o.referenceValue))}class Dt extends N{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ge(n)&&_(n.arrayValue,this.value)}}class Ut extends N{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&_(this.value.arrayValue,n)}}class Nn extends N{constructor(e,n){super(e,"not-in",n)}matches(e){if(_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!_(this.value.arrayValue,n)}}class jn extends N{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ge(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>_(this.value.arrayValue,o))}}class $n{constructor(e,n){this.position=e,this.inclusive=n}}class Dn{constructor(e,n="asc"){this.field=e,this.dir=n}}function ss(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Ps(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const c=e[u],p=i.position[u];if(o=c.field.isKeyField()?Ot.comparator(Ot.fromName(p.referenceValue),n.key):E(p,n.data.field(c.field)),"desc"===c.dir&&(o*=-1),0!==o)break}return o}function Ma(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!va(i.position[n],e.position[n]))return!1;return!0}class Co{constructor(e,n=null,o=[],u=[],c=null,p="F",b=null,L=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=c,this.limitType=p,this.startAt=b,this.endAt=L,this._t=null,this.wt=null}}function Lo(i){return new Co(i)}function xa(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function $a(i){const e=re(i);if(null===e._t){e._t=[];const n=function Pa(i){for(const e of i.filters)if(e.dt())return e.field;return null}(e),o=function ha(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}(e);if(null!==n&&null===o)n.isKeyField()||e._t.push(new Dn(n)),e._t.push(new Dn(er.keyField(),"asc"));else{let u=!1;for(const c of e.explicitOrderBy)e._t.push(c),c.field.isKeyField()&&(u=!0);if(!u){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new Dn(er.keyField(),c))}}}return e._t}function Vo(i){const e=re(i);if(!e.wt)if("F"===e.limitType)e.wt=Aa(e.path,e.collectionGroup,$a(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const c of $a(e))n.push(new Dn(c.field,"desc"===c.dir?"asc":"desc"));const o=e.endAt?new $n(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new $n(e.startAt.position,e.startAt.inclusive):null;e.wt=Aa(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e.wt}function yl(i,e,n){return new Co(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Gu(i,e){return da(Vo(i),Vo(e))&&i.limitType===e.limitType}function rd(i){return`${_a(Vo(i))}|lt:${i.limitType}`}function Du(i){return`Query(target=${function ju(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(n=>{return`${(o=n).field.canonicalString()} ${o.op} ${T(o.value)}`;var o}).join(", ")}]`),Sa(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(n=>{return`${(o=n).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(n=>T(n)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(n=>T(n)).join(",")),`Target(${e})`}(Vo(i))}; limitType=${i.limitType})`}function bu(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):Ot.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of n.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,c,p){const b=Ps(u,c,p);return u.inclusive?b<=0:b<0}(n.startAt,$a(n),o)||n.endAt&&!function(u,c,p){const b=Ps(u,c,p);return u.inclusive?b>=0:b>0}(n.endAt,$a(n),o)));var n,o}function ac(i){return(e,n)=>{let o=!1;for(const u of $a(i)){const c=ip(u,e,n);if(0!==c)return c;o=o||u.field.isKeyField()}return 0}}function ip(i,e,n){const o=i.field.isKeyField()?Ot.comparator(e.key,n.key):function(u,c,p){const b=c.data.field(u),L=p.data.field(u);return null!==b&&null!==L?E(b,L):M()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return M()}}function uc(i,e){if(i.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ca(e)?"-0":e}}function Sh(i){return{integerValue:""+i}}function zu(i,e){return function Ua(i){return"number"==typeof i&&Number.isInteger(i)&&!ca(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?Sh(e):uc(i,e)}class vl{constructor(){this._=void 0}}function sd(i,e,n){return i instanceof fa?function(o,u){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(c.fields.__previous_value__=u),{mapValue:c}}(n,e):i instanceof au?wl(i,e):i instanceof Cu?Wu(i,e):function(o,u){const c=El(o,u),p=Il(c)+Il(o.yt);return le(c)&&le(o.yt)?Sh(p):uc(o.It,p)}(i,e)}function _l(i,e,n){return i instanceof au?wl(i,e):i instanceof Cu?Wu(i,e):n}function El(i,e){return i instanceof uu?le(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class fa extends vl{}class au extends vl{constructor(e){super(),this.elements=e}}function wl(i,e){const n=od(e);for(const o of i.elements)n.some(u=>va(u,o))||n.push(o);return{arrayValue:{values:n}}}class Cu extends vl{constructor(e){super(),this.elements=e}}function Wu(i,e){let n=od(e);for(const o of i.elements)n=n.filter(u=>!va(u,o));return{arrayValue:{values:n}}}class uu extends vl{constructor(e,n){super(),this.It=e,this.yt=n}}function Il(i){return Fn(i.integerValue||i.doubleValue)}function od(i){return ge(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Ah{constructor(e,n){this.version=e,this.transformResults=n}}class $i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $i}static exists(e){return new $i(void 0,e)}static updateTime(e){return new $i(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dl(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class bl{}function ad(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new ze(i.key,$i.none()):new h(i.key,i.data,$i.none());{const n=i.data,o=Zi.empty();let u=new Jr(er.comparator);for(let c of e.fields)if(!u.has(c)){let p=n.field(c);null===p&&c.length>1&&(c=c.popLast(),p=n.field(c)),null===p?o.delete(c):o.set(c,p),u=u.add(c)}return new g(i.key,o,new Ms(u.toArray()),$i.none())}}function Ha(i,e,n){i instanceof h?function(o,u,c){const p=o.value.clone(),b=q(o.fieldTransforms,u,c.transformResults);p.setAll(b),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(i,e,n):i instanceof g?function(o,u,c){if(!Dl(o.precondition,u))return void u.convertToUnknownDocument(c.version);const p=q(o.fieldTransforms,u,c.transformResults),b=u.data;b.setAll(C(o)),b.setAll(p),u.convertToFoundDocument(c.version,b).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function ja(i,e,n,o){return i instanceof h?function(u,c,p,b){if(!Dl(u.precondition,c))return p;const L=u.value.clone(),H=ee(u.fieldTransforms,b,c);return L.setAll(H),c.convertToFoundDocument(c.version,L).setHasLocalMutations(),null}(i,e,n,o):i instanceof g?function(u,c,p,b){if(!Dl(u.precondition,c))return p;const L=ee(u.fieldTransforms,b,c),H=c.data;return H.setAll(C(u)),H.setAll(L),c.convertToFoundDocument(c.version,H).setHasLocalMutations(),null===p?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(te=>te.field))}(i,e,n,o):(p=n,Dl(i.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):p);var c,p}function Mh(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),c=El(o.transform,u||null);null!=c&&(null===n&&(n=Zi.empty()),n.set(o.field,c))}return n||null}function D(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&_i(n,o,(u,c)=>function lc(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof au&&o instanceof au||n instanceof Cu&&o instanceof Cu?_i(n.elements,o.elements,va):n instanceof uu&&o instanceof uu?va(n.yt,o.yt):n instanceof fa&&o instanceof fa);var n,o}(u,c))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class h extends bl{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class g extends bl{constructor(e,n,o,u,c=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function C(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function q(i,e,n){const o=new Map;B(i.length===n.length);for(let u=0;u<n.length;u++){const c=i[u],p=c.transform,b=e.data.field(c.field);o.set(c.field,_l(p,b,n[u]))}return o}function ee(i,e,n){const o=new Map;for(const u of i){const c=u.transform,p=n.data.field(u.field);o.set(u.field,sd(c,p,e))}return o}class ze extends bl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yt extends bl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sn{constructor(e){this.count=e}}var Qt,Xt;function Yr(i){switch(i){default:return M();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function To(i){if(void 0===i)return U("GRPC error has no .code"),Z.UNKNOWN;switch(i){case Qt.OK:return Z.OK;case Qt.CANCELLED:return Z.CANCELLED;case Qt.UNKNOWN:return Z.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return Z.INTERNAL;case Qt.UNAVAILABLE:return Z.UNAVAILABLE;case Qt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Qt.NOT_FOUND:return Z.NOT_FOUND;case Qt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Qt.ABORTED:return Z.ABORTED;case Qt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Qt.DATA_LOSS:return Z.DATA_LOSS;default:return M()}}(Xt=Qt||(Qt={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";class go{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,c]of o)if(this.equalsFn(u,e))return c}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let c=0;c<u.length;c++)if(this.equalsFn(u[c][0],e))return void(u[c]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Zo(this.inner,(n,o)=>{for(const[u,c]of o)e(u,c)})}isEmpty(){return Ta(this.inner)}size(){return this.innerSize}}const qu=new Rn(Ot.comparator);function mo(){return qu}const cc=new Rn(Ot.comparator);function Ku(...i){let e=cc;for(const n of i)e=e.insert(n.key,n);return e}function ud(i){let e=cc;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function Uo(){return Zu()}function Yu(){return Zu()}function Zu(){return new go(i=>i.toString(),(i,e)=>i.isEqual(e))}const ld=new Rn(Ot.comparator),dc=new Jr(Ot.comparator);function dr(...i){let e=dc;for(const n of i)e=e.add(n);return e}const hc=new Jr(In);function Cl(){return hc}class fc{constructor(e,n,o,u,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,Tl.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new fc(gn.min(),u,Cl(),mo(),dr())}}class Tl{constructor(e,n,o,u,c){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new Tl(o,n,dr(),dr(),dr())}}class Qu{constructor(e,n,o,u){this.Tt=e,this.removedTargetIds=n,this.key=o,this.Et=u}}class sp{constructor(e,n){this.targetId=e,this.At=n}}class cd{constructor(e,n,o=si.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class op{constructor(){this.Rt=0,this.bt=up(),this.Pt=si.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=dr(),n=dr(),o=dr();return this.bt.forEach((u,c)=>{switch(c){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:M()}}),new Tl(this.Pt,this.vt,e,n,o)}Nt(){this.Vt=!1,this.bt=up()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class js{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=mo(),this.qt=ap(),this.Kt=new Jr(In)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const o=this.zt(n);switch(e.state){case 0:this.Ht(n)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),o.Ct(e.resumeToken));break;default:M()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((o,u)=>{this.Ht(u)&&n(u)})}Yt(e){const n=e.targetId,o=e.At.count,u=this.Xt(n);if(u){const c=u.target;if(Za(c))if(0===o){const p=new Ot(c.path);this.jt(n,p,Sr.newNoDocument(p,gn.min()))}else B(1===o);else this.Zt(n)!==o&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((c,p)=>{const b=this.Xt(p);if(b){if(c.current&&Za(b.target)){const L=new Ot(b.target.path);null!==this.Ut.get(L)||this.ee(p,L)||this.jt(p,L,Sr.newNoDocument(L,e))}c.Dt&&(n.set(p,c.xt()),c.Nt())}});let o=dr();this.qt.forEach((c,p)=>{let b=!0;p.forEachWhile(L=>{const H=this.Xt(L);return!H||2===H.purpose||(b=!1,!1)}),b&&(o=o.add(c))}),this.Ut.forEach((c,p)=>p.setReadTime(e));const u=new fc(e,n,this.Kt,this.Ut,o);return this.Ut=mo(),this.qt=ap(),this.Kt=new Jr(In),u}Qt(e,n){if(!this.Ht(e))return;const o=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,o),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,o){if(!this.Ht(e))return;const u=this.zt(e);this.ee(e,n)?u.kt(n,1):u.Ot(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),o&&(this.Ut=this.Ut.insert(n,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let n=this.Lt.get(e);return n||(n=new op,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new Jr(In),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=null!==this.Xt(e);return n||bt("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new op),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function ap(){return new Rn(Ot.comparator)}function up(){return new Rn(Ot.comparator)}const xh={asc:"ASCENDING",desc:"DESCENDING"},lp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class sm{constructor(e,n){this.databaseId=e,this.gt=n}}function pc(i,e){return i.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cp(i,e){return i.gt?e.toBase64():e.toUint8Array()}function om(i,e){return pc(i,e.toTimestamp())}function yo(i){return B(!!i),gn.fromTimestamp(function(e){const n=ua(e);return new rr(n.seconds,n.nanos)}(i))}function dp(i,e){return(n=i,new ir(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function am(i){const e=ir.fromString(i);return B(mp(e)),e}function cu(i,e){return dp(i.databaseId,e.path)}function Ra(i,e){const n=am(e);if(n.get(1)!==i.databaseId.projectId)throw new fe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new fe(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ot(hp(n))}function dd(i,e){return dp(i.databaseId,e)}function Sl(i){return new ir(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function hp(i){return B(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Rh(i,e,n){return{name:cu(i,e),fields:n.value.mapValue.fields}}function kh(i,e){return{documents:[dd(i,e.path)]}}function du(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=dd(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=dd(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(L){if(0===L.length)return;const H=L.map(te=>function(we){if("=="===we.op){if(Nt(we.value))return{unaryFilter:{field:hu(we.field),op:"IS_NAN"}};if(Je(we.value))return{unaryFilter:{field:hu(we.field),op:"IS_NULL"}}}else if("!="===we.op){if(Nt(we.value))return{unaryFilter:{field:hu(we.field),op:"IS_NOT_NAN"}};if(Je(we.value))return{unaryFilter:{field:hu(we.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hu(we.field),op:Lh(we.op),value:we.value}}}(te));return 1===H.length?H[0]:{compositeFilter:{op:"AND",filters:H}}}(e.filters);u&&(n.structuredQuery.where=u);const c=function(L){if(0!==L.length)return L.map(H=>{return{field:hu((te=H).field),direction:um(te.dir)};var te})}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const p=(H=e.limit,i.gt||Sa(H)?H:{value:H});var H,b,L;return null!==p&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt={before:(b=e.startAt).inclusive,values:b.position}),e.endAt&&(n.structuredQuery.endAt={before:!(L=e.endAt).inclusive,values:L.position}),n}function pp(i){let e=function Ph(i){const e=am(i);return 4===e.length?ir.emptyPath():hp(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){B(1===o);const te=n.from[0];te.allDescendants?u=te.collectionId:e=e.child(te.collectionId)}let c=[];n.where&&(c=yc(n.where));let p=[];n.orderBy&&(p=n.orderBy.map(te=>{return new Dn(Na((we=te).field),function(Qe){switch(Qe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(we.direction));var we}));let b=null;n.limit&&(b=function(te){let we;return we="object"==typeof te?te.value:te,Sa(we)?null:we}(n.limit));let L=null;var te;n.startAt&&(L=new $n((te=n.startAt).values||[],!!te.before));let H=null;return n.endAt&&(H=function(te){return new $n(te.values||[],!te.before)}(n.endAt)),function Ba(i,e,n,o,u,c,p,b){return new Co(i,e,n,o,u,c,p,b)}(e,u,p,c,b,"F",L,H)}function yc(i){return i?void 0!==i.unaryFilter?[Vh(i)]:void 0!==i.fieldFilter?[gp(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>yc(e)).reduce((e,n)=>e.concat(n)):M():[]}function um(i){return xh[i]}function Lh(i){return lp[i]}function hu(i){return{fieldPath:i.canonicalString()}}function Na(i){return er.fromServerFormat(i.fieldPath)}function gp(i){return N.create(Na(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return M()}}(i.fieldFilter.op),i.fieldFilter.value)}function Vh(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Na(i.unaryFilter.field);return N.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Na(i.unaryFilter.field);return N.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Na(i.unaryFilter.field);return N.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Na(i.unaryFilter.field);return N.create(u,"!=",{nullValue:"NULL_VALUE"});default:return M()}}function lm(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mp(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class bp{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const c=this.mutations[u];c.key.isEqual(e.key)&&Ha(c,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=ja(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=ja(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=Yu();return this.mutations.forEach(u=>{const c=e.get(u.key),p=c.overlayedDocument;let b=this.applyToLocalView(p,c.mutatedFields);b=n.has(u.key)?null:b;const L=ad(p,b);null!==L&&o.set(u.key,L),p.isValidDocument()||p.convertToNoDocument(gn.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),dr())}isEqual(e){return this.batchId===e.batchId&&_i(this.mutations,e.mutations,(n,o)=>D(n,o))&&_i(this.baseMutations,e.baseMutations,(n,o)=>D(n,o))}}class Cp{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){B(e.mutations.length===o.length);let u=ld;const c=e.mutations;for(let p=0;p<c.length;p++)u=u.insert(c[p].key,o[p].version);return new Cp(e,n,o,u)}}class Ec{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Xu{constructor(e,n,o,u,c=gn.min(),p=gn.min(),b=si.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b}withSequenceNumber(e){return new Xu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Xu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Xu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class vm{constructor(e){this.re=e}}function gd(i){const e=pp({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?yl(e,e.limit,"L"):e}class el{constructor(){}ce(e,n){this.ae(e,n),n.he()}ae(e,n){if("nullValue"in e)this.le(n,5);else if("booleanValue"in e)this.le(n,10),n.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(n,15),n.fe(Fn(e.integerValue));else if("doubleValue"in e){const o=Fn(e.doubleValue);isNaN(o)?this.le(n,13):(this.le(n,15),ca(o)?n.fe(0):n.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(n,20),"string"==typeof o?n.de(o):(n.de(`${o.seconds||""}`),n.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,n),this.we(n);else if("bytesValue"in e)this.le(n,30),n.me(Fo(e.bytesValue)),this.we(n);else if("referenceValue"in e)this.ge(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(n,45),n.fe(o.latitude||0),n.fe(o.longitude||0)}else"mapValue"in e?$r(e)?this.le(n,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,n),this.we(n)):"arrayValue"in e?(this.pe(e.arrayValue,n),this.we(n)):M()}_e(e,n){this.le(n,25),this.Ie(e,n)}Ie(e,n){n.de(e)}ye(e,n){const o=e.fields||{};this.le(n,55);for(const u of Object.keys(o))this._e(u,n),this.ae(o[u],n)}pe(e,n){const o=e.values||[];this.le(n,50);for(const u of o)this.ae(u,n)}ge(e,n){this.le(n,37),Ot.fromName(e).path.forEach(o=>{this.le(n,60),this.Ie(o,n)})}le(e,n){e.fe(n)}we(e){e.fe(2)}}el.Te=new el;class Xo{constructor(){this.Ye=new bc}addToCollectionParentIndex(e,n){return this.Ye.add(n),We.resolve()}getCollectionParents(e,n){return We.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return We.resolve()}deleteFieldIndex(e,n){return We.resolve()}getDocumentsMatchingTarget(e,n){return We.resolve(null)}getIndexType(e,n){return We.resolve(0)}getFieldIndexes(e,n){return We.resolve([])}getNextCollectionGroupToUpdate(e){return We.resolve(null)}getMinOffset(e,n){return We.resolve(sr.min())}getMinOffsetFromCollectionGroup(e,n){return We.resolve(sr.min())}updateCollectionGroup(e,n,o){return We.resolve()}updateIndexEntries(e,n){return We.resolve()}}class bc{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new Jr(ir.comparator),c=!u.has(o);return this.index[n]=u.add(o),c}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Jr(ir.comparator)).toArray()}}new Uint8Array(0);class pa{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new pa(e,pa.DEFAULT_COLLECTION_PERCENTILE,pa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}pa.DEFAULT_COLLECTION_PERCENTILE=10,pa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pa.DEFAULT=new pa(41943040,pa.DEFAULT_COLLECTION_PERCENTILE,pa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pa.DISABLED=new pa(-1,0,0);class nl{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new nl(0)}static vn(){return new nl(-1)}}class Fp{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Sm{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.getBaseDocument(e,n,o))).next(u=>(null!==o&&ja(o.mutation,u,Ms.empty(),rr.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,dr()).next(()=>o))}getLocalViewOfDocuments(e,n,o=dr()){const u=Uo();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(c=>{let p=Ku();return c.forEach((b,L)=>{p=p.insert(b,L.overlayedDocument)}),p}))}getOverlayedDocuments(e,n){const o=Uo();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,dr()))}populateOverlays(e,n,o){const u=[];return o.forEach(c=>{n.has(c)||u.push(c)}),this.documentOverlayCache.getOverlays(e,u).next(c=>{c.forEach((p,b)=>{n.set(p,b)})})}computeViews(e,n,o,u){let c=mo();const p=Zu(),b=Zu();return n.forEach((L,H)=>{const te=o.get(H.key);u.has(H.key)&&(void 0===te||te.mutation instanceof g)?c=c.insert(H.key,H):void 0!==te&&(p.set(H.key,te.mutation.getFieldMask()),ja(te.mutation,H,te.mutation.getFieldMask(),rr.now()))}),this.recalculateAndSaveOverlays(e,c).next(L=>(L.forEach((H,te)=>p.set(H,te)),n.forEach((H,te)=>{var we;return b.set(H,new Fp(te,null!==(we=p.get(H))&&void 0!==we?we:null))}),b))}recalculateAndSaveOverlays(e,n){const o=Zu();let u=new Rn((p,b)=>p-b),c=dr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(p=>{for(const b of p)b.keys().forEach(L=>{const H=n.get(L);if(null===H)return;let te=o.get(L)||Ms.empty();te=b.applyToLocalView(H,te),o.set(L,te);const we=(u.get(b.batchId)||dr()).add(L);u=u.insert(b.batchId,we)})}).next(()=>{const p=[],b=u.getReverseIterator();for(;b.hasNext();){const L=b.getNext(),H=L.key,te=L.value,we=Yu();te.forEach(Qe=>{if(!c.has(Qe)){const ht=ad(n.get(Qe),o.get(Qe));null!==ht&&we.set(Qe,ht),c=c.add(Qe)}}),p.push(this.documentOverlayCache.saveOverlays(e,H,we))}return We.waitFor(p)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return Ot.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function Ea(i){return null!==i.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var u}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(c=>{const p=u-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-c.size):We.resolve(Uo());let b=-1,L=c;return p.next(H=>We.forEach(H,(te,we)=>(b<we.largestBatchId&&(b=we.largestBatchId),c.get(te)?We.resolve():this.getBaseDocument(e,te,we).next(Qe=>{L=L.insert(te,Qe)}))).next(()=>this.populateOverlays(e,H,c)).next(()=>this.computeViews(e,L,H,dr())).next(te=>({batchId:b,changes:ud(te)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ot(n)).next(o=>{let u=Ku();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const u=n.collectionGroup;let c=Ku();return this.indexManager.getCollectionParents(e,u).next(p=>We.forEach(p,b=>{const L=(H=n,te=b.child(u),new Co(te,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,te;return this.getDocumentsMatchingCollectionQuery(e,L,o).next(H=>{H.forEach((te,we)=>{c=c.insert(te,we)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,o){let u;return this.remoteDocumentCache.getAllFromCollection(e,n.path,o).next(c=>(u=c,this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId))).next(c=>{c.forEach((b,L)=>{const H=L.getKey();null===u.get(H)&&(u=u.insert(H,Sr.newInvalidDocument(H)))});let p=Ku();return u.forEach((b,L)=>{const H=c.get(b);void 0!==H&&ja(H.mutation,L,Ms.empty(),rr.now()),bu(n,L)&&(p=p.insert(b,L))}),p})}getBaseDocument(e,n,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,n):We.resolve(Sr.newInvalidDocument(n))}}class Fl{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return We.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var o;return this.Zn.set(n.id,{id:(o=n).id,version:o.version,createTime:yo(o.createTime)}),We.resolve()}getNamedQuery(e,n){return We.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,{name:(o=n).name,query:gd(o.bundledQuery),readTime:yo(o.readTime)}),We.resolve();var o}}class Yh{constructor(){this.overlays=new Rn(Ot.comparator),this.es=new Map}getOverlay(e,n){return We.resolve(this.overlays.get(n))}getOverlays(e,n){const o=Uo();return We.forEach(n,u=>this.getOverlay(e,u).next(c=>{null!==c&&o.set(u,c)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,c)=>{this.ue(e,n,c)}),We.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.es.get(o);return void 0!==u&&(u.forEach(c=>this.overlays=this.overlays.remove(c)),this.es.delete(o)),We.resolve()}getOverlaysForCollection(e,n,o){const u=Uo(),c=n.length+1,p=new Ot(n.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const L=b.getNext().value,H=L.getKey();if(!n.isPrefixOf(H.path))break;H.path.length===c&&L.largestBatchId>o&&u.set(L.getKey(),L)}return We.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let c=new Rn((H,te)=>H-te);const p=this.overlays.getIterator();for(;p.hasNext();){const H=p.getNext().value;if(H.getKey().getCollectionGroup()===n&&H.largestBatchId>o){let te=c.get(H.largestBatchId);null===te&&(te=Uo(),c=c.insert(H.largestBatchId,te)),te.set(H.getKey(),H)}}const b=Uo(),L=c.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((H,te)=>b.set(H,te)),!(b.size()>=u)););return We.resolve(b)}ue(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const p=this.es.get(u.largestBatchId).delete(o.key);this.es.set(u.largestBatchId,p)}this.overlays=this.overlays.insert(o.key,new Ec(n,o));let c=this.es.get(n);void 0===c&&(c=dr(),this.es.set(n,c)),this.es.set(n,c.add(o.key))}}class wd{constructor(){this.ns=new Jr(vo.ss),this.rs=new Jr(vo.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const o=new vo(e,n);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.cs(new vo(e,n))}hs(e,n){e.forEach(o=>this.removeReference(o,n))}ls(e){const n=new Ot(new ir([])),o=new vo(n,e),u=new vo(n,e+1),c=[];return this.rs.forEachInRange([o,u],p=>{this.cs(p),c.push(p.key)}),c}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new Ot(new ir([])),o=new vo(n,e),u=new vo(n,e+1);let c=dr();return this.rs.forEachInRange([o,u],p=>{c=c.add(p.key)}),c}containsKey(e){const n=new vo(e,0),o=this.ns.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class vo{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return Ot.comparator(e.key,n.key)||In(e._s,n._s)}static os(e,n){return In(e._s,n._s)||Ot.comparator(e.key,n.key)}}class Zh{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Jr(vo.ss)}checkEmpty(e){return We.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const c=this.ws;this.ws++;const p=new bp(c,n,o,u);this.mutationQueue.push(p);for(const b of u)this.gs=this.gs.add(new vo(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return We.resolve(p)}lookupMutationBatch(e,n){return We.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.ps(n+1),c=u<0?0:u;return We.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return We.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return We.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new vo(n,0),u=new vo(n,Number.POSITIVE_INFINITY),c=[];return this.gs.forEachInRange([o,u],p=>{const b=this.ys(p._s);c.push(b)}),We.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Jr(In);return n.forEach(u=>{const c=new vo(u,0),p=new vo(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([c,p],b=>{o=o.add(b._s)})}),We.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let c=o;Ot.isDocumentKey(c)||(c=c.child(""));const p=new vo(new Ot(c),0);let b=new Jr(In);return this.gs.forEachWhile(L=>{const H=L.key.path;return!!o.isPrefixOf(H)&&(H.length===u&&(b=b.add(L._s)),!0)},p),We.resolve(this.Is(b))}Is(e){const n=[];return e.forEach(o=>{const u=this.ys(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){B(0===this.Ts(n.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return We.forEach(n.mutations,u=>{const c=new vo(u.key,n.batchId);return o=o.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,n){const o=new vo(n,0),u=this.gs.firstAfterOrEqual(o);return We.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return We.resolve()}Ts(e,n){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Am{constructor(e){this.Es=e,this.docs=new Rn(Ot.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),c=u?u.size:0,p=this.Es(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:p}),this.size+=p-c,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return We.resolve(o?o.document.mutableCopy():Sr.newInvalidDocument(n))}getEntries(e,n){let o=mo();return n.forEach(u=>{const c=this.docs.get(u);o=o.insert(u,c?c.document.mutableCopy():Sr.newInvalidDocument(u))}),We.resolve(o)}getAllFromCollection(e,n,o){let u=mo();const c=new Ot(n.child("")),p=this.docs.getIteratorFrom(c);for(;p.hasNext();){const{key:b,value:{document:L}}=p.getNext();if(!n.isPrefixOf(b.path))break;b.path.length>n.length+1||ka(Js(L),o)<=0||(u=u.insert(L.key,L.mutableCopy()))}return We.resolve(u)}getAllFromCollectionGroup(e,n,o,u){M()}As(e,n){return We.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new Mm(this)}getSize(e){return We.resolve(this.size)}}class Mm extends class qh{constructor(){this.changes=new go(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Sr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?We.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(o)}),We.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}class xm{constructor(e){this.persistence=e,this.Rs=new go(n=>_a(n),da),this.lastRemoteSnapshotVersion=gn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new wd,this.targetCount=0,this.vs=nl.Pn()}forEachTarget(e,n){return this.Rs.forEach((o,u)=>n(u)),We.resolve()}getLastRemoteSnapshotVersion(e){return We.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return We.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),We.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.bs&&(this.bs=n),We.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new nl(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,We.resolve()}updateTargetData(e,n){return this.Dn(n),We.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,We.resolve()}removeTargets(e,n,o){let u=0;const c=[];return this.Rs.forEach((p,b)=>{b.sequenceNumber<=n&&null===o.get(b.targetId)&&(this.Rs.delete(p),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),u++)}),We.waitFor(c).next(()=>u)}getTargetCount(e){return We.resolve(this.targetCount)}getTargetData(e,n){const o=this.Rs.get(n)||null;return We.resolve(o)}addMatchingKeys(e,n,o){return this.Ps.us(n,o),We.resolve()}removeMatchingKeys(e,n,o){this.Ps.hs(n,o);const u=this.persistence.referenceDelegate,c=[];return u&&n.forEach(p=>{c.push(u.markPotentiallyOrphaned(e,p))}),We.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),We.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Ps.ds(n);return We.resolve(o)}containsKey(e,n){return We.resolve(this.Ps.containsKey(n))}}class Lp{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Yi(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new xm(this),this.indexManager=new Xo,this.remoteDocumentCache=new Am(o=>this.referenceDelegate.xs(o)),this.It=new vm(n),this.Ns=new Fl(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Yh,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Vs[e.toKey()];return o||(o=new Zh(n,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,o){bt("MemoryPersistence","Starting transaction:",e);const u=new Pm(this.Ss.next());return this.referenceDelegate.ks(),o(u).next(c=>this.referenceDelegate.Os(u).next(()=>c)).toPromise().then(c=>(u.raiseOnCommittedEvent(),c))}Ms(e,n){return We.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,n)))}}class Pm extends class Si{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Id{constructor(e){this.persistence=e,this.Fs=new wd,this.$s=null}static Bs(e){return new Id(e)}get Ls(){if(this.$s)return this.$s;throw M()}addReference(e,n,o){return this.Fs.addReference(o,n),this.Ls.delete(o.toString()),We.resolve()}removeReference(e,n,o){return this.Fs.removeReference(o,n),this.Ls.add(o.toString()),We.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),We.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(u=>this.Ls.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(c=>this.Ls.add(c.toString()))}).next(()=>o.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return We.forEach(this.Ls,o=>{const u=Ot.fromPath(o);return this.Us(e,u).next(c=>{c||n.removeEntry(u,gn.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(o=>{o?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return We.or([()=>We.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}class Sd{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Si=o,this.Di=u}static Ci(e,n){let o=dr(),u=dr();for(const c of n.docChanges)switch(c.type){case 0:o=o.add(c.doc.key);break;case 1:u=u.add(c.doc.key)}return new Sd(e,n.fromCache,o,u)}}class xu{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,o,u){return this.ki(e,n).next(c=>c||this.Oi(e,n,u,o)).next(c=>c||this.Mi(e,n))}ki(e,n){if(xa(n))return We.resolve(null);let o=Vo(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=yl(n,null,"F"),o=Vo(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(c=>{const p=dr(...c);return this.Ni.getDocuments(e,p).next(b=>this.indexManager.getMinOffset(e,o).next(L=>{const H=this.Fi(n,b);return this.$i(n,H,p,L.readTime)?this.ki(e,yl(n,null,"F")):this.Bi(e,H,n,L)}))})))}Oi(e,n,o,u){return xa(n)||u.isEqual(gn.min())?this.Mi(e,n):this.Ni.getDocuments(e,o).next(c=>{const p=this.Fi(n,c);return this.$i(n,p,o,u)?this.Mi(e,n):(Cs()<=me.in.DEBUG&&bt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Du(n)),this.Bi(e,p,n,function Ei(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=gn.fromTimestamp(1e9===o?new rr(n+1,0):new rr(n,o));return new sr(u,Ot.empty(),e)}(u,-1)))})}Fi(e,n){let o=new Jr(ac(e));return n.forEach((u,c)=>{bu(e,c)&&(o=o.add(c))}),o}$i(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const c="F"===e.limitType?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(u)>0)}Mi(e,n){return Cs()<=me.in.DEBUG&&bt("QueryEngine","Using full collection scan to execute query:",Du(n)),this.Ni.getDocumentsMatchingQuery(e,n,sr.min())}Bi(e,n,o,u){return this.Ni.getDocumentsMatchingQuery(e,o,u).next(c=>(n.forEach(p=>{c=c.insert(p.key,p)}),c))}}class Up{constructor(e,n,o,u){this.persistence=e,this.Li=n,this.It=u,this.Ui=new Rn(In),this.qi=new go(c=>_a(c),da),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sm(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function Bp(i,e){return $p.apply(this,arguments)}function $p(){return $p=(0,f.Z)(function*(i,e){const n=re(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(c=>(u=c,n.Qi(e),n.mutationQueue.getAllMutationBatches(o))).next(c=>{const p=[],b=[];let L=dr();for(const H of u){p.push(H.batchId);for(const te of H.mutations)L=L.add(te.key)}for(const H of c){b.push(H.batchId);for(const te of H.mutations)L=L.add(te.key)}return n.localDocuments.getDocuments(o,L).next(H=>({ji:H,removedBatchIds:p,addedBatchIds:b}))})})}),$p.apply(this,arguments)}function Ad(i,e){const n=re(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),c=n.Gi.newChangeBuffer({trackRemovals:!0});return function(p,b,L,H){const te=L.batch,we=te.keys();let Qe=We.resolve();return we.forEach(ht=>{Qe=Qe.next(()=>H.getEntry(b,ht)).next(vt=>{const Jt=L.docVersions.get(ht);B(null!==Jt),vt.version.compareTo(Jt)<0&&(te.applyToRemoteDocument(vt,L),vt.isValidDocument()&&(vt.setReadTime(L.commitVersion),H.addEntry(vt)))})}),Qe.next(()=>p.mutationQueue.removeMutationBatch(b,te))}(n,o,e,c).next(()=>c.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(p){let b=dr();for(let L=0;L<p.mutationResults.length;++L)p.mutationResults[L].transformResults.length>0&&(b=b.add(p.batch.mutations[L].key));return b}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}function Hp(i){const e=re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function jp(i,e){const n=re(i),o=e.snapshotVersion;let u=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const p=n.Gi.newChangeBuffer({trackRemovals:!0});u=n.Ui;const b=[];e.targetChanges.forEach((te,we)=>{const Qe=u.get(we);if(!Qe)return;b.push(n.Cs.removeMatchingKeys(c,te.removedDocuments,we).next(()=>n.Cs.addMatchingKeys(c,te.addedDocuments,we)));let ht=Qe.withSequenceNumber(c.currentSequenceNumber);var vt,Jt,mn;e.targetMismatches.has(we)?ht=ht.withResumeToken(si.EMPTY_BYTE_STRING,gn.min()).withLastLimboFreeSnapshotVersion(gn.min()):te.resumeToken.approximateByteSize()>0&&(ht=ht.withResumeToken(te.resumeToken,o)),u=u.insert(we,ht),Jt=ht,mn=te,(0===(vt=Qe).resumeToken.approximateByteSize()||Jt.snapshotVersion.toMicroseconds()-vt.snapshotVersion.toMicroseconds()>=3e8||mn.addedDocuments.size+mn.modifiedDocuments.size+mn.removedDocuments.size>0)&&b.push(n.Cs.updateTargetData(c,ht))});let L=mo(),H=dr();if(e.documentUpdates.forEach(te=>{e.resolvedLimboDocuments.has(te)&&b.push(n.persistence.referenceDelegate.updateLimboDocument(c,te))}),b.push(function Xh(i,e,n){let o=dr(),u=dr();return n.forEach(c=>o=o.add(c)),e.getEntries(i,o).next(c=>{let p=mo();return n.forEach((b,L)=>{const H=c.get(b);L.isFoundDocument()!==H.isFoundDocument()&&(u=u.add(b)),L.isNoDocument()&&L.version.isEqual(gn.min())?(e.removeEntry(b,L.readTime),p=p.insert(b,L)):!H.isValidDocument()||L.version.compareTo(H.version)>0||0===L.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(L),p=p.insert(b,L)):bt("LocalStore","Ignoring outdated watch update for ",b,". Current version:",H.version," Watch version:",L.version)}),{Wi:p,zi:u}})}(c,p,e.documentUpdates).next(te=>{L=te.Wi,H=te.zi})),!o.isEqual(gn.min())){const te=n.Cs.getLastRemoteSnapshotVersion(c).next(we=>n.Cs.setTargetsMetadata(c,c.currentSequenceNumber,o));b.push(te)}return We.waitFor(b).next(()=>p.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,L,H)).next(()=>L)}).then(c=>(n.Ui=u,c))}function Gp(i,e){const n=re(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Pu(i,e){const n=re(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.Cs.getTargetData(o,e).next(c=>c?(u=c,We.resolve(u)):n.Cs.allocateTargetId(o).next(p=>(u=new Xu(e,p,0,o.currentSequenceNumber),n.Cs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.Ui.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(o.targetId,o),n.qi.set(e,o.targetId)),o})}function il(i,e,n){return Ll.apply(this,arguments)}function Ll(){return Ll=(0,f.Z)(function*(i,e,n){const o=re(i),u=o.Ui.get(e),c=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",c,p=>o.persistence.referenceDelegate.removeTarget(p,u)))}catch(p){if(!Yo(p))throw p;bt("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}o.Ui=o.Ui.remove(e),o.qi.delete(u.target)}),Ll.apply(this,arguments)}function sl(i,e,n){const o=re(i);let u=gn.min(),c=dr();return o.persistence.runTransaction("Execute query","readonly",p=>function(b,L,H){const te=re(b),we=te.qi.get(H);return void 0!==we?We.resolve(te.Ui.get(we)):te.Cs.getTargetData(L,H)}(o,p,Vo(e)).next(b=>{if(b)return u=b.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(p,b.targetId).next(L=>{c=L})}).next(()=>o.Li.getDocumentsMatchingQuery(p,e,n?u:gn.min(),n?c:dr())).next(b=>(function ef(i,e,n){let o=i.Ki.get(e)||gn.min();n.forEach((u,c)=>{c.readTime.compareTo(o)>0&&(o=c.readTime)}),i.Ki.set(e,o)}(o,function id(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),b),{documents:b,Hi:c})))}class rf{constructor(){this.activeTargetIds=Cl()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qp{constructor(){this.Lr=new rf,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,o){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new rf,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Nm{qr(e){}shutdown(){}}class Oa{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){bt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){bt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Om={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Kp{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class km extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,o,u,c){const p=this.ho(e,n);bt("RestConnection","Sending: ",p,o);const b={};return this.lo(b,u,c),this.fo(e,p,b,o).then(L=>(bt("RestConnection","Received: ",L),L),L=>{throw v("RestConnection",`${e} failed with error: `,L,"url: ",p,"request:",o),L})}_o(e,n,o,u,c,p){return this.ao(e,n,o,u,c)}lo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Li,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,c)=>e[c]=u),o&&o.headers.forEach((u,c)=>e[c]=u)}ho(e,n){return`${this.oo}/v1/${n}:${Om[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,o,u){return new Promise((c,p)=>{const b=new fo;b.setWithCredentials(!0),b.listenOnce(Cr.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case gr.NO_ERROR:const H=b.getResponseJson();bt("Connection","XHR received:",JSON.stringify(H)),c(H);break;case gr.TIMEOUT:bt("Connection",'RPC "'+e+'" timed out'),p(new fe(Z.DEADLINE_EXCEEDED,"Request time out"));break;case gr.HTTP_ERROR:const te=b.getStatus();if(bt("Connection",'RPC "'+e+'" failed with status:',te,"response text:",b.getResponseText()),te>0){const we=b.getResponseJson().error;if(we&&we.status&&we.message){const Qe=function(ht){const vt=ht.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(vt)>=0?vt:Z.UNKNOWN}(we.status);p(new fe(Qe,we.message))}else p(new fe(Z.UNKNOWN,"Server responded with status "+b.getStatus()))}else p(new fe(Z.UNAVAILABLE,"Connection failed."));break;default:M()}}finally{bt("Connection",'RPC "'+e+'" completed.')}});const L=JSON.stringify(u);b.send(n,"POST",L,o,15)})}wo(e,n,o){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Yt(),p=Er(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(b.xmlHttpFactory=new yr({})),this.lo(b.initMessageHeaders,n,o),b.encodeInitMessageHeaders=!0;const L=u.join("");bt("Connection","Creating WebChannel: "+L,b);const H=c.createWebChannel(L,b);let te=!1,we=!1;const Qe=new Kp({Hr:vt=>{we?bt("Connection","Not sending because WebChannel is closed:",vt):(te||(bt("Connection","Opening WebChannel transport."),H.open(),te=!0),bt("Connection","WebChannel sending:",vt),H.send(vt))},Jr:()=>H.close()}),ht=(vt,Jt,mn)=>{vt.listen(Jt,oi=>{try{mn(oi)}catch(Pi){setTimeout(()=>{throw Pi},0)}})};return ht(H,Bn.EventType.OPEN,()=>{we||bt("Connection","WebChannel transport opened.")}),ht(H,Bn.EventType.CLOSE,()=>{we||(we=!0,bt("Connection","WebChannel transport closed"),Qe.io())}),ht(H,Bn.EventType.ERROR,vt=>{we||(we=!0,v("Connection","WebChannel transport errored:",vt),Qe.io(new fe(Z.UNAVAILABLE,"The operation could not be completed")))}),ht(H,Bn.EventType.MESSAGE,vt=>{var Jt;if(!we){const mn=vt.data[0];B(!!mn);const oi=mn,Pi=oi.error||(null===(Jt=oi[0])||void 0===Jt?void 0:Jt.error);if(Pi){bt("Connection","WebChannel received error:",Pi);const di=Pi.status;let Rs=function(hi){const Eo=Qt[hi];if(void 0!==Eo)return To(Eo)}(di),Ii=Pi.message;void 0===Rs&&(Rs=Z.INTERNAL,Ii="Unknown error status: "+di+" with message "+Pi.message),we=!0,Qe.io(new fe(Rs,Ii)),H.close()}else bt("Connection","WebChannel received:",mn),Qe.ro(mn)}}),ht(p,mr.STAT_EVENT,vt=>{vt.stat===Xn.PROXY?bt("Connection","Detected buffering proxy"):vt.stat===Xn.NOPROXY&&bt("Connection","Detected no buffering proxy")}),setTimeout(()=>{Qe.so()},0),Qe}}function Od(){return typeof document<"u"?document:null}function Rc(i){return new sm(i,!0)}class kd{constructor(e,n,o=1e3,u=1.5,c=6e4){this.Hs=e,this.timerId=n,this.mo=o,this.yo=u,this.po=c,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),u=Math.max(0,n-o);u>0&&bt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Zp{constructor(e,n,o,u,c,p,b,L){this.Hs=e,this.vo=o,this.Vo=u,this.So=c,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=L,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new kd(e,n)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,f.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,f.Z)(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,n){var o=this;return(0,f.Z)(function*(){o.Uo(),o.qo(),o.No.cancel(),o.Do++,4!==e?o.No.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(U(n.toString()),U("Using maximum backoff delay to prevent overloading the backend."),o.No.Ao()):n&&n.code===Z.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Ko(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(n)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Do===n&&this.Qo(o,u)},o=>{e(()=>{const u=new fe(Z.UNKNOWN,"Fetching auth token failed: "+o.message);return this.jo(u)})})}Qo(e,n){const o=this.Go(this.Do);this.stream=this.Wo(e,n),this.stream.Yr(()=>{o(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{o(()=>this.jo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Mo(){var e=this;this.state=5,this.No.Ro((0,f.Z)(function*(){e.state=0,e.start()}))}jo(e){return bt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return n=>{this.Hs.enqueueAndForget(()=>this.Do===e?n():(bt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fm extends Zp{constructor(e,n,o,u,c,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,p),this.It=c}Wo(e,n){return this.So.wo("Listen",e,n)}onMessage(e){this.No.reset();const n=function bv(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(L=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===L?1:"REMOVE"===L?2:"CURRENT"===L?3:"RESET"===L?4:M(),u=e.targetChange.targetIds||[],c=function(L,H){return L.gt?(B(void 0===H||"string"==typeof H),si.fromBase64String(H||"")):(B(void 0===H||H instanceof Uint8Array),si.fromUint8Array(H||new Uint8Array))}(i,e.targetChange.resumeToken),p=e.targetChange.cause,b=p&&function(L){const H=void 0===L.code?Z.UNKNOWN:To(L.code);return new fe(H,L.message||"")}(p);n=new cd(o,u,c,b||null)}else if("documentChange"in e){const o=e.documentChange,u=Ra(i,o.document.name),c=yo(o.document.updateTime),p=new Zi({mapValue:{fields:o.document.fields}}),b=Sr.newFoundDocument(u,c,p);n=new Qu(o.targetIds||[],o.removedTargetIds||[],b.key,b)}else if("documentDelete"in e){const o=e.documentDelete,u=Ra(i,o.document),c=o.readTime?yo(o.readTime):gn.min(),p=Sr.newNoDocument(u,c);n=new Qu([],o.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const o=e.documentRemove,u=Ra(i,o.document);n=new Qu([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return M();{const o=e.filter,c=new sn(o.count||0);n=new sp(o.targetId,c)}}var L;return n}(this.It,e),o=function(u){if(!("targetChange"in u))return gn.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?gn.min():c.readTime?yo(c.readTime):gn.min()}(e);return this.listener.zo(n,o)}Ho(e){const n={};n.database=Sl(this.It),n.addTarget=function(u,c){let p;const b=c.target;return p=Za(b)?{documents:kh(u,b)}:{query:du(u,b)},p.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?p.resumeToken=cp(u,c.resumeToken):c.snapshotVersion.compareTo(gn.min())>0&&(p.readTime=pc(u,c.snapshotVersion.toTimestamp())),p}(this.It,e);const o=function Fh(i,e){const n=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return M()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Lo(n)}Jo(e){const n={};n.database=Sl(this.It),n.removeTarget=e,this.Lo(n)}}class Lm extends Zp{constructor(e,n,o,u,c,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,p),this.It=c,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,n){return this.So.wo("Write",e,n)}onMessage(e){if(B(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const n=function fp(i,e){return i&&i.length>0?(B(void 0!==e),i.map(n=>function(o,u){let c=yo(o.updateTime?o.updateTime:u);return c.isEqual(gn.min())&&(c=yo(u)),new Ah(c,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=yo(e.commitTime);return this.listener.tu(o,n)}return B(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Sl(this.It),this.Lo(e)}Zo(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function gc(i,e){let n;if(e instanceof h)n={update:Rh(i,e.key,e.value)};else if(e instanceof ze)n={delete:cu(i,e.key)};else if(e instanceof g)n={update:Rh(i,e.key,e.data),updateMask:lm(e.fieldMask)};else{if(!(e instanceof yt))return M();n={verify:cu(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,c){const p=c.transform;if(p instanceof fa)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof au)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Cu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof uu)return{fieldPath:c.field.canonicalString(),increment:p.yt};throw M()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:om(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:M()),n;var u}(this.It,o))};this.Lo(n)}}class hr extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.So=o,this.It=u,this.su=!1}iu(){if(this.su)throw new fe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.So.ao(e,n,o,u,c)).catch(u=>{throw"FirebaseError"===u.name?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(Z.UNKNOWN,u.toString())})}_o(e,n,o,u){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,p])=>this.So._o(e,n,o,c,p,u)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(Z.UNKNOWN,c.toString())})}terminate(){this.su=!0}}class Xp{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(U(n),this.uu=!1):bt("OnlineStateTracker",n)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class Vm{constructor(e,n,o,u,c){var p=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=c,this.gu.qr(b=>{o.enqueueAndForget((0,f.Z)(function*(){var L;mu(p)&&(bt("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,f.Z)(function*(H){const te=re(H);te.wu.add(4),yield Bl(te),te.yu.set("Unknown"),te.wu.delete(4),yield Nc(te)}),function(H){return L.apply(this,arguments)})(p))}))}),this.yu=new Xp(o,u)}}function Nc(i){return Ld.apply(this,arguments)}function Ld(){return Ld=(0,f.Z)(function*(i){if(mu(i))for(const e of i.mu)yield e(!0)}),Ld.apply(this,arguments)}function Bl(i){return Vd.apply(this,arguments)}function Vd(){return Vd=(0,f.Z)(function*(i){for(const e of i.mu)yield e(!1)}),Vd.apply(this,arguments)}function Ud(i,e){const n=re(i);n._u.has(e.targetId)||(n._u.set(e.targetId,e),gu(n)?Bd(n):$l(n).Oo()&&Jp(n,e))}function Oc(i,e){const n=re(i),o=$l(n);n._u.delete(e),o.Oo()&&sf(n,e),0===n._u.size&&(o.Oo()?o.$o():mu(n)&&n.yu.set("Unknown"))}function Jp(i,e){i.pu.Mt(e.targetId),$l(i).Ho(e)}function sf(i,e){i.pu.Mt(e),$l(i).Jo(e)}function Bd(i){i.pu=new js({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),se:e=>i._u.get(e)||null}),$l(i).start(),i.yu.cu()}function gu(i){return mu(i)&&!$l(i).ko()&&i._u.size>0}function mu(i){return 0===re(i).wu.size}function $d(i){i.pu=void 0}function af(i){return uf.apply(this,arguments)}function uf(){return uf=(0,f.Z)(function*(i){i._u.forEach((e,n)=>{Jp(i,e)})}),uf.apply(this,arguments)}function xv(i,e){return eg.apply(this,arguments)}function eg(){return eg=(0,f.Z)(function*(i,e){$d(i),gu(i)?(i.yu.lu(e),Bd(i)):i.yu.set("Unknown")}),eg.apply(this,arguments)}function Pv(i,e,n){return lf.apply(this,arguments)}function lf(){return lf=(0,f.Z)(function*(i,e,n){if(i.yu.set("Online"),e instanceof cd&&2===e.state&&e.cause)try{yield(o=(0,f.Z)(function*(u,c){const p=c.cause;for(const b of c.targetIds)u._u.has(b)&&(yield u.remoteSyncer.rejectListen(b,p),u._u.delete(b),u.pu.removeTarget(b))}),function(u,c){return o.apply(this,arguments)})(i,e)}catch(o){bt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield kc(i,o)}else if(e instanceof Qu?i.pu.Gt(e):e instanceof sp?i.pu.Yt(e):i.pu.Wt(e),!n.isEqual(gn.min()))try{const o=yield Hp(i.localStore);n.compareTo(o)>=0&&(yield function(u,c){const p=u.pu.te(c);return p.targetChanges.forEach((b,L)=>{if(b.resumeToken.approximateByteSize()>0){const H=u._u.get(L);H&&u._u.set(L,H.withResumeToken(b.resumeToken,c))}}),p.targetMismatches.forEach(b=>{const L=u._u.get(b);if(!L)return;u._u.set(b,L.withResumeToken(si.EMPTY_BYTE_STRING,L.snapshotVersion)),sf(u,b);const H=new Xu(L.target,b,1,L.sequenceNumber);Jp(u,H)}),u.remoteSyncer.applyRemoteEvent(p)}(i,n))}catch(o){bt("RemoteStore","Failed to raise snapshot:",o),yield kc(i,o)}var o}),lf.apply(this,arguments)}function kc(i,e,n){return tg.apply(this,arguments)}function tg(){return tg=(0,f.Z)(function*(i,e,n){if(!Yo(e))throw e;i.wu.add(1),yield Bl(i),i.yu.set("Offline"),n||(n=()=>Hp(i.localStore)),i.asyncQueue.enqueueRetryable((0,f.Z)(function*(){bt("RemoteStore","Retrying IndexedDB access"),yield n(),i.wu.delete(1),yield Nc(i)}))}),tg.apply(this,arguments)}function ng(i,e){return e().catch(n=>kc(i,n,e))}function Ga(i){return cf.apply(this,arguments)}function cf(){return cf=(0,f.Z)(function*(i){const e=re(i),n=al(e);let o=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;rg(e);)try{const u=yield Gp(e.localStore,o);if(null===u){0===e.du.length&&n.$o();break}o=u.batchId,Hd(e,u)}catch(u){yield kc(e,u)}ig(e)&&df(e)}),cf.apply(this,arguments)}function rg(i){return mu(i)&&i.du.length<10}function Hd(i,e){i.du.push(e);const n=al(i);n.Oo()&&n.Xo&&n.Zo(e.mutations)}function ig(i){return mu(i)&&!al(i).ko()&&i.du.length>0}function df(i){al(i).start()}function Um(i){return hf.apply(this,arguments)}function hf(){return hf=(0,f.Z)(function*(i){al(i).nu()}),hf.apply(this,arguments)}function Bm(i){return ff.apply(this,arguments)}function ff(){return ff=(0,f.Z)(function*(i){const e=al(i);for(const n of i.du)e.Zo(n.mutations)}),ff.apply(this,arguments)}function $m(i,e,n){return jd.apply(this,arguments)}function jd(){return jd=(0,f.Z)(function*(i,e,n){const o=i.du.shift(),u=Cp.from(o,e,n);yield ng(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Ga(i)}),jd.apply(this,arguments)}function Hm(i,e){return Gd.apply(this,arguments)}function Gd(){return Gd=(0,f.Z)(function*(i,e){var n;e&&al(i).Xo&&(yield(n=(0,f.Z)(function*(o,u){if(Yr(c=u.code)&&c!==Z.ABORTED){const p=o.du.shift();al(o).Fo(),yield ng(o,()=>o.remoteSyncer.rejectFailedWrite(p.batchId,u)),yield Ga(o)}var c}),function(o,u){return n.apply(this,arguments)})(i,e)),ig(i)&&df(i)}),Gd.apply(this,arguments)}function pf(i,e){return Fc.apply(this,arguments)}function Fc(){return Fc=(0,f.Z)(function*(i,e){const n=re(i);n.asyncQueue.verifyOperationInProgress(),bt("RemoteStore","RemoteStore received new credentials");const o=mu(n);n.wu.add(3),yield Bl(n),o&&n.yu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.wu.delete(3),yield Nc(n)}),Fc.apply(this,arguments)}function Lc(){return Lc=(0,f.Z)(function*(i,e){const n=re(i);e?(n.wu.delete(2),yield Nc(n)):e||(n.wu.add(2),yield Bl(n),n.yu.set("Unknown"))}),Lc.apply(this,arguments)}function $l(i){return i.Iu||(i.Iu=function(e,n,o){const u=re(e);return u.iu(),new Fm(n,u.So,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:af.bind(null,i),Zr:xv.bind(null,i),zo:Pv.bind(null,i)}),i.mu.push(function(){var e=(0,f.Z)(function*(n){n?(i.Iu.Fo(),gu(i)?Bd(i):i.yu.set("Unknown")):(yield i.Iu.stop(),$d(i))});return function(n){return e.apply(this,arguments)}}())),i.Iu}function al(i){return i.Tu||(i.Tu=function(e,n,o){const u=re(e);return u.iu(),new Lm(n,u.So,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:Um.bind(null,i),Zr:Hm.bind(null,i),eu:Bm.bind(null,i),tu:$m.bind(null,i)}),i.mu.push(function(){var e=(0,f.Z)(function*(n){n?(i.Tu.Fo(),yield Ga(i)):(yield i.Tu.stop(),i.du.length>0&&(bt("RemoteStore",`Stopping write stream with ${i.du.length} pending writes`),i.du=[]))});return function(n){return e.apply(this,arguments)}}())),i.Tu}class Ru{constructor(e,n,o,u,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=c,this.deferred=new rt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(e,n,o,u,c){const p=Date.now()+o,b=new Ru(e,n,p,u,c);return b.start(o),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new fe(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ul(i,e){if(U("AsyncQueue",`${e}: ${i}`),Yo(i))return new fe(Z.UNAVAILABLE,`${e}: ${i}`);throw i}class ll{constructor(e){this.comparator=e?(n,o)=>e(n,o)||Ot.comparator(n.key,o.key):(n,o)=>Ot.comparator(n.key,o.key),this.keyedMap=Ku(),this.sortedSet=new Rn(this.comparator)}static emptySet(e){return new ll(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ll)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,c=o.getNext().key;if(!u.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new ll;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class Vc{constructor(){this.Eu=new Rn(Ot.comparator)}track(e){const n=e.doc.key,o=this.Eu.get(n);o?0!==e.type&&3===o.type?this.Eu=this.Eu.insert(n,e):3===e.type&&1!==o.type?this.Eu=this.Eu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Eu=this.Eu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Eu=this.Eu.remove(n):1===e.type&&2===o.type?this.Eu=this.Eu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):M():this.Eu=this.Eu.insert(n,e)}Au(){const e=[];return this.Eu.inorderTraversal((n,o)=>{e.push(o)}),e}}class $o{constructor(e,n,o,u,c,p,b,L,H){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=c,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=L,this.hasCachedResults=H}static fromInitialDocuments(e,n,o,u,c){const p=[];return n.forEach(b=>{p.push({type:0,doc:b})}),new $o(e,n,ll.emptySet(n),p,o,u,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class og{constructor(){this.Ru=void 0,this.listeners=[]}}class jm{constructor(){this.queries=new go(e=>rd(e),Gu),this.onlineState="Unknown",this.bu=new Set}}function za(){return za=(0,f.Z)(function*(i,e){const n=re(i),o=e.query;let u=!1,c=n.queries.get(o);if(c||(u=!0,c=new og),u)try{c.Ru=yield n.onListen(o)}catch(p){const b=ul(p,`Initialization of query '${Du(e.query)}' failed`);return void e.onError(b)}n.queries.set(o,c),c.listeners.push(e),e.Pu(n.onlineState),c.Ru&&e.vu(c.Ru)&&Wd(n)}),za.apply(this,arguments)}function zd(){return zd=(0,f.Z)(function*(i,e){const n=re(i),o=e.query;let u=!1;const c=n.queries.get(o);if(c){const p=c.listeners.indexOf(e);p>=0&&(c.listeners.splice(p,1),u=0===c.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),zd.apply(this,arguments)}function gf(i,e){const n=re(i);let o=!1;for(const u of e){const p=n.queries.get(u.query);if(p){for(const b of p.listeners)b.vu(u)&&(o=!0);p.Ru=u}}o&&Wd(n)}function Rv(i,e,n){const o=re(i),u=o.queries.get(e);if(u)for(const c of u.listeners)c.onError(n);o.queries.delete(e)}function Wd(i){i.bu.forEach(e=>{e.next()})}class ag{constructor(e,n,o){this.query=e,this.Vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=o||{}}vu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new $o(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),n=!0):this.xu(e,this.onlineState)&&(this.Nu(e),n=!0),this.Du=e,n}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let n=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),n=!0),n}xu(e,n){return!e.fromCache||(!this.options.ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=$o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}class Yd{constructor(e){this.key=e}}class Gm{constructor(e){this.key=e}}class ug{constructor(e,n){this.query=e,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=dr(),this.mutatedKeys=dr(),this.Gu=ac(e),this.Qu=new ll(this.Gu)}get ju(){return this.Uu}Wu(e,n){const o=n?n.zu:new Vc,u=n?n.Qu:this.Qu;let c=n?n.mutatedKeys:this.mutatedKeys,p=u,b=!1;const L="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,H="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((te,we)=>{const Qe=u.get(te),ht=bu(this.query,we)?we:null,vt=!!Qe&&this.mutatedKeys.has(Qe.key),Jt=!!ht&&(ht.hasLocalMutations||this.mutatedKeys.has(ht.key)&&ht.hasCommittedMutations);let mn=!1;Qe&&ht?Qe.data.isEqual(ht.data)?vt!==Jt&&(o.track({type:3,doc:ht}),mn=!0):this.Hu(Qe,ht)||(o.track({type:2,doc:ht}),mn=!0,(L&&this.Gu(ht,L)>0||H&&this.Gu(ht,H)<0)&&(b=!0)):!Qe&&ht?(o.track({type:0,doc:ht}),mn=!0):Qe&&!ht&&(o.track({type:1,doc:Qe}),mn=!0,(L||H)&&(b=!0)),mn&&(ht?(p=p.add(ht),c=Jt?c.add(te):c.delete(te)):(p=p.delete(te),c=c.delete(te)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const te="F"===this.query.limitType?p.last():p.first();p=p.delete(te.key),c=c.delete(te.key),o.track({type:1,doc:te})}return{Qu:p,zu:o,$i:b,mutatedKeys:c}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const c=e.zu.Au();c.sort((H,te)=>function(we,Qe){const ht=vt=>{switch(vt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return M()}};return ht(we)-ht(Qe)}(H.type,te.type)||this.Gu(H.doc,te.doc)),this.Ju(o);const p=n?this.Yu():[],b=0===this.Ku.size&&this.current?1:0,L=b!==this.qu;return this.qu=b,0!==c.length||L?{snapshot:new $o(this.query,e.Qu,u,c,e.mutatedKeys,0===b,L,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:p}:{Xu:p}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Vc,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=dr(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const n=[];return e.forEach(o=>{this.Ku.has(o)||n.push(new Gm(o))}),this.Ku.forEach(o=>{e.has(o)||n.push(new Yd(o))}),n}tc(e){this.Uu=e.Hi,this.Ku=dr();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return $o.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class zm{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class Wm{constructor(e){this.key=e,this.nc=!1}}class qm{constructor(e,n,o,u,c,p){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=c,this.maxConcurrentLimboResolutions=p,this.sc={},this.ic=new go(b=>rd(b),Gu),this.rc=new Map,this.oc=new Set,this.uc=new Rn(Ot.comparator),this.cc=new Map,this.ac=new wd,this.hc={},this.lc=new Map,this.fc=nl.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function lg(i,e){return cg.apply(this,arguments)}function cg(){return cg=(0,f.Z)(function*(i,e){const n=Sf(i);let o,u;const c=n.ic.get(e);if(c)o=c.targetId,n.sharedClientState.addLocalQueryTarget(o),u=c.view.ec();else{const p=yield Pu(n.localStore,Vo(e));n.isPrimaryClient&&Ud(n.remoteStore,p);const b=n.sharedClientState.addLocalQueryTarget(p.targetId);o=p.targetId,u=yield yf(n,e,o,"current"===b,p.resumeToken)}return u}),cg.apply(this,arguments)}function yf(i,e,n,o,u){return dg.apply(this,arguments)}function dg(){return dg=(0,f.Z)(function*(i,e,n,o,u){i._c=(we,Qe,ht)=>{return(vt=(0,f.Z)(function*(Jt,mn,oi,Pi){let di=mn.view.Wu(oi);di.$i&&(di=yield sl(Jt.localStore,mn.query,!1).then(({documents:hi})=>mn.view.Wu(hi,di)));const Rs=Pi&&Pi.targetChanges.get(mn.targetId),Ii=mn.view.applyChanges(di,Jt.isPrimaryClient,Rs);return Xd(Jt,mn.targetId,Ii.Xu),Ii.snapshot}),function(Jt,mn,oi,Pi){return vt.apply(this,arguments)})(i,we,Qe,ht);var vt};const c=yield sl(i.localStore,e,!0),p=new ug(e,c.Hi),b=p.Wu(c.documents),L=Tl.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,u),H=p.applyChanges(b,i.isPrimaryClient,L);Xd(i,n,H.Xu);const te=new zm(e,n,p);return i.ic.set(e,te),i.rc.has(n)?i.rc.get(n).push(e):i.rc.set(n,[e]),H.snapshot}),dg.apply(this,arguments)}function hg(i,e){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,f.Z)(function*(i,e){const n=re(i),o=n.ic.get(e),u=n.rc.get(o.targetId);if(u.length>1)return n.rc.set(o.targetId,u.filter(c=>!Gu(c,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield il(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Oc(n.remoteStore,o.targetId),cl(n,o.targetId)}).catch(Ki))):(cl(n,o.targetId),yield il(n.localStore,o.targetId,!0))}),Zd.apply(this,arguments)}function Hc(){return Hc=(0,f.Z)(function*(i,e,n){const o=rh(i);try{const u=yield function(c,p){const b=re(c),L=rr.now(),H=p.reduce((Qe,ht)=>Qe.add(ht.key),dr());let te,we;return b.persistence.runTransaction("Locally write mutations","readwrite",Qe=>{let ht=mo(),vt=dr();return b.Gi.getEntries(Qe,H).next(Jt=>{ht=Jt,ht.forEach((mn,oi)=>{oi.isValidDocument()||(vt=vt.add(mn))})}).next(()=>b.localDocuments.getOverlayedDocuments(Qe,ht)).next(Jt=>{te=Jt;const mn=[];for(const oi of p){const Pi=Mh(oi,te.get(oi.key).overlayedDocument);null!=Pi&&mn.push(new g(oi.key,Pi,Qo(Pi.value.mapValue),$i.exists(!0)))}return b.mutationQueue.addMutationBatch(Qe,L,mn,p)}).next(Jt=>{we=Jt;const mn=Jt.applyToLocalDocumentSet(te,vt);return b.documentOverlayCache.saveOverlays(Qe,Jt.batchId,mn)})}).then(()=>({batchId:we.batchId,changes:ud(te)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(c,p,b){let L=c.hc[c.currentUser.toKey()];L||(L=new Rn(In)),L=L.insert(p,b),c.hc[c.currentUser.toKey()]=L}(o,u.batchId,n),yield Ho(o,u.changes),yield Ga(o.remoteStore)}catch(u){const c=ul(u,"Failed to persist write");n.reject(c)}}),Hc.apply(this,arguments)}function Ym(i,e){return fg.apply(this,arguments)}function fg(){return fg=(0,f.Z)(function*(i,e){const n=re(i);try{const o=yield jp(n.localStore,e);e.targetChanges.forEach((u,c)=>{const p=n.cc.get(c);p&&(B(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?p.nc=!0:u.modifiedDocuments.size>0?B(p.nc):u.removedDocuments.size>0&&(B(p.nc),p.nc=!1))}),yield Ho(n,o,e)}catch(o){yield Ki(o)}}),fg.apply(this,arguments)}function Zm(i,e,n){const o=re(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.ic.forEach((c,p)=>{const b=p.view.Pu(e);b.snapshot&&u.push(b.snapshot)}),function(c,p){const b=re(c);b.onlineState=p;let L=!1;b.queries.forEach((H,te)=>{for(const we of te.listeners)we.Pu(p)&&(L=!0)}),L&&Wd(b)}(o.eventManager,e),u.length&&o.sc.zo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Nv(i,e,n){return pg.apply(this,arguments)}function pg(){return pg=(0,f.Z)(function*(i,e,n){const o=re(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.cc.get(e),c=u&&u.key;if(c){let p=new Rn(Ot.comparator);p=p.insert(c,Sr.newNoDocument(c,gn.min()));const b=dr().add(c),L=new fc(gn.min(),new Map,new Jr(In),p,b);yield Ym(o,L),o.uc=o.uc.remove(c),o.cc.delete(e),Ef(o)}else yield il(o.localStore,e,!1).then(()=>cl(o,e,n)).catch(Ki)}),pg.apply(this,arguments)}function Ov(i,e){return gg.apply(this,arguments)}function gg(){return gg=(0,f.Z)(function*(i,e){const n=re(i),o=e.batch.batchId;try{const u=yield Ad(n.localStore,e);vf(n,o,null),jc(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Ho(n,u)}catch(u){yield Ki(u)}}),gg.apply(this,arguments)}function kv(i,e,n){return mg.apply(this,arguments)}function mg(){return mg=(0,f.Z)(function*(i,e,n){const o=re(i);try{const u=yield function(c,p){const b=re(c);return b.persistence.runTransaction("Reject batch","readwrite-primary",L=>{let H;return b.mutationQueue.lookupMutationBatch(L,p).next(te=>(B(null!==te),H=te.keys(),b.mutationQueue.removeMutationBatch(L,te))).next(()=>b.mutationQueue.performConsistencyCheck(L)).next(()=>b.documentOverlayCache.removeOverlaysForBatchId(L,H,p)).next(()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(L,H)).next(()=>b.localDocuments.getDocuments(L,H))})}(o.localStore,e);vf(o,e,n),jc(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Ho(o,u)}catch(u){yield Ki(u)}}),mg.apply(this,arguments)}function jc(i,e){(i.lc.get(e)||[]).forEach(n=>{n.resolve()}),i.lc.delete(e)}function vf(i,e,n){const o=re(i);let u=o.hc[o.currentUser.toKey()];if(u){const c=u.get(e);c&&(n?c.reject(n):c.resolve(),u=u.remove(e)),o.hc[o.currentUser.toKey()]=u}}function cl(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.rc.get(e))i.ic.delete(o),n&&i.sc.wc(o,n);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(o=>{i.ac.containsKey(o)||Qd(i,o)})}function Qd(i,e){i.oc.delete(e.path.canonicalString());const n=i.uc.get(e);null!==n&&(Oc(i.remoteStore,n),i.uc=i.uc.remove(e),i.cc.delete(n),Ef(i))}function Xd(i,e,n){for(const o of n)o instanceof Yd?(i.ac.addReference(o.key,e),_f(i,o)):o instanceof Gm?(bt("SyncEngine","Document no longer in limbo: "+o.key),i.ac.removeReference(o.key,e),i.ac.containsKey(o.key)||Qd(i,o.key)):M()}function _f(i,e){const n=e.key,o=n.path.canonicalString();i.uc.get(n)||i.oc.has(o)||(bt("SyncEngine","New document in limbo: "+n),i.oc.add(o),Ef(i))}function Ef(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const n=new Ot(ir.fromString(e)),o=i.fc.next();i.cc.set(o,new Wm(n)),i.uc=i.uc.insert(n,o),Ud(i.remoteStore,new Xu(Vo(Lo(n.path)),o,2,Yi.at))}}function Ho(i,e,n){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,f.Z)(function*(i,e,n){const o=re(i),u=[],c=[],p=[];var b;o.ic.isEmpty()||(o.ic.forEach((b,L)=>{p.push(o._c(L,e,n).then(H=>{if((H||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(L.targetId,H?.fromCache?"not-current":"current"),H){u.push(H);const te=Sd.Ci(L.targetId,H);c.push(te)}}))}),yield Promise.all(p),o.sc.zo(u),yield(b=(0,f.Z)(function*(L,H){const te=re(L);try{yield te.persistence.runTransaction("notifyLocalViewChanges","readwrite",we=>We.forEach(H,Qe=>We.forEach(Qe.Si,ht=>te.persistence.referenceDelegate.addReference(we,Qe.targetId,ht)).next(()=>We.forEach(Qe.Di,ht=>te.persistence.referenceDelegate.removeReference(we,Qe.targetId,ht)))))}catch(we){if(!Yo(we))throw we;bt("LocalStore","Failed to update sequence numbers: "+we)}for(const we of H){const Qe=we.targetId;if(!we.fromCache){const ht=te.Ui.get(Qe),Jt=ht.withLastLimboFreeSnapshotVersion(ht.snapshotVersion);te.Ui=te.Ui.insert(Qe,Jt)}}}),function(L,H){return b.apply(this,arguments)})(o.localStore,c))}),Jd.apply(this,arguments)}function Qm(i,e){return wf.apply(this,arguments)}function wf(){return wf=(0,f.Z)(function*(i,e){const n=re(i);if(!n.currentUser.isEqual(e)){bt("SyncEngine","User change. New user:",e.toKey());const o=yield Bp(n.localStore,e);n.currentUser=e,(u=n).lc.forEach(p=>{p.forEach(b=>{b.reject(new fe(Z.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.lc.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Ho(n,o.ji)}var u}),wf.apply(this,arguments)}function yg(i,e){const n=re(i),o=n.cc.get(e);if(o&&o.nc)return dr().add(o.key);{let u=dr();const c=n.rc.get(e);if(!c)return u;for(const p of c){const b=n.ic.get(p);u=u.unionWith(b.view.ju)}return u}}function Sf(i){const e=re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ym.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Nv.bind(null,e),e.sc.zo=gf.bind(null,e.eventManager),e.sc.wc=Rv.bind(null,e.eventManager),e}function rh(i){const e=re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ov.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kv.bind(null,e),e}class Eg{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,f.Z)(function*(){n.It=Rc(e.databaseInfo.databaseId),n.sharedClientState=n.gc(e),n.persistence=n.yc(e),yield n.persistence.start(),n.localStore=n.Ic(e),n.gcScheduler=n.Tc(e,n.localStore),n.indexBackfillerScheduler=n.Ec(e,n.localStore)})()}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return function Qh(i,e,n,o){return new Up(i,e,n,o)}(this.persistence,new xu,e.initialUser,this.It)}yc(e){return new Lp(Id.Bs,this.It)}gc(e){return new qp}terminate(){var e=this;return(0,f.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Jo{initialize(e,n){var o=this;return(0,f.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Zm(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Qm.bind(null,o.syncEngine),yield function sg(i,e){return Lc.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new jm}createDatastore(e){const n=Rc(e.databaseInfo.databaseId),o=new km(e.databaseInfo);return new hr(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,c=b=>Zm(this.syncEngine,b,0),p=Oa.C()?new Oa:new Nm,new Vm(n,o,u,c,p);var n,o,u,c,p}createSyncEngine(e,n){return function(o,u,c,p,b,L,H){const te=new qm(o,u,c,p,b,L);return H&&(te.dc=!0),te}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,f.Z)(function*(n){const o=re(n);bt("RemoteStore","RemoteStore shutting down."),o.wu.add(5),yield Bl(o),o.gu.shutdown(),o.yu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function ih(i,e,n){if(!n)throw new fe(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ry(i){if(!Ot.isDocumentKey(i))throw new fe(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Ig(i){if(Ot.isDocumentKey(i))throw new fe(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function jl(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":M()}function Wr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jl(i);throw new fe(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}const bg=new Map;class Cg{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new fe(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new fe(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function ny(i,e,n,o){if(!0===e&&!0===o)throw new fe(Z.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gl{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new fe(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new fe(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cg(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new an;switch(n.type){case"gapi":return new kn(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new fe(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=bg.get(e);n&&(bt("ComponentProvider","Removing Datastore"),bg.delete(e),n.terminate())}(this),Promise.resolve()}}class ms{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ms(this.firestore,e,this._key)}}class jo{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new jo(this.firestore,e,this._query)}}class eu extends jo{constructor(e,n,o){super(e,n,Lo(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ms(this.firestore,null,new Ot(e))}withConverter(e){return new eu(this.firestore,e,this._path)}}function Tg(i,e,...n){if(i=(0,z.m9)(i),ih("collection","path",e),i instanceof Gl){const o=ir.fromString(e,...n);return Ig(o),new eu(i,null,o)}{if(!(i instanceof ms||i instanceof eu))throw new fe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(ir.fromString(e,...n));return Ig(o),new eu(i.firestore,null,o)}}function Sg(i,e,...n){if(i=(0,z.m9)(i),1===arguments.length&&(e=li.R()),ih("doc","path",e),i instanceof Gl){const o=ir.fromString(e,...n);return ry(o),new ms(i,null,new Ot(o))}{if(!(i instanceof ms||i instanceof eu))throw new fe(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(ir.fromString(e,...n));return ry(o),new ms(i.firestore,i instanceof eu?i.converter:null,new Ot(o))}}class oh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):U("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class cy{constructor(e,n,o,u){var c=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=Or.UNAUTHENTICATED,this.clientId=li.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var p=(0,f.Z)(function*(b){bt("FirestoreClient","Received user=",b.uid),yield c.authCredentialListener(b),c.user=b});return function(b){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(o,p=>(bt("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,f.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new fe(Z.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new rt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=ul(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function Mg(i,e){return zl.apply(this,arguments)}function zl(){return zl=(0,f.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),bt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,f.Z)(function*(c){o.isEqual(c)||(yield Bp(e.localStore,c),o=c)});return function(c){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),zl.apply(this,arguments)}function ah(i,e){return Wl.apply(this,arguments)}function Wl(){return Wl=(0,f.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield xg(i);bt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>pf(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,c)=>pf(e.remoteStore,c)),i.onlineComponents=e}),Wl.apply(this,arguments)}function xg(i){return zc.apply(this,arguments)}function zc(){return zc=(0,f.Z)(function*(i){return i.offlineComponents||(bt("FirestoreClient","Using default OfflineComponentProvider"),yield Mg(i,new Eg)),i.offlineComponents}),zc.apply(this,arguments)}function Mf(i){return uh.apply(this,arguments)}function uh(){return uh=(0,f.Z)(function*(i){return i.onlineComponents||(bt("FirestoreClient","Using default OnlineComponentProvider"),yield ah(i,new Jo)),i.onlineComponents}),uh.apply(this,arguments)}function vu(i){return ql.apply(this,arguments)}function ql(){return ql=(0,f.Z)(function*(i){const e=yield Mf(i),n=e.eventManager;return n.onListen=lg.bind(null,e.syncEngine),n.onUnlisten=hg.bind(null,e.syncEngine),n}),ql.apply(this,arguments)}class py{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new kd(this,"async_queue_retry"),this.Wc=()=>{const n=Od();n&&bt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.No.Po()};const e=Od();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const n=Od();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const n=new rt;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,f.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(n){if(!Yo(n))throw n;bt("AsyncQueue","Operation failed with retryable error: "+n)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{throw this.Kc=o,this.Gc=!1,U("INTERNAL UNHANDLED ERROR: ",function(c){let p=c.message||"";return c.stack&&(p=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),p}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=n,n}enqueueAfterDelay(e,n,o){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const u=Ru.createAndSchedule(this,e,n,o,c=>this.Yc(c));return this.qc.push(u),u}zc(){this.Kc&&M()}verifyOperationInProgress(){}Xc(){var e=this;return(0,f.Z)(function*(){let n;do{n=e.Bc,yield n}while(n!==e.Bc)})()}Zc(e){for(const n of this.qc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.qc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.qc.indexOf(e);this.qc.splice(n,1)}}function Rg(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class Qi extends Gl{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new py,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ch(this),this._firestoreClient.terminate()}}function Nf(i,e){const n="object"==typeof i?i:(0,j.Mq)(),o="string"==typeof i?i:e||"(default)",u=(0,j.qX)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const c=(0,z.P0)("firestore");c&&function iy(i,e,n,o={}){var u;const c=(i=Wr(i,Gl))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&v("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${n}`,ssl:!1})),o.mockUserToken){let p,b;if("string"==typeof o.mockUserToken)p=o.mockUserToken,b=Or.MOCK_USER;else{p=(0,z.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const L=o.mockUserToken.sub||o.mockUserToken.user_id;if(!L)throw new fe(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Or(L)}i._authCredentials=new xn(new qt(p,b))}}(u,...c)}return u}function zs(i){return i._firestoreClient||ch(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function ch(i){var e;const n=i._freezeSettings(),o=(c=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new wi(i._databaseId,c,i._persistenceKey,(b=n).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,b.useFetchStreams));var c,b;i._firestoreClient=new cy(i._authCredentials,i._appCheckCredentials,i._queue,o)}class dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dl(si.fromBase64String(e))}catch(n){throw new fe(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new dl(si.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ku{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new fe(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new er(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wa{constructor(e){this._methodName=e}}class hl{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return In(this._lat,e._lat)||In(this._long,e._long)}}const Go=/^__.*__$/;class fl{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new g(e,this.data,this.fieldMask,n,this.fieldTransforms):new h(e,this.data,n,this.fieldTransforms)}}function wa(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw M()}}class Yl{constructor(e,n,o,u,c,p){this.settings=e,this.databaseId=n,this.It=o,this.ignoreUndefinedProperties=u,void 0===c&&this.na(),this.fieldTransforms=c||[],this.fieldMask=p||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Yl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.ia({path:o,oa:!1});return u.ua(e),u}ca(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.ia({path:o,oa:!1});return u.na(),u}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return gh(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(wa(this.sa)&&Go.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Zl{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=o||Rc(e)}da(e,n,o,u=!1){return new Yl({sa:e,methodName:n,fa:o,path:er.emptyPath(),oa:!1,la:u},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function qa(i){const e=i._freezeSettings(),n=Rc(i._databaseId);return new Zl(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Fu(i,e,n,o,u,c={}){const p=i.da(c.merge||c.mergeFields?2:0,e,n,u);hh("Data must be an object, but it was:",p,o);const b=Vf(o,p);let L,H;if(c.merge)L=new Ms(p.fieldMask),H=p.fieldTransforms;else if(c.mergeFields){const te=[];for(const we of c.mergeFields){const Qe=fh(e,we,n);if(!p.contains(Qe))throw new fe(Z.INVALID_ARGUMENT,`Field '${Qe}' is specified in your field mask but missing from your input data.`);Bf(te,Qe)||te.push(Qe)}L=new Ms(te),H=p.fieldTransforms.filter(we=>L.covers(we.field))}else L=null,H=p.fieldTransforms;return new fl(new Zi(b),L,H)}function Vu(i,e){if(Uf(i=(0,z.m9)(i)))return hh("Unsupported field value:",e,i),Vf(i,e);if(i instanceof Wa)return function(n,o){if(!wa(o.sa))throw o.ha(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(n,o){const u=[];let c=0;for(const p of n){let b=Vu(p,o.aa(c));null==b&&(b={nullValue:"NULL_VALUE"}),u.push(b),c++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,z.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return zu(o.It,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=rr.fromDate(n);return{timestampValue:pc(o.It,u)}}if(n instanceof rr){const u=new rr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:pc(o.It,u)}}if(n instanceof hl)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof dl)return{bytesValue:cp(o.It,n._byteString)};if(n instanceof ms){const u=o.databaseId,c=n.firestore._databaseId;if(!c.isEqual(u))throw o.ha(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:dp(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o.ha(`Unsupported field value: ${jl(n)}`)}(i,e)}function Vf(i,e){const n={};return Ta(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zo(i,(o,u)=>{const c=Vu(u,e.ra(o));null!=c&&(n[o]=c)}),{mapValue:{fields:n}}}function Uf(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof rr||i instanceof hl||i instanceof dl||i instanceof ms||i instanceof Wa)}function hh(i,e,n){if(!Uf(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=jl(n);throw e.ha("an object"===o?i+" a custom object":i+" "+o)}var o}function fh(i,e,n){if((e=(0,z.m9)(e))instanceof ku)return e._internalPath;if("string"==typeof e)return ph(i,e);throw gh("Field path arguments must be of type string or ",i,!1,void 0,n)}const kg=new RegExp("[~\\*/\\[\\]]");function ph(i,e,n){if(e.search(kg)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new ku(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function gh(i,e,n,o,u){const c=o&&!o.isEmpty(),p=void 0!==u;let b=`Function ${e}() called with invalid data`;n&&(b+=" (via `toFirestore()`)"),b+=". ";let L="";return(c||p)&&(L+=" (found",c&&(L+=` in field ${o}`),p&&(L+=` in document ${u}`),L+=")"),new fe(Z.INVALID_ARGUMENT,b+i+L)}function Bf(i,e){return i.some(n=>n.isEqual(e))}class $f{constructor(e,n,o,u,c){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ms(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Fg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ec("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Fg extends $f{data(){return super.data()}}function ec(i,e){return"string"==typeof e?ph(i,e):e instanceof ku?e._internalPath:e._delegate._internalPath}function Eh(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}class Uu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bu extends $f{constructor(e,n,o,u,c,p){super(e,n,o,u,p),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(ec("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Xc extends Bu{data(e={}){return super.data(e)}}class gl{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new Uu(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Xc(this._firestore,this._userDataWriter,o.key,o,new Uu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(p=>({type:"added",doc:new Xc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Uu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:c++}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||3!==p.type).map(p=>{const b=new Xc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Uu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let L=-1,H=-1;return 0!==p.type&&(L=c.indexOf(p.doc.key),c=c.delete(p.doc.key)),1!==p.type&&(c=c.add(p.doc),H=c.indexOf(p.doc.key)),{type:Ug(p.type),doc:b,oldIndex:L,newIndex:H}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Ug(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return M()}}class _u extends class Iy{convertValue(e,n="none"){switch(ya(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw M()}}convertObject(e,n){const o={};return Zo(e.fields,(u,c)=>{o[u]=this.convertValue(c,n)}),o}convertGeoPoint(e){return new hl(Fn(e.latitude),Fn(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=su(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(Va(e));default:return null}}convertTimestamp(e){const n=ua(e);return new rr(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=ir.fromString(e);B(mp(o));const u=new rs(o.get(1),o.get(3)),c=new Ot(o.popFirst(5));return u.isEqual(n)||U(`Document ${c} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new dl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ms(this.firestore,null,n)}}function Bg(i,e,n){i=Wr(i,ms);const o=Wr(i.firestore,Qi),u=Eh(i.converter,e,n);return tc(o,[Fu(qa(o),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,$i.none())])}function $g(i,e){const n=Wr(i.firestore,Qi),o=Sg(i),u=Eh(i.converter,e);return tc(n,[Fu(qa(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,$i.exists(!1))]).then(()=>o)}function Ay(i,...e){var n,o,u;i=(0,z.m9)(i);let c={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||Rg(e[p])||(c=e[p],p++);const b={includeMetadataChanges:c.includeMetadataChanges};if(Rg(e[p])){const we=e[p];e[p]=null===(n=we.next)||void 0===n?void 0:n.bind(we),e[p+1]=null===(o=we.error)||void 0===o?void 0:o.bind(we),e[p+2]=null===(u=we.complete)||void 0===u?void 0:u.bind(we)}let L,H,te;if(i instanceof ms)H=Wr(i.firestore,Qi),te=Lo(i._key.path),L={next:we=>{e[p]&&e[p](function Kf(i,e,n){const o=n.docs.get(e._key),u=new _u(i);return new Bu(i,u,e._key,o,new Uu(n.hasPendingWrites,n.fromCache),e.converter)}(H,i,we))},error:e[p+1],complete:e[p+2]};else{const we=Wr(i,jo);H=Wr(we.firestore,Qi),te=we._query;const Qe=new _u(H);L={next:ht=>{e[p]&&e[p](new gl(H,Qe,we,ht))},error:e[p+1],complete:e[p+2]},function mh(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new fe(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query)}return function(we,Qe,ht,vt){const Jt=new oh(vt),mn=new ag(Qe,Jt,ht);return we.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function Uc(i,e){return za.apply(this,arguments)}(yield vu(we),mn)})),()=>{Jt.bc(),we.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function Bc(i,e){return zd.apply(this,arguments)}(yield vu(we),mn)}))}}(zs(H),te,b,L)}function tc(i,e){return function(n,o){const u=new rt;return n.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function Km(i,e,n){return Hc.apply(this,arguments)}(yield function qc(i){return Mf(i).then(e=>e.syncEngine)}(n),o,u)})),u.promise}(zs(i),e)}!function(i,e=!0){Li=j.Jn,(0,j.Xd)(new be.wA("firestore",(n,{instanceIdentifier:o,options:u})=>{const c=n.getProvider("app").getImmediate(),p=new Qi(new Jn(n.getProvider("auth-internal")),new Pr(n.getProvider("app-check-internal")),function(b,L){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new fe(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rs(b.options.projectId,L)}(c,o),c);return u=Object.assign({useFetchStreams:e},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),(0,j.KN)(ps,"3.7.1",i),(0,j.KN)(ps,"3.7.1","esm2017")}()},9751:(fn,ut,X)=>{X.d(ut,{y:()=>he});var f=X(2961),j=X(727),be=X(8822),me=X(9635),z=X(2416),de=X(576),ie=X(2806);let he=(()=>{class Oe{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const pt=new Oe;return pt.source=this,pt.operator=Be,pt}subscribe(Be,pt,St){const Vt=function ue(Oe){return Oe&&Oe instanceof f.Lv||function ne(Oe){return Oe&&(0,de.m)(Oe.next)&&(0,de.m)(Oe.error)&&(0,de.m)(Oe.complete)}(Oe)&&(0,j.Nn)(Oe)}(Be)?Be:new f.Hp(Be,pt,St);return(0,ie.x)(()=>{const{operator:kt,source:Ft}=this;Vt.add(kt?kt.call(Vt,Ft):Ft?this._subscribe(Vt):this._trySubscribe(Vt))}),Vt}_trySubscribe(Be){try{return this._subscribe(Be)}catch(pt){Be.error(pt)}}forEach(Be,pt){return new(pt=Ne(pt))((St,Vt)=>{const kt=new f.Hp({next:Ft=>{try{Be(Ft)}catch(_t){Vt(_t),kt.unsubscribe()}},error:Vt,complete:St});this.subscribe(kt)})}_subscribe(Be){var pt;return null===(pt=this.source)||void 0===pt?void 0:pt.subscribe(Be)}[be.L](){return this}pipe(...Be){return(0,me.U)(Be)(this)}toPromise(Be){return new(Be=Ne(Be))((pt,St)=>{let Vt;this.subscribe(kt=>Vt=kt,kt=>St(kt),()=>pt(Vt))})}}return Oe.create=tt=>new Oe(tt),Oe})();function Ne(Oe){var tt;return null!==(tt=Oe??z.v.Promise)&&void 0!==tt?tt:Promise}},7579:(fn,ut,X)=>{X.d(ut,{x:()=>ie});var f=X(9751),j=X(727);const me=(0,X(3888).d)(Ne=>function(){Ne(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var z=X(8737),de=X(2806);let ie=(()=>{class Ne extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const Oe=new he(this,this);return Oe.operator=ue,Oe}_throwIfClosed(){if(this.closed)throw new me}next(ue){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Oe of this.currentObservers)Oe.next(ue)}})}error(ue){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:Oe}=this;for(;Oe.length;)Oe.shift().error(ue)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:Oe,isStopped:tt,observers:Be}=this;return Oe||tt?j.Lc:(this.currentObservers=null,Be.push(ue),new j.w0(()=>{this.currentObservers=null,(0,z.P)(Be,ue)}))}_checkFinalizedStatuses(ue){const{hasError:Oe,thrownError:tt,isStopped:Be}=this;Oe?ue.error(tt):Be&&ue.complete()}asObservable(){const ue=new f.y;return ue.source=this,ue}}return Ne.create=(ne,ue)=>new he(ne,ue),Ne})();class he extends ie{constructor(ne,ue){super(),this.destination=ne,this.source=ue}next(ne){var ue,Oe;null===(Oe=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===Oe||Oe.call(ue,ne)}error(ne){var ue,Oe;null===(Oe=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===Oe||Oe.call(ue,ne)}complete(){var ne,ue;null===(ue=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===ue||ue.call(ne)}_subscribe(ne){var ue,Oe;return null!==(Oe=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(ne))&&void 0!==Oe?Oe:j.Lc}}},2961:(fn,ut,X)=>{X.d(ut,{Hp:()=>St,Lv:()=>Oe});var f=X(576),j=X(727),be=X(2416),me=X(7849);function z(){}const de=Ne("C",void 0,void 0);function Ne(ce,De,_e){return{kind:ce,value:De,error:_e}}var ne=X(3410),ue=X(2806);class Oe extends j.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,j.Nn)(De)&&De.add(this)):this.destination=_t}static create(De,_e,lt){return new St(De,_e,lt)}next(De){this.isStopped?Ft(function he(ce){return Ne("N",ce,void 0)}(De),this):this._next(De)}error(De){this.isStopped?Ft(function ie(ce){return Ne("E",void 0,ce)}(De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?Ft(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tt=Function.prototype.bind;function Be(ce,De){return tt.call(ce,De)}class pt{constructor(De){this.partialObserver=De}next(De){const{partialObserver:_e}=this;if(_e.next)try{_e.next(De)}catch(lt){Vt(lt)}}error(De){const{partialObserver:_e}=this;if(_e.error)try{_e.error(De)}catch(lt){Vt(lt)}else Vt(De)}complete(){const{partialObserver:De}=this;if(De.complete)try{De.complete()}catch(_e){Vt(_e)}}}class St extends Oe{constructor(De,_e,lt){let Ie;if(super(),(0,f.m)(De)||!De)Ie={next:De??void 0,error:_e??void 0,complete:lt??void 0};else{let Re;this&&be.v.useDeprecatedNextContext?(Re=Object.create(De),Re.unsubscribe=()=>this.unsubscribe(),Ie={next:De.next&&Be(De.next,Re),error:De.error&&Be(De.error,Re),complete:De.complete&&Be(De.complete,Re)}):Ie=De}this.destination=new pt(Ie)}}function Vt(ce){be.v.useDeprecatedSynchronousErrorHandling?(0,ue.O)(ce):(0,me.h)(ce)}function Ft(ce,De){const{onStoppedNotification:_e}=be.v;_e&&ne.z.setTimeout(()=>_e(ce,De))}const _t={closed:!0,next:z,error:function kt(ce){throw ce},complete:z}},727:(fn,ut,X)=>{X.d(ut,{Lc:()=>de,w0:()=>z,Nn:()=>ie});var f=X(576);const be=(0,X(3888).d)(Ne=>function(ue){Ne(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((Oe,tt)=>`${tt+1}) ${Oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var me=X(8737);class z{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const Be of ue)Be.remove(this);else ue.remove(this);const{initialTeardown:Oe}=this;if((0,f.m)(Oe))try{Oe()}catch(Be){ne=Be instanceof be?Be.errors:[Be]}const{_finalizers:tt}=this;if(tt){this._finalizers=null;for(const Be of tt)try{he(Be)}catch(pt){ne=ne??[],pt instanceof be?ne=[...ne,...pt.errors]:ne.push(pt)}}if(ne)throw new be(ne)}}add(ne){var ue;if(ne&&ne!==this)if(this.closed)he(ne);else{if(ne instanceof z){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._finalizers=null!==(ue=this._finalizers)&&void 0!==ue?ue:[]).push(ne)}}_hasParent(ne){const{_parentage:ue}=this;return ue===ne||Array.isArray(ue)&&ue.includes(ne)}_addParent(ne){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(ne),ue):ue?[ue,ne]:ne}_removeParent(ne){const{_parentage:ue}=this;ue===ne?this._parentage=null:Array.isArray(ue)&&(0,me.P)(ue,ne)}remove(ne){const{_finalizers:ue}=this;ue&&(0,me.P)(ue,ne),ne instanceof z&&ne._removeParent(this)}}z.EMPTY=(()=>{const Ne=new z;return Ne.closed=!0,Ne})();const de=z.EMPTY;function ie(Ne){return Ne instanceof z||Ne&&"closed"in Ne&&(0,f.m)(Ne.remove)&&(0,f.m)(Ne.add)&&(0,f.m)(Ne.unsubscribe)}function he(Ne){(0,f.m)(Ne)?Ne():Ne.unsubscribe()}},2416:(fn,ut,X)=>{X.d(ut,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(fn,ut,X)=>{X.d(ut,{E:()=>j});const j=new(X(9751).y)(z=>z.complete())},8996:(fn,ut,X)=>{X.d(ut,{D:()=>De});var f=X(8421),j=X(5363),be=X(9468),de=X(9751),he=X(2202),Ne=X(576),ne=X(9672);function Oe(_e,lt){if(!_e)throw new Error("Iterable cannot be null");return new de.y(Ie=>{(0,ne.f)(Ie,lt,()=>{const Re=_e[Symbol.asyncIterator]();(0,ne.f)(Ie,lt,()=>{Re.next().then(st=>{st.done?Ie.complete():Ie.next(st.value)})},0,!0)})})}var tt=X(3670),Be=X(8239),pt=X(1144),St=X(6495),Vt=X(2206),kt=X(4532),Ft=X(3260);function De(_e,lt){return lt?function ce(_e,lt){if(null!=_e){if((0,tt.c)(_e))return function me(_e,lt){return(0,f.Xf)(_e).pipe((0,be.R)(lt),(0,j.Q)(lt))}(_e,lt);if((0,pt.z)(_e))return function ie(_e,lt){return new de.y(Ie=>{let Re=0;return lt.schedule(function(){Re===_e.length?Ie.complete():(Ie.next(_e[Re++]),Ie.closed||this.schedule())})})}(_e,lt);if((0,Be.t)(_e))return function z(_e,lt){return(0,f.Xf)(_e).pipe((0,be.R)(lt),(0,j.Q)(lt))}(_e,lt);if((0,Vt.D)(_e))return Oe(_e,lt);if((0,St.T)(_e))return function ue(_e,lt){return new de.y(Ie=>{let Re;return(0,ne.f)(Ie,lt,()=>{Re=_e[he.h](),(0,ne.f)(Ie,lt,()=>{let st,Ce;try{({value:st,done:Ce}=Re.next())}catch(Pe){return void Ie.error(Pe)}Ce?Ie.complete():Ie.next(st)},0,!0)}),()=>(0,Ne.m)(Re?.return)&&Re.return()})}(_e,lt);if((0,Ft.L)(_e))return function _t(_e,lt){return Oe((0,Ft.Q)(_e),lt)}(_e,lt)}throw(0,kt.z)(_e)}(_e,lt):(0,f.Xf)(_e)}},8421:(fn,ut,X)=>{X.d(ut,{Xf:()=>tt});var f=X(655),j=X(1144),be=X(8239),me=X(9751),z=X(3670),de=X(2206),ie=X(4532),he=X(6495),Ne=X(3260),ne=X(576),ue=X(7849),Oe=X(8822);function tt(ce){if(ce instanceof me.y)return ce;if(null!=ce){if((0,z.c)(ce))return function Be(ce){return new me.y(De=>{const _e=ce[Oe.L]();if((0,ne.m)(_e.subscribe))return _e.subscribe(De);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ce);if((0,j.z)(ce))return function pt(ce){return new me.y(De=>{for(let _e=0;_e<ce.length&&!De.closed;_e++)De.next(ce[_e]);De.complete()})}(ce);if((0,be.t)(ce))return function St(ce){return new me.y(De=>{ce.then(_e=>{De.closed||(De.next(_e),De.complete())},_e=>De.error(_e)).then(null,ue.h)})}(ce);if((0,de.D)(ce))return kt(ce);if((0,he.T)(ce))return function Vt(ce){return new me.y(De=>{for(const _e of ce)if(De.next(_e),De.closed)return;De.complete()})}(ce);if((0,Ne.L)(ce))return function Ft(ce){return kt((0,Ne.Q)(ce))}(ce)}throw(0,ie.z)(ce)}function kt(ce){return new me.y(De=>{(function _t(ce,De){var _e,lt,Ie,Re;return(0,f.mG)(this,void 0,void 0,function*(){try{for(_e=(0,f.KL)(ce);!(lt=yield _e.next()).done;)if(De.next(lt.value),De.closed)return}catch(st){Ie={error:st}}finally{try{lt&&!lt.done&&(Re=_e.return)&&(yield Re.call(_e))}finally{if(Ie)throw Ie.error}}De.complete()})})(ce,De).catch(_e=>De.error(_e))})}},5403:(fn,ut,X)=>{X.d(ut,{x:()=>j});var f=X(2961);function j(me,z,de,ie,he){return new be(me,z,de,ie,he)}class be extends f.Lv{constructor(z,de,ie,he,Ne,ne){super(z),this.onFinalize=Ne,this.shouldUnsubscribe=ne,this._next=de?function(ue){try{de(ue)}catch(Oe){z.error(Oe)}}:super._next,this._error=he?function(ue){try{he(ue)}catch(Oe){z.error(Oe)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch(ue){z.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var z;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(z=this.onFinalize)||void 0===z||z.call(this))}}}},9300:(fn,ut,X)=>{X.d(ut,{h:()=>be});var f=X(4482),j=X(5403);function be(me,z){return(0,f.e)((de,ie)=>{let he=0;de.subscribe((0,j.x)(ie,Ne=>me.call(z,Ne,he++)&&ie.next(Ne)))})}},4004:(fn,ut,X)=>{X.d(ut,{U:()=>be});var f=X(4482),j=X(5403);function be(me,z){return(0,f.e)((de,ie)=>{let he=0;de.subscribe((0,j.x)(ie,Ne=>{ie.next(me.call(z,Ne,he++))}))})}},8189:(fn,ut,X)=>{X.d(ut,{J:()=>be});var f=X(5577),j=X(4671);function be(me=1/0){return(0,f.z)(j.y,me)}},5577:(fn,ut,X)=>{X.d(ut,{z:()=>he});var f=X(4004),j=X(8421),be=X(4482),me=X(9672),z=X(5403),ie=X(576);function he(Ne,ne,ue=1/0){return(0,ie.m)(ne)?he((Oe,tt)=>(0,f.U)((Be,pt)=>ne(Oe,Be,tt,pt))((0,j.Xf)(Ne(Oe,tt))),ue):("number"==typeof ne&&(ue=ne),(0,be.e)((Oe,tt)=>function de(Ne,ne,ue,Oe,tt,Be,pt,St){const Vt=[];let kt=0,Ft=0,_t=!1;const ce=()=>{_t&&!Vt.length&&!kt&&ne.complete()},De=lt=>kt<Oe?_e(lt):Vt.push(lt),_e=lt=>{Be&&ne.next(lt),kt++;let Ie=!1;(0,j.Xf)(ue(lt,Ft++)).subscribe((0,z.x)(ne,Re=>{tt?.(Re),Be?De(Re):ne.next(Re)},()=>{Ie=!0},void 0,()=>{if(Ie)try{for(kt--;Vt.length&&kt<Oe;){const Re=Vt.shift();pt?(0,me.f)(ne,pt,()=>_e(Re)):_e(Re)}ce()}catch(Re){ne.error(Re)}}))};return Ne.subscribe((0,z.x)(ne,De,()=>{_t=!0,ce()})),()=>{St?.()}}(Oe,tt,Ne,ue)))}},5363:(fn,ut,X)=>{X.d(ut,{Q:()=>me});var f=X(9672),j=X(4482),be=X(5403);function me(z,de=0){return(0,j.e)((ie,he)=>{ie.subscribe((0,be.x)(he,Ne=>(0,f.f)(he,z,()=>he.next(Ne),de),()=>(0,f.f)(he,z,()=>he.complete(),de),Ne=>(0,f.f)(he,z,()=>he.error(Ne),de)))})}},9468:(fn,ut,X)=>{X.d(ut,{R:()=>j});var f=X(4482);function j(be,me=0){return(0,f.e)((z,de)=>{de.add(be.schedule(()=>z.subscribe(de),me))})}},5698:(fn,ut,X)=>{X.d(ut,{q:()=>me});var f=X(515),j=X(4482),be=X(5403);function me(z){return z<=0?()=>f.E:(0,j.e)((de,ie)=>{let he=0;de.subscribe((0,be.x)(ie,Ne=>{++he<=z&&(ie.next(Ne),z<=he&&ie.complete())}))})}},8505:(fn,ut,X)=>{X.d(ut,{b:()=>z});var f=X(576),j=X(4482),be=X(5403),me=X(4671);function z(de,ie,he){const Ne=(0,f.m)(de)||ie||he?{next:de,error:ie,complete:he}:de;return Ne?(0,j.e)((ne,ue)=>{var Oe;null===(Oe=Ne.subscribe)||void 0===Oe||Oe.call(Ne);let tt=!0;ne.subscribe((0,be.x)(ue,Be=>{var pt;null===(pt=Ne.next)||void 0===pt||pt.call(Ne,Be),ue.next(Be)},()=>{var Be;tt=!1,null===(Be=Ne.complete)||void 0===Be||Be.call(Ne),ue.complete()},Be=>{var pt;tt=!1,null===(pt=Ne.error)||void 0===pt||pt.call(Ne,Be),ue.error(Be)},()=>{var Be,pt;tt&&(null===(Be=Ne.unsubscribe)||void 0===Be||Be.call(Ne)),null===(pt=Ne.finalize)||void 0===pt||pt.call(Ne)}))}):me.y}},3410:(fn,ut,X)=>{X.d(ut,{z:()=>f});const f={setTimeout(j,be,...me){const{delegate:z}=f;return z?.setTimeout?z.setTimeout(j,be,...me):setTimeout(j,be,...me)},clearTimeout(j){const{delegate:be}=f;return(be?.clearTimeout||clearTimeout)(j)},delegate:void 0}},2202:(fn,ut,X)=>{X.d(ut,{h:()=>j});const j=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(fn,ut,X)=>{X.d(ut,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(fn,ut,X)=>{X.d(ut,{_6:()=>de,jO:()=>me,yG:()=>z});var f=X(576);function be(ie){return ie[ie.length-1]}function me(ie){return(0,f.m)(be(ie))?ie.pop():void 0}function z(ie){return function j(ie){return ie&&(0,f.m)(ie.schedule)}(be(ie))?ie.pop():void 0}function de(ie,he){return"number"==typeof be(ie)?ie.pop():he}},4742:(fn,ut,X)=>{X.d(ut,{D:()=>z});const{isArray:f}=Array,{getPrototypeOf:j,prototype:be,keys:me}=Object;function z(ie){if(1===ie.length){const he=ie[0];if(f(he))return{args:he,keys:null};if(function de(ie){return ie&&"object"==typeof ie&&j(ie)===be}(he)){const Ne=me(he);return{args:Ne.map(ne=>he[ne]),keys:Ne}}}return{args:ie,keys:null}}},8737:(fn,ut,X)=>{function f(j,be){if(j){const me=j.indexOf(be);0<=me&&j.splice(me,1)}}X.d(ut,{P:()=>f})},3888:(fn,ut,X)=>{function f(j){const me=j(z=>{Error.call(z),z.stack=(new Error).stack});return me.prototype=Object.create(Error.prototype),me.prototype.constructor=me,me}X.d(ut,{d:()=>f})},1810:(fn,ut,X)=>{function f(j,be){return j.reduce((me,z,de)=>(me[z]=be[de],me),{})}X.d(ut,{n:()=>f})},2806:(fn,ut,X)=>{X.d(ut,{O:()=>me,x:()=>be});var f=X(2416);let j=null;function be(z){if(f.v.useDeprecatedSynchronousErrorHandling){const de=!j;if(de&&(j={errorThrown:!1,error:null}),z(),de){const{errorThrown:ie,error:he}=j;if(j=null,ie)throw he}}else z()}function me(z){f.v.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=z)}},9672:(fn,ut,X)=>{function f(j,be,me,z=0,de=!1){const ie=be.schedule(function(){me(),de?j.add(this.schedule(null,z)):this.unsubscribe()},z);if(j.add(ie),!de)return ie}X.d(ut,{f:()=>f})},4671:(fn,ut,X)=>{function f(j){return j}X.d(ut,{y:()=>f})},1144:(fn,ut,X)=>{X.d(ut,{z:()=>f});const f=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(fn,ut,X)=>{X.d(ut,{D:()=>j});var f=X(576);function j(be){return Symbol.asyncIterator&&(0,f.m)(be?.[Symbol.asyncIterator])}},576:(fn,ut,X)=>{function f(j){return"function"==typeof j}X.d(ut,{m:()=>f})},3670:(fn,ut,X)=>{X.d(ut,{c:()=>be});var f=X(8822),j=X(576);function be(me){return(0,j.m)(me[f.L])}},6495:(fn,ut,X)=>{X.d(ut,{T:()=>be});var f=X(2202),j=X(576);function be(me){return(0,j.m)(me?.[f.h])}},8239:(fn,ut,X)=>{X.d(ut,{t:()=>j});var f=X(576);function j(be){return(0,f.m)(be?.then)}},3260:(fn,ut,X)=>{X.d(ut,{L:()=>me,Q:()=>be});var f=X(655),j=X(576);function be(z){return(0,f.FC)(this,arguments,function*(){const ie=z.getReader();try{for(;;){const{value:he,done:Ne}=yield(0,f.qq)(ie.read());if(Ne)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(he)}}finally{ie.releaseLock()}})}function me(z){return(0,j.m)(z?.getReader)}},4482:(fn,ut,X)=>{X.d(ut,{A:()=>j,e:()=>be});var f=X(576);function j(me){return(0,f.m)(me?.lift)}function be(me){return z=>{if(j(z))return z.lift(function(de){try{return me(de,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(fn,ut,X)=>{X.d(ut,{Z:()=>me});var f=X(4004);const{isArray:j}=Array;function me(z){return(0,f.U)(de=>function be(z,de){return j(de)?z(...de):z(de)}(z,de))}},9635:(fn,ut,X)=>{X.d(ut,{U:()=>be,z:()=>j});var f=X(4671);function j(...me){return be(me)}function be(me){return 0===me.length?f.y:1===me.length?me[0]:function(de){return me.reduce((ie,he)=>he(ie),de)}}},7849:(fn,ut,X)=>{X.d(ut,{h:()=>be});var f=X(2416),j=X(3410);function be(me){j.z.setTimeout(()=>{const{onUnhandledError:z}=f.v;if(!z)throw me;z(me)})}},4532:(fn,ut,X)=>{function f(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}X.d(ut,{z:()=>f})},655:(fn,ut,X)=>{function me(Ce,Pe){var Ye={};for(var Fe in Ce)Object.prototype.hasOwnProperty.call(Ce,Fe)&&Pe.indexOf(Fe)<0&&(Ye[Fe]=Ce[Fe]);if(null!=Ce&&"function"==typeof Object.getOwnPropertySymbols){var je=0;for(Fe=Object.getOwnPropertySymbols(Ce);je<Fe.length;je++)Pe.indexOf(Fe[je])<0&&Object.prototype.propertyIsEnumerable.call(Ce,Fe[je])&&(Ye[Fe[je]]=Ce[Fe[je]])}return Ye}function he(Ce,Pe,Ye,Fe){return new(Ye||(Ye=Promise))(function(He,Ae){function ot(en){try{Rt(Fe.next(en))}catch(bn){Ae(bn)}}function At(en){try{Rt(Fe.throw(en))}catch(bn){Ae(bn)}}function Rt(en){en.done?He(en.value):function je(He){return He instanceof Ye?He:new Ye(function(Ae){Ae(He)})}(en.value).then(ot,At)}Rt((Fe=Fe.apply(Ce,Pe||[])).next())})}function Vt(Ce){return this instanceof Vt?(this.v=Ce,this):new Vt(Ce)}function kt(Ce,Pe,Ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var je,Fe=Ye.apply(Ce,Pe||[]),He=[];return je={},Ae("next"),Ae("throw"),Ae("return"),je[Symbol.asyncIterator]=function(){return this},je;function Ae(nn){Fe[nn]&&(je[nn]=function(Wn){return new Promise(function(yn,dn){He.push([nn,Wn,yn,dn])>1||ot(nn,Wn)})})}function ot(nn,Wn){try{!function At(nn){nn.value instanceof Vt?Promise.resolve(nn.value.v).then(Rt,en):bn(He[0][2],nn)}(Fe[nn](Wn))}catch(yn){bn(He[0][3],yn)}}function Rt(nn){ot("next",nn)}function en(nn){ot("throw",nn)}function bn(nn,Wn){nn(Wn),He.shift(),He.length&&ot(He[0][0],He[0][1])}}function _t(Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ye,Pe=Ce[Symbol.asyncIterator];return Pe?Pe.call(Ce):(Ce=function Oe(Ce){var Pe="function"==typeof Symbol&&Symbol.iterator,Ye=Pe&&Ce[Pe],Fe=0;if(Ye)return Ye.call(Ce);if(Ce&&"number"==typeof Ce.length)return{next:function(){return Ce&&Fe>=Ce.length&&(Ce=void 0),{value:Ce&&Ce[Fe++],done:!Ce}}};throw new TypeError(Pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ce),Ye={},Fe("next"),Fe("throw"),Fe("return"),Ye[Symbol.asyncIterator]=function(){return this},Ye);function Fe(He){Ye[He]=Ce[He]&&function(Ae){return new Promise(function(ot,At){!function je(He,Ae,ot,At){Promise.resolve(At).then(function(Rt){He({value:Rt,done:ot})},Ae)}(ot,At,(Ae=Ce[He](Ae)).done,Ae.value)})}}}X.d(ut,{FC:()=>kt,KL:()=>_t,_T:()=>me,mG:()=>he,qq:()=>Vt})},7340:(fn,ut,X)=>{X.d(ut,{LC:()=>j,SB:()=>Ne,X$:()=>me,ZE:()=>Ft,ZN:()=>kt,_7:()=>Be,_j:()=>f,eR:()=>ue,jt:()=>z,k1:()=>_t,l3:()=>be,oB:()=>he,oQ:()=>Oe,vP:()=>ie});class f{}class j{}const be="*";function me(ce,De){return{type:7,name:ce,definitions:De,options:{}}}function z(ce,De=null){return{type:4,styles:De,timings:ce}}function ie(ce,De=null){return{type:2,steps:ce,options:De}}function he(ce){return{type:6,styles:ce,offset:null}}function Ne(ce,De,_e){return{type:0,name:ce,styles:De,options:_e}}function ue(ce,De,_e=null){return{type:1,expr:ce,animation:De,options:_e}}function Oe(ce,De=null){return{type:8,animation:ce,options:De}}function Be(ce,De=null){return{type:10,animation:ce,options:De}}function Vt(ce){Promise.resolve().then(ce)}class kt{constructor(De=0,_e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=De+_e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(De=>De()),this._onDoneFns=[])}onStart(De){this._originalOnStartFns.push(De),this._onStartFns.push(De)}onDone(De){this._originalOnDoneFns.push(De),this._onDoneFns.push(De)}onDestroy(De){this._onDestroyFns.push(De)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Vt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(De=>De()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(De=>De()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(De){this._position=this.totalTime?De*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(De){const _e="start"==De?this._onStartFns:this._onDoneFns;_e.forEach(lt=>lt()),_e.length=0}}class Ft{constructor(De){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=De;let _e=0,lt=0,Ie=0;const Re=this.players.length;0==Re?Vt(()=>this._onFinish()):this.players.forEach(st=>{st.onDone(()=>{++_e==Re&&this._onFinish()}),st.onDestroy(()=>{++lt==Re&&this._onDestroy()}),st.onStart(()=>{++Ie==Re&&this._onStart()})}),this.totalTime=this.players.reduce((st,Ce)=>Math.max(st,Ce.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(De=>De()),this._onDoneFns=[])}init(){this.players.forEach(De=>De.init())}onStart(De){this._onStartFns.push(De)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(De=>De()),this._onStartFns=[])}onDone(De){this._onDoneFns.push(De)}onDestroy(De){this._onDestroyFns.push(De)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(De=>De.play())}pause(){this.players.forEach(De=>De.pause())}restart(){this.players.forEach(De=>De.restart())}finish(){this._onFinish(),this.players.forEach(De=>De.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(De=>De.destroy()),this._onDestroyFns.forEach(De=>De()),this._onDestroyFns=[])}reset(){this.players.forEach(De=>De.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(De){const _e=De*this.totalTime;this.players.forEach(lt=>{const Ie=lt.totalTime?Math.min(1,_e/lt.totalTime):1;lt.setPosition(Ie)})}getPosition(){const De=this.players.reduce((_e,lt)=>null===_e||lt.totalTime>_e.totalTime?lt:_e,null);return null!=De?De.getPosition():0}beforeDestroy(){this.players.forEach(De=>{De.beforeDestroy&&De.beforeDestroy()})}triggerCallback(De){const _e="start"==De?this._onStartFns:this._onDoneFns;_e.forEach(lt=>lt()),_e.length=0}}const _t="!"},6895:(fn,ut,X)=>{X.d(ut,{Do:()=>_t,EM:()=>xo,HT:()=>z,JF:()=>Ls,K0:()=>ie,Mx:()=>Ns,O5:()=>$e,Ov:()=>to,PC:()=>Gr,S$:()=>Vt,V_:()=>ne,Ye:()=>ce,b0:()=>Ft,bD:()=>Ji,ez:()=>Fs,mk:()=>bi,q:()=>be,sg:()=>Hr,tP:()=>Qn,w_:()=>de});var f=X(8256);let j=null;function be(){return j}function z(A){j||(j=A)}class de{}const ie=new f.OlP("DocumentToken");let he=(()=>{class A{historyGo(R){throw new Error("Not implemented")}}return A.\u0275fac=function(R){return new(R||A)},A.\u0275prov=f.Yz7({token:A,factory:function(){return function Ne(){return(0,f.LFG)(ue)}()},providedIn:"platform"}),A})();const ne=new f.OlP("Location Initialized");let ue=(()=>{class A extends he{constructor(R){super(),this._doc=R,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return be().getBaseHref(this._doc)}onPopState(R){const K=be().getGlobalEventTarget(this._doc,"window");return K.addEventListener("popstate",R,!1),()=>K.removeEventListener("popstate",R)}onHashChange(R){const K=be().getGlobalEventTarget(this._doc,"window");return K.addEventListener("hashchange",R,!1),()=>K.removeEventListener("hashchange",R)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(R){this.location.pathname=R}pushState(R,K,Ee){Oe()?this._history.pushState(R,K,Ee):this.location.hash=Ee}replaceState(R,K,Ee){Oe()?this._history.replaceState(R,K,Ee):this.location.hash=Ee}forward(){this._history.forward()}back(){this._history.back()}historyGo(R=0){this._history.go(R)}getState(){return this._history.state}}return A.\u0275fac=function(R){return new(R||A)(f.LFG(ie))},A.\u0275prov=f.Yz7({token:A,factory:function(){return function tt(){return new ue((0,f.LFG)(ie))}()},providedIn:"platform"}),A})();function Oe(){return!!window.history.pushState}function Be(A,$){if(0==A.length)return $;if(0==$.length)return A;let R=0;return A.endsWith("/")&&R++,$.startsWith("/")&&R++,2==R?A+$.substring(1):1==R?A+$:A+"/"+$}function pt(A){const $=A.match(/#|\?|$/),R=$&&$.index||A.length;return A.slice(0,R-("/"===A[R-1]?1:0))+A.slice(R)}function St(A){return A&&"?"!==A[0]?"?"+A:A}let Vt=(()=>{class A{historyGo(R){throw new Error("Not implemented")}}return A.\u0275fac=function(R){return new(R||A)},A.\u0275prov=f.Yz7({token:A,factory:function(){return(0,f.f3M)(Ft)},providedIn:"root"}),A})();const kt=new f.OlP("appBaseHref");let Ft=(()=>{class A extends Vt{constructor(R,K){super(),this._platformLocation=R,this._removeListenerFns=[],this._baseHref=K??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}prepareExternalUrl(R){return Be(this._baseHref,R)}path(R=!1){const K=this._platformLocation.pathname+St(this._platformLocation.search),Ee=this._platformLocation.hash;return Ee&&R?`${K}${Ee}`:K}pushState(R,K,Ee,et){const ct=this.prepareExternalUrl(Ee+St(et));this._platformLocation.pushState(R,K,ct)}replaceState(R,K,Ee,et){const ct=this.prepareExternalUrl(Ee+St(et));this._platformLocation.replaceState(R,K,ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}}return A.\u0275fac=function(R){return new(R||A)(f.LFG(he),f.LFG(kt,8))},A.\u0275prov=f.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),_t=(()=>{class A extends Vt{constructor(R,K){super(),this._platformLocation=R,this._baseHref="",this._removeListenerFns=[],null!=K&&(this._baseHref=K)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}path(R=!1){let K=this._platformLocation.hash;return null==K&&(K="#"),K.length>0?K.substring(1):K}prepareExternalUrl(R){const K=Be(this._baseHref,R);return K.length>0?"#"+K:K}pushState(R,K,Ee,et){let ct=this.prepareExternalUrl(Ee+St(et));0==ct.length&&(ct=this._platformLocation.pathname),this._platformLocation.pushState(R,K,ct)}replaceState(R,K,Ee,et){let ct=this.prepareExternalUrl(Ee+St(et));0==ct.length&&(ct=this._platformLocation.pathname),this._platformLocation.replaceState(R,K,ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}}return A.\u0275fac=function(R){return new(R||A)(f.LFG(he),f.LFG(kt,8))},A.\u0275prov=f.Yz7({token:A,factory:A.\u0275fac}),A})(),ce=(()=>{class A{constructor(R){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=R;const K=this._locationStrategy.getBaseHref();this._baseHref=pt(lt(K)),this._locationStrategy.onPopState(Ee=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ee.state,type:Ee.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(R=!1){return this.normalize(this._locationStrategy.path(R))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(R,K=""){return this.path()==this.normalize(R+St(K))}normalize(R){return A.stripTrailingSlash(function _e(A,$){return A&&$.startsWith(A)?$.substring(A.length):$}(this._baseHref,lt(R)))}prepareExternalUrl(R){return R&&"/"!==R[0]&&(R="/"+R),this._locationStrategy.prepareExternalUrl(R)}go(R,K="",Ee=null){this._locationStrategy.pushState(Ee,"",R,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+St(K)),Ee)}replaceState(R,K="",Ee=null){this._locationStrategy.replaceState(Ee,"",R,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+St(K)),Ee)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(R=0){this._locationStrategy.historyGo?.(R)}onUrlChange(R){return this._urlChangeListeners.push(R),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(K=>{this._notifyUrlChangeListeners(K.url,K.state)})),()=>{const K=this._urlChangeListeners.indexOf(R);this._urlChangeListeners.splice(K,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(R="",K){this._urlChangeListeners.forEach(Ee=>Ee(R,K))}subscribe(R,K,Ee){return this._subject.subscribe({next:R,error:K,complete:Ee})}}return A.normalizeQueryParams=St,A.joinWithSlash=Be,A.stripTrailingSlash=pt,A.\u0275fac=function(R){return new(R||A)(f.LFG(Vt))},A.\u0275prov=f.Yz7({token:A,factory:function(){return function De(){return new ce((0,f.LFG)(Vt))}()},providedIn:"root"}),A})();function lt(A){return A.replace(/\/index.html$/,"")}function Ns(A,$){$=encodeURIComponent($);for(const R of A.split(";")){const K=R.indexOf("="),[Ee,et]=-1==K?[R,""]:[R.slice(0,K),R.slice(K+1)];if(Ee.trim()===$)return decodeURIComponent(et)}return null}let bi=(()=>{class A{constructor(R,K,Ee,et){this._iterableDiffers=R,this._keyValueDiffers=K,this._ngEl=Ee,this._renderer=et,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(R){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof R?R.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(R){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof R?R.split(/\s+/):R,this._rawClass&&((0,f.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const R=this._iterableDiffer.diff(this._rawClass);R&&this._applyIterableChanges(R)}else if(this._keyValueDiffer){const R=this._keyValueDiffer.diff(this._rawClass);R&&this._applyKeyValueChanges(R)}}_applyKeyValueChanges(R){R.forEachAddedItem(K=>this._toggleClass(K.key,K.currentValue)),R.forEachChangedItem(K=>this._toggleClass(K.key,K.currentValue)),R.forEachRemovedItem(K=>{K.previousValue&&this._toggleClass(K.key,!1)})}_applyIterableChanges(R){R.forEachAddedItem(K=>{if("string"!=typeof K.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,f.AaK)(K.item)}`);this._toggleClass(K.item,!0)}),R.forEachRemovedItem(K=>this._toggleClass(K.item,!1))}_applyClasses(R){R&&(Array.isArray(R)||R instanceof Set?R.forEach(K=>this._toggleClass(K,!0)):Object.keys(R).forEach(K=>this._toggleClass(K,!!R[K])))}_removeClasses(R){R&&(Array.isArray(R)||R instanceof Set?R.forEach(K=>this._toggleClass(K,!1)):Object.keys(R).forEach(K=>this._toggleClass(K,!1)))}_toggleClass(R,K){(R=R.trim())&&R.split(/\s+/g).forEach(Ee=>{K?this._renderer.addClass(this._ngEl.nativeElement,Ee):this._renderer.removeClass(this._ngEl.nativeElement,Ee)})}}return A.\u0275fac=function(R){return new(R||A)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},A.\u0275dir=f.lG2({type:A,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),A})();class ri{constructor($,R,K,Ee){this.$implicit=$,this.ngForOf=R,this.index=K,this.count=Ee}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Hr=(()=>{class A{constructor(R,K,Ee){this._viewContainer=R,this._template=K,this._differs=Ee,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(R){this._ngForOf=R,this._ngForOfDirty=!0}set ngForTrackBy(R){this._trackByFn=R}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(R){R&&(this._template=R)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const R=this._ngForOf;!this._differ&&R&&(this._differ=this._differs.find(R).create(this.ngForTrackBy))}if(this._differ){const R=this._differ.diff(this._ngForOf);R&&this._applyChanges(R)}}_applyChanges(R){const K=this._viewContainer;R.forEachOperation((Ee,et,ct)=>{if(null==Ee.previousIndex)K.createEmbeddedView(this._template,new ri(Ee.item,this._ngForOf,-1,-1),null===ct?void 0:ct);else if(null==ct)K.remove(null===et?void 0:et);else if(null!==et){const Yt=K.get(et);K.move(Yt,ct),ke(Yt,Ee)}});for(let Ee=0,et=K.length;Ee<et;Ee++){const Yt=K.get(Ee).context;Yt.index=Ee,Yt.count=et,Yt.ngForOf=this._ngForOf}R.forEachIdentityChange(Ee=>{ke(K.get(Ee.currentIndex),Ee)})}static ngTemplateContextGuard(R,K){return!0}}return A.\u0275fac=function(R){return new(R||A)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},A.\u0275dir=f.lG2({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),A})();function ke(A,$){A.context.$implicit=$.item}let $e=(()=>{class A{constructor(R,K){this._viewContainer=R,this._context=new at,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=K}set ngIf(R){this._context.$implicit=this._context.ngIf=R,this._updateView()}set ngIfThen(R){It("ngIfThen",R),this._thenTemplateRef=R,this._thenViewRef=null,this._updateView()}set ngIfElse(R){It("ngIfElse",R),this._elseTemplateRef=R,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(R,K){return!0}}return A.\u0275fac=function(R){return new(R||A)(f.Y36(f.s_b),f.Y36(f.Rgc))},A.\u0275dir=f.lG2({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),A})();class at{constructor(){this.$implicit=null,this.ngIf=null}}function It(A,$){if($&&!$.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,f.AaK)($)}'.`)}let Gr=(()=>{class A{constructor(R,K,Ee){this._ngEl=R,this._differs=K,this._renderer=Ee,this._ngStyle=null,this._differ=null}set ngStyle(R){this._ngStyle=R,!this._differ&&R&&(this._differ=this._differs.find(R).create())}ngDoCheck(){if(this._differ){const R=this._differ.diff(this._ngStyle);R&&this._applyChanges(R)}}_setStyle(R,K){const[Ee,et]=R.split("."),ct=-1===Ee.indexOf("-")?void 0:f.JOm.DashCase;null!=K?this._renderer.setStyle(this._ngEl.nativeElement,Ee,et?`${K}${et}`:K,ct):this._renderer.removeStyle(this._ngEl.nativeElement,Ee,ct)}_applyChanges(R){R.forEachRemovedItem(K=>this._setStyle(K.key,null)),R.forEachAddedItem(K=>this._setStyle(K.key,K.currentValue)),R.forEachChangedItem(K=>this._setStyle(K.key,K.currentValue))}}return A.\u0275fac=function(R){return new(R||A)(f.Y36(f.SBq),f.Y36(f.aQg),f.Y36(f.Qsj))},A.\u0275dir=f.lG2({type:A,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),A})(),Qn=(()=>{class A{constructor(R){this._viewContainerRef=R,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(R){if(R.ngTemplateOutlet||R.ngTemplateOutletInjector){const K=this._viewContainerRef;if(this._viewRef&&K.remove(K.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:Ee,ngTemplateOutletContext:et,ngTemplateOutletInjector:ct}=this;this._viewRef=K.createEmbeddedView(Ee,et,ct?{injector:ct}:void 0)}else this._viewRef=null}else this._viewRef&&R.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return A.\u0275fac=function(R){return new(R||A)(f.Y36(f.s_b))},A.\u0275dir=f.lG2({type:A,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[f.TTD]}),A})();class _s{createSubscription($,R){return $.subscribe({next:R,error:K=>{throw K}})}dispose($){$.unsubscribe()}}class mi{createSubscription($,R){return $.then(R,K=>{throw K})}dispose($){}}const ea=new mi,Os=new _s;let to=(()=>{class A{constructor(R){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=R}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(R){return this._obj?R!==this._obj?(this._dispose(),this.transform(R)):this._latestValue:(R&&this._subscribe(R),this._latestValue)}_subscribe(R){this._obj=R,this._strategy=this._selectStrategy(R),this._subscription=this._strategy.createSubscription(R,K=>this._updateLatestValue(R,K))}_selectStrategy(R){if((0,f.QGY)(R))return ea;if((0,f.F4k)(R))return Os;throw function Kr(A,$){return new f.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(R,K){R===this._obj&&(this._latestValue=K,this._ref.markForCheck())}}return A.\u0275fac=function(R){return new(R||A)(f.Y36(f.sBO,16))},A.\u0275pipe=f.Yjl({name:"async",type:A,pure:!1,standalone:!0}),A})(),Fs=(()=>{class A{}return A.\u0275fac=function(R){return new(R||A)},A.\u0275mod=f.oAB({type:A}),A.\u0275inj=f.cJS({}),A})();const Ji="browser";let xo=(()=>{class A{}return A.\u0275prov=(0,f.Yz7)({token:A,providedIn:"root",factory:()=>new Ai((0,f.LFG)(ie),window)}),A})();class Ai{constructor($,R){this.document=$,this.window=R,this.offset=()=>[0,0]}setOffset($){this.offset=Array.isArray($)?()=>$:$}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition($){this.supportsScrolling()&&this.window.scrollTo($[0],$[1])}scrollToAnchor($){if(!this.supportsScrolling())return;const R=function Ys(A,$){const R=A.getElementById($)||A.getElementsByName($)[0];if(R)return R;if("function"==typeof A.createTreeWalker&&A.body&&(A.body.createShadowRoot||A.body.attachShadow)){const K=A.createTreeWalker(A.body,NodeFilter.SHOW_ELEMENT);let Ee=K.currentNode;for(;Ee;){const et=Ee.shadowRoot;if(et){const ct=et.getElementById($)||et.querySelector(`[name="${$}"]`);if(ct)return ct}Ee=K.nextNode()}}return null}(this.document,$);R&&(this.scrollToElement(R),R.focus())}setHistoryScrollRestoration($){if(this.supportScrollRestoration()){const R=this.window.history;R&&R.scrollRestoration&&(R.scrollRestoration=$)}}scrollToElement($){const R=$.getBoundingClientRect(),K=R.left+this.window.pageXOffset,Ee=R.top+this.window.pageYOffset,et=this.offset();this.window.scrollTo(K-et[0],Ee-et[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const $=Wi(this.window.history)||Wi(Object.getPrototypeOf(this.window.history));return!(!$||!$.writable&&!$.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Wi(A){return Object.getOwnPropertyDescriptor(A,"scrollRestoration")}class Ls{}},8256:(fn,ut,X)=>{X.d(ut,{QbO:()=>z0,tb:()=>qE,AFp:()=>GE,ip1:()=>jE,CZH:()=>Jg,hGG:()=>PD,z2F:()=>tm,sBO:()=>gD,Sil:()=>Z0,_Vd:()=>vc,EJc:()=>K0,Xts:()=>Ra,SBq:()=>_c,lqb:()=>Na,qLn:()=>Ic,vpe:()=>$u,XFs:()=>xt,OlP:()=>Rn,zs3:()=>gu,ZZ4:()=>fv,aQg:()=>pv,soG:()=>em,YKP:()=>G_,h0i:()=>bh,PXZ:()=>lD,R0b:()=>ru,FiY:()=>Ut,Lbi:()=>G0,g9A:()=>WE,Qsj:()=>gm,FYo:()=>wp,JOm:()=>Xa,tp0:()=>jn,Rgc:()=>np,dDg:()=>sD,eoX:()=>ew,q4F:()=>Uh,GfV:()=>Dp,s_b:()=>Zg,ifc:()=>ti,MMx:()=>Hy,Lck:()=>jI,eFA:()=>rw,G48:()=>pD,Gpc:()=>Ft,f3M:()=>P,_c5:()=>xD,c2e:()=>W0,zSh:()=>Fh,wAp:()=>Gn,vHH:()=>_e,lri:()=>XE,rWj:()=>JE,D6c:()=>RD,cg1:()=>Oy,kL8:()=>g_,dqk:()=>ln,Z0I:()=>ar,sIi:()=>dh,CqO:()=>Ey,QGY:()=>vh,QP$:()=>nt,F4k:()=>_y,RDi:()=>vl,AaK:()=>St,qOj:()=>Nf,TTD:()=>zi,_Bn:()=>j_,jDz:()=>W_,xp6:()=>Qp,uIk:()=>Yl,Tol:()=>Ny,ekj:()=>Gg,Suo:()=>EE,Xpm:()=>it,lG2:()=>Ve,Yz7:()=>vr,cJS:()=>wr,oAB:()=>Ln,Yjl:()=>ve,Y36:()=>Ru,_UZ:()=>Lg,GkF:()=>Vg,BQk:()=>Qc,ynx:()=>jf,qZA:()=>yh,TgZ:()=>Hf,EpF:()=>vy,n5z:()=>sa,LFG:()=>Bi,$8M:()=>Oo,$Z:()=>ul,NdJ:()=>_h,CRH:()=>wE,oxw:()=>qf,ALo:()=>dE,lcZ:()=>hE,Hsn:()=>Dy,F$t:()=>Eh,Q6J:()=>ec,DdM:()=>J_,VKq:()=>eE,WLB:()=>tE,kEZ:()=>nE,l5B:()=>rE,HTZ:()=>iE,rFY:()=>sE,iGM:()=>vE,MAs:()=>Fg,KtG:()=>co,CHM:()=>lo,LSH:()=>xh,Udp:()=>jg,YNc:()=>Bf,_uU:()=>Pi,Oqu:()=>di,hij:()=>Rs,AsE:()=>Ii,Gf:()=>_E});var f=X(7579),j=X(727),be=X(9751),me=X(8189),z=X(8421),de=X(515),ie=X(7669),he=X(8996),ne=X(2961),ue=X(4482);function tt(t,r,...s){if(!0===r)return void t();if(!1===r)return;const a=new ne.Hp({next:()=>{a.unsubscribe(),t()}});return r(...s).subscribe(a)}function Be(t){for(let r in t)if(t[r]===Be)return r;throw Error("Could not find renamed property on target object.")}function pt(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function St(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(St).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Vt(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const kt=Be({__forward_ref__:Be});function Ft(t){return t.__forward_ref__=Ft,t.toString=function(){return St(this())},t}function _t(t){return ce(t)?t():t}function ce(t){return"function"==typeof t&&t.hasOwnProperty(kt)&&t.__forward_ref__===Ft}class _e extends Error{constructor(r,s){super(function lt(t,r){return`NG0${Math.abs(t)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function Ie(t){return"string"==typeof t?t:null==t?"":String(t)}function Ye(t,r){throw new _e(-201,!1)}function Cn(t,r){null==t&&function cn(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function vr(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function wr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Rr(t){return Gt(t,fr)||Gt(t,_r)}function ar(t){return null!==Rr(t)}function Gt(t,r){return t.hasOwnProperty(r)?t[r]:null}function br(t){return t&&(t.hasOwnProperty(Hi)||t.hasOwnProperty(Mr))?t[Hi]:null}const fr=Be({\u0275prov:Be}),Hi=Be({\u0275inj:Be}),_r=Be({ngInjectableDef:Be}),Mr=Be({ngInjectorDef:Be});var xt=(()=>((xt=xt||{})[xt.Default=0]="Default",xt[xt.Host=1]="Host",xt[xt.Self=2]="Self",xt[xt.SkipSelf=4]="SkipSelf",xt[xt.Optional=8]="Optional",xt))();let jt;function pn(t){const r=jt;return jt=t,r}function ur(t,r,s){const a=Rr(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&xt.Optional?null:void 0!==r?r:void Ye(St(t))}function Zr(t){return{toString:t}.toString()}var Hn=(()=>((Hn=Hn||{})[Hn.OnPush=0]="OnPush",Hn[Hn.Default=1]="Default",Hn))(),ti=(()=>{return(t=ti||(ti={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",ti;var t})();const ln=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Et={},Ue=[],Tt=Be({\u0275cmp:Be}),dt=Be({\u0275dir:Be}),Mt=Be({\u0275pipe:Be}),Tn=Be({\u0275mod:Be}),ye=Be({\u0275fac:Be}),pe=Be({__NG_ELEMENT_ID__:Be});let Te=0;function it(t){return Zr(()=>{const s=!0===t.standalone,a={},l={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Hn.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||Ue,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ti.Emulated,id:"c"+Te++,styles:t.styles||Ue,_:null,setInput:null,schemas:t.schemas||null,tView:null},d=t.dependencies,y=t.features;return l.inputs=zn(t.inputs,a),l.outputs=zn(t.outputs),y&&y.forEach(I=>I(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(Lt).filter(on):null,l.pipeDefs=d?()=>("function"==typeof d?d():d).map(xe).filter(on):null,l})}function Lt(t){return se(t)||Ge(t)}function on(t){return null!==t}function Ln(t){return Zr(()=>({type:t.type,bootstrap:t.bootstrap||Ue,declarations:t.declarations||Ue,imports:t.imports||Ue,exports:t.exports||Ue,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function zn(t,r){if(null==t)return Et;const s={};for(const a in t)if(t.hasOwnProperty(a)){let l=t[a],d=l;Array.isArray(l)&&(d=l[1],l=l[0]),s[l]=a,r&&(r[l]=d)}return s}const Ve=it;function ve(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function se(t){return t[Tt]||null}function Ge(t){return t[dt]||null}function xe(t){return t[Mt]||null}function nt(t){const r=se(t)||Ge(t)||xe(t);return null!==r&&r.standalone}function wt(t,r){const s=t[Tn]||null;if(!s&&!0===r)throw new Error(`Type ${St(t)} does not have '\u0275mod' property.`);return s}function Gr(t){return Array.isArray(t)&&"object"==typeof t[1]}function Qn(t){return Array.isArray(t)&&!0===t[1]}function Ci(t){return 0!=(8&t.flags)}function Kr(t){return 2==(2&t.flags)}function _s(t){return 1==(1&t.flags)}function mi(t){return null!==t.template}function ea(t){return 0!=(256&t[2])}function Fs(t,r){return t.hasOwnProperty(ye)?t[ye]:null}class Ji{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function zi(){return Io}function Io(t){return t.type.prototype.ngOnChanges&&(t.setInput=Qr),es}function es(){const t=Mo(this),r=t?.current;if(r){const s=t.previous;if(s===Et)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function Qr(t,r,s,a){const l=Mo(t)||function Is(t,r){return t[io]=r}(t,{previous:Et,current:null}),d=l.current||(l.current={}),y=l.previous,I=this.declaredInputs[s],S=y[I];d[I]=new Ji(S&&S.currentValue,r,y===Et),t[a]=r}zi.ngInherit=!0;const io="__ngSimpleChanges__";function Mo(t){return t[io]||null}function Sn(t){for(;Array.isArray(t);)t=t[0];return t}function ds(t,r){return Sn(r[t])}function pi(t,r){return Sn(r[t.index])}function Br(t,r){return t.data[r]}function Us(t,r){return t[r]}function ii(t,r){const s=r[t];return Gr(s)?s:s[0]}function hs(t){return 64==(64&t[2])}function Xr(t,r){return null==r?null:t[r]}function as(t){t[18]=0}function oo(t,r){t[5]+=r;let s=t,a=t[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const $t={lFrame:ct(null),bindingsEnabled:!0};function bs(){return $t.bindingsEnabled}function mt(){return $t.lFrame.lView}function _n(){return $t.lFrame.tView}function lo(t){return $t.lFrame.contextLView=t,t[8]}function co(t){return $t.lFrame.contextLView=null,t}function F(){let t=k();for(;null!==t&&64===t.type;)t=t.parent;return t}function k(){return $t.lFrame.currentTNode}function Y(t,r){const s=$t.lFrame;s.currentTNode=t,s.isParent=r}function Ze(){return $t.lFrame.isParent}function Wt(){$t.lFrame.isParent=!1}function gi(){const t=$t.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function Ti(){return $t.lFrame.bindingIndex++}function $s(t){const r=$t.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function ra(t,r){const s=$t.lFrame;s.bindingIndex=s.bindingRootIndex=t,Do(r)}function Do(t){$t.lFrame.currentDirectiveIndex=t}function A(){return $t.lFrame.currentQueryIndex}function $(t){$t.lFrame.currentQueryIndex=t}function R(t){const r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function K(t,r,s){if(s&xt.SkipSelf){let l=r,d=t;for(;!(l=l.parent,null!==l||s&xt.Host||(l=R(d),null===l||(d=d[15],10&l.type))););if(null===l)return!1;r=l,t=d}const a=$t.lFrame=et();return a.currentTNode=r,a.lView=t,!0}function Ee(t){const r=et(),s=t[1];$t.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function et(){const t=$t.lFrame,r=null===t?null:t.child;return null===r?ct(t):r}function ct(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Yt(){const t=$t.lFrame;return $t.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const Er=Yt;function gr(){const t=Yt();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Xn(){return $t.lFrame.selectedIndex}function yr(t){$t.lFrame.selectedIndex=t}function Bn(){const t=$t.lFrame;return Br(t.tView,t.selectedIndex)}function Ro(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:I,ngAfterViewInit:S,ngAfterViewChecked:V,ngOnDestroy:Q}=d;y&&(t.contentHooks||(t.contentHooks=[])).push(-s,y),I&&((t.contentHooks||(t.contentHooks=[])).push(s,I),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,I)),S&&(t.viewHooks||(t.viewHooks=[])).push(-s,S),V&&((t.viewHooks||(t.viewHooks=[])).push(s,V),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,V)),null!=Q&&(t.destroyHooks||(t.destroyHooks=[])).push(s,Q)}}function bt(t,r,s){w(t,r,3,s)}function U(t,r,s,a){(3&t[2])===s&&w(t,r,s,a)}function v(t,r){let s=t[2];(3&s)===r&&(s&=2047,s+=1,t[2]=s)}function w(t,r,s,a){const d=a??-1,y=r.length-1;let I=0;for(let S=void 0!==a?65535&t[18]:0;S<y;S++)if("number"==typeof r[S+1]){if(I=r[S],null!=a&&I>=a)break}else r[S]<0&&(t[18]+=65536),(I<d||-1==d)&&(M(t,s,r,S),t[18]=(4294901760&t[18])+S+2),S++}function M(t,r,s,a){const l=s[a]<0,d=s[a+1],I=t[l?-s[a]:s[a]];if(l){if(t[2]>>11<t[18]>>16&&(3&t[2])===r){t[2]+=2048;try{d.call(I)}finally{}}}else try{d.call(I)}finally{}}const B=-1;class J{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function En(t,r,s){let a=0;for(;a<s.length;){const l=s[a];if("number"==typeof l){if(0!==l)break;a++;const d=s[a++],y=s[a++],I=s[a++];t.setAttribute(r,y,I,d)}else{const d=l,y=s[++a];Dr(d)?t.setProperty(r,d,y):t.setAttribute(r,d,y),a++}}return a}function kn(t){return 3===t||4===t||6===t}function Dr(t){return 64===t.charCodeAt(0)}function Pr(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const l=r[a];"number"==typeof l?s=l:0===s||Vi(t,s,l,null,-1===s||2===s?r[++a]:null)}}return t}function Vi(t,r,s,a,l){let d=0,y=t.length;if(-1===r)y=-1;else for(;d<t.length;){const I=t[d++];if("number"==typeof I){if(I===r){y=-1;break}if(I>r){y=d-1;break}}}for(;d<t.length;){const I=t[d];if("number"==typeof I)break;if(I===s){if(null===a)return void(null!==l&&(t[d+1]=l));if(a===t[d+1])return void(t[d+2]=l)}d++,null!==a&&d++,null!==l&&d++}-1!==y&&(t.splice(y,0,r),d=y+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==l&&t.splice(d++,0,l)}function cr(t){return t!==B}function li(t){return 32767&t}function _i(t,r){let s=function In(t){return t>>16}(t),a=r;for(;s>0;)a=a[15],s--;return a}let ci=!0;function rr(t){const r=ci;return ci=t,r}let No=0;const er={};function gs(t,r){const s=tn(t,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(t.injectorIndex=r.length,Zt(a.data,t),Zt(r,null),Zt(a.blueprint,null));const l=wn(t,r),d=t.injectorIndex;if(cr(l)){const y=li(l),I=_i(l,r),S=I[1].data;for(let V=0;V<8;V++)r[d+V]=I[y+V]|S[y+V]}return r[d+8]=l,d}function Zt(t,r){t.push(0,0,0,0,0,0,0,0,r)}function tn(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function wn(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,l=r;for(;null!==l;){if(a=Hs(l),null===a)return B;if(s++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return B}function Un(t,r,s){!function Ot(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(pe)&&(a=s[pe]),null==a&&(a=s[pe]=No++);const l=255&a;r.data[t+(l>>5)]|=1<<l}(t,r,s)}function xi(t,r,s){if(s&xt.Optional||void 0!==t)return t;Ye()}function Ei(t,r,s,a){if(s&xt.Optional&&void 0===a&&(a=null),0==(s&(xt.Self|xt.Host))){const l=t[9],d=pn(void 0);try{return l?l.get(r,a,s&xt.Optional):ur(r,a,s&xt.Optional)}finally{pn(d)}}return xi(a,0,s)}function Js(t,r,s,a=xt.Default,l){if(null!==t){if(1024&r[2]){const y=function Yo(t,r,s,a,l){let d=t,y=r;for(;null!==d&&null!==y&&1024&y[2]&&!(256&y[2]);){const I=sr(d,y,s,a|xt.Self,er);if(I!==er)return I;let S=d.parent;if(!S){const V=y[21];if(V){const Q=V.get(s,er,a);if(Q!==er)return Q}S=Hs(y),y=y[15]}d=S}return l}(t,r,s,a,er);if(y!==er)return y}const d=sr(t,r,s,a,er);if(d!==er)return d}return Ei(r,s,a,l)}function sr(t,r,s,a,l){const d=function Ki(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(pe)?t[pe]:void 0;return"number"==typeof r?r>=0?255&r:Ss:r}(s);if("function"==typeof d){if(!K(r,t,a))return a&xt.Host?xi(l,0,a):Ei(r,s,a,l);try{const y=d(a);if(null!=y||a&xt.Optional)return y;Ye()}finally{Er()}}else if("number"==typeof d){let y=null,I=tn(t,r),S=B,V=a&xt.Host?r[16][6]:null;for((-1===I||a&xt.SkipSelf)&&(S=-1===I?wn(t,r):r[I+8],S!==B&&We(a,!1)?(y=r[1],I=li(S),r=_i(S,r)):I=-1);-1!==I;){const Q=r[1];if(Tr(d,I,Q.data)){const oe=ka(I,r,s,y,a,V);if(oe!==er)return oe}S=r[I+8],S!==B&&We(a,r[1].data[I+8]===V)&&Tr(d,I,r)?(y=Q,I=li(S),r=_i(S,r)):I=-1}}return l}function ka(t,r,s,a,l,d){const y=r[1],I=y.data[t+8],Q=Ko(I,y,s,null==a?Kr(I)&&ci:a!=y&&0!=(3&I.type),l&xt.Host&&d===I);return null!==Q?Si(r,y,Q,I):er}function Ko(t,r,s,a,l){const d=t.providerIndexes,y=r.data,I=1048575&d,S=t.directiveStart,Q=d>>20,Se=l?I+Q:t.directiveEnd;for(let qe=a?I:I+Q;qe<Se;qe++){const ft=y[qe];if(qe<S&&s===ft||qe>=S&&ft.type===s)return qe}if(l){const qe=y[S];if(qe&&mi(qe)&&qe.type===s)return S}return null}function Si(t,r,s,a){let l=t[s];const d=r.data;if(function re(t){return t instanceof J}(l)){const y=l;y.resolving&&function st(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new _e(-200,`Circular dependency in DI detected for ${t}${s}`)}(function Re(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ie(t)}(d[s]));const I=rr(y.canSeeViewProviders);y.resolving=!0;const S=y.injectImpl?pn(y.injectImpl):null;K(t,a,xt.Default);try{l=t[s]=y.factory(void 0,d,t,a),r.firstCreatePass&&s>=a.directiveStart&&function Cs(t,r,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:d}=r.type.prototype;if(a){const y=Io(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,y),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,y)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,l),d&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,d),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,d))}(s,d[s],r)}finally{null!==S&&pn(S),rr(I),y.resolving=!1,Er()}}return l}function Tr(t,r,s){return!!(s[r+(t>>5)]&1<<t)}function We(t,r){return!(t&xt.Self||t&xt.Host&&r)}class Ts{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Js(this._tNode,this._lView,r,a,s)}}function Ss(){return new Ts(F(),mt())}function sa(t){return Zr(()=>{const r=t.prototype.constructor,s=r[ye]||oa(r),a=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==a;){const d=l[ye]||oa(l);if(d&&d!==s)return d;l=Object.getPrototypeOf(l)}return d=>new d})}function oa(t){return ce(t)?()=>{const r=oa(_t(t));return r&&r()}:Fs(t)}function Hs(t){const r=t[1],s=r.type;return 2===s?r.declTNode:1===s?t[6]:null}function Oo(t){return function Ui(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const d=s[l];if(kn(d))break;if(0===d)l+=2;else if("number"==typeof d)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(d===r)return s[l+1];l+=2}}}return null}(F(),t)}const aa="__parameters__";function Ca(t,r,s){return Zr(()=>{const a=function Yi(t){return function(...s){if(t){const a=t(...s);for(const l in a)this[l]=a[l]}}}(r);function l(...d){if(this instanceof l)return a.apply(this,d),this;const y=new l(...d);return I.annotation=y,I;function I(S,V,Q){const oe=S.hasOwnProperty(aa)?S[aa]:Object.defineProperty(S,aa,{value:[]})[aa];for(;oe.length<=Q;)oe.push(null);return(oe[Q]=oe[Q]||[]).push(y),S}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}class Rn{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=vr({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function wi(t,r){void 0===r&&(r=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(r===t&&(r=t.slice(0,s)),wi(a,r)):r!==t&&r.push(a)}return r}function rs(t,r){t.forEach(s=>Array.isArray(s)?rs(s,r):r(s))}function Sa(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function ca(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Ua(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}function m(t,r,s){let a=O(t,r);return a>=0?t[1|a]=s:(a=~a,function ya(t,r,s,a){let l=t.length;if(l==r)t.push(s,a);else if(1===l)t.push(a,t[0]),t[0]=s;else{for(l--,t.push(t[l-1],t[l]);l>r;)t[l]=t[l-2],l--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function T(t,r){const s=O(t,r);if(s>=0)return t[1|s]}function O(t,r){return function le(t,r,s){let a=0,l=t.length>>s;for(;l!==a;){const d=a+(l-a>>1),y=t[d<<s];if(r===y)return d<<s;y>r?l=d:a=d+1}return~(l<<s)}(t,r,1)}const is={},Zi="__NG_DI_FLAG__",Qo="ngTempTokenPath",nd=/\n/gm,_a="__source";let ju;function da(t){const r=ju;return ju=t,r}function Za(t,r=xt.Default){if(void 0===ju)throw new _e(-203,!1);return null===ju?ur(t,void 0,r):ju.get(t,r&xt.Optional?null:void 0,r)}function Bi(t,r=xt.Default){return(function un(){return jt}()||Za)(_t(t),r)}function P(t,r=xt.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),Bi(t,r)}function N(t){const r=[];for(let s=0;s<t.length;s++){const a=_t(t[s]);if(Array.isArray(a)){if(0===a.length)throw new _e(900,!1);let l,d=xt.Default;for(let y=0;y<a.length;y++){const I=a[y],S=ae(I);"number"==typeof S?-1===S?l=I.token:d|=S:l=I}r.push(Bi(l,d))}else r.push(Bi(a))}return r}function G(t,r){return t[Zi]=r,t.prototype[Zi]=r,t}function ae(t){return t[Zi]}const Ut=G(Ca("Optional"),8),jn=G(Ca("SkipSelf"),4);let zu;function vl(t){zu=t}class lc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ha(t){return t instanceof lc?t.changingThisBreaksApplicationSecurity:t}const Qt=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var js=(()=>((js=js||{})[js.NONE=0]="NONE",js[js.HTML=1]="HTML",js[js.STYLE=2]="STYLE",js[js.SCRIPT=3]="SCRIPT",js[js.URL=4]="URL",js[js.RESOURCE_URL=5]="RESOURCE_URL",js))();function xh(t){const r=function cu(){const t=mt();return t&&t[12]}();return r?r.sanitize(js.URL,t)||"":function ja(t,r){const s=function Mh(t){return t instanceof lc&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(t,"URL")?Ha(t):function Xt(t){return(t=String(t)).match(Qt)?t:"unsafe:"+t}(Ie(t))}const Ra=new Rn("ENVIRONMENT_INITIALIZER"),dd=new Rn("INJECTOR",-1),Ph=new Rn("INJECTOR_DEF_TYPES");class Sl{get(r,s=is){if(s===is){const a=new Error(`NullInjectorError: No provider for ${St(r)}!`);throw a.name="NullInjectorError",a}return s}}function hp(...t){return{\u0275providers:Rh(0,t)}}function Rh(t,...r){const s=[],a=new Set;let l;return rs(r,d=>{const y=d;Oh(y,s,[],a)&&(l||(l=[]),l.push(y))}),void 0!==l&&Nh(l,s),s}function Nh(t,r){for(let s=0;s<t.length;s++){const{providers:l}=t[s];rs(l,d=>{r.push(d)})}}function Oh(t,r,s,a){if(!(t=_t(t)))return!1;let l=null,d=br(t);const y=!d&&se(t);if(d||y){if(y&&!y.standalone)return!1;l=t}else{const S=t.ngModule;if(d=br(S),!d)return!1;l=S}const I=a.has(l);if(y){if(I)return!1;if(a.add(l),y.dependencies){const S="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const V of S)Oh(V,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!I){let V;a.add(l);try{rs(d.imports,Q=>{Oh(Q,r,s,a)&&(V||(V=[]),V.push(Q))})}finally{}void 0!==V&&Nh(V,r)}if(!I){const V=Fs(l)||(()=>new l);r.push({provide:l,useFactory:V,deps:Ue},{provide:Ph,useValue:l,multi:!0},{provide:Ra,useValue:()=>Bi(l),multi:!0})}const S=d.providers;null==S||I||rs(S,Q=>{r.push(Q)})}}return l!==t&&void 0!==t.providers}const gc=Be({provide:String,useValue:Be});function mc(t){return null!==t&&"object"==typeof t&&gc in t}function du(t){return"function"==typeof t}const Fh=new Rn("Set Injector scope."),yc={},um={};let Lh;function hu(){return void 0===Lh&&(Lh=new Sl),Lh}class Na{}class gp extends Na{constructor(r,s,a,l){super(),this.parent=s,this.source=a,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fd(r,y=>this.processProvider(y)),this.records.set(dd,Al(void 0,this)),l.has("environment")&&this.records.set(Na,Al(void 0,this));const d=this.records.get(Fh);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Ph.multi,Ue,xt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=da(this),a=pn(void 0);try{return r()}finally{da(s),pn(a)}}get(r,s=is,a=xt.Default){this.assertNotDestroyed();const l=da(this),d=pn(void 0);try{if(!(a&xt.SkipSelf)){let I=this.records.get(r);if(void 0===I){const S=function vp(t){return"function"==typeof t||"object"==typeof t&&t instanceof Rn}(r)&&Rr(r);I=S&&this.injectableDefInScope(S)?Al(Vh(r),yc):null,this.records.set(r,I)}if(null!=I)return this.hydrate(r,I)}return(a&xt.Self?hu():this.parent).get(r,s=a&xt.Optional&&s===is?null:s)}catch(y){if("NullInjectorError"===y.name){if((y[Qo]=y[Qo]||[]).unshift(St(r)),l)throw y;return function Le(t,r,s,a){const l=t[Qo];throw r[_a]&&l.unshift(r[_a]),t.message=function Xe(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let l=St(r);if(Array.isArray(r))l=r.map(St).join(" -> ");else if("object"==typeof r){let d=[];for(let y in r)if(r.hasOwnProperty(y)){let I=r[y];d.push(y+":"+("string"==typeof I?JSON.stringify(I):St(I)))}l=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${t.replace(nd,"\n  ")}`}("\n"+t.message,l,s,a),t.ngTokenPath=l,t[Qo]=null,t}(y,r,"R3InjectorError",this.source)}throw y}finally{pn(d),da(l)}}resolveInjectorInitializers(){const r=da(this),s=pn(void 0);try{const a=this.get(Ra.multi,Ue,xt.Self);for(const l of a)l()}finally{da(r),pn(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(St(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new _e(205,!1)}processProvider(r){let s=du(r=_t(r))?r:_t(r&&r.provide);const a=function mp(t){return mc(t)?Al(void 0,t.useValue):Al(Bo(t),yc)}(r);if(du(r)||!0!==r.multi)this.records.get(s);else{let l=this.records.get(s);l||(l=Al(void 0,yc,!0),l.factory=()=>N(l.multi),this.records.set(s,l)),s=r,l.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===yc&&(s.value=um,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Qa(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=_t(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function Vh(t){const r=Rr(t),s=null!==r?r.factory:Fs(t);if(null!==s)return s;if(t instanceof Rn)throw new _e(204,!1);if(t instanceof Function)return function lm(t){const r=t.length;if(r>0)throw Ua(r,"?"),new _e(204,!1);const s=function Kn(t){const r=t&&(t[fr]||t[_r]);if(r){const s=function Ar(t){if(t.hasOwnProperty("name"))return t.name;const r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new _e(204,!1)}function Bo(t,r,s){let a;if(du(t)){const l=_t(t);return Fs(l)||Vh(l)}if(mc(t))a=()=>_t(t.useValue);else if(function kh(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...N(t.deps||[]));else if(function fp(t){return!(!t||!t.useExisting)}(t))a=()=>Bi(_t(t.useExisting));else{const l=_t(t&&(t.useClass||t.provide));if(!function yp(t){return!!t.deps}(t))return Fs(l)||Vh(l);a=()=>new l(...N(t.deps))}return a}function Al(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function hd(t){return!!t.\u0275providers}function fd(t,r){for(const s of t)Array.isArray(s)?fd(s,r):hd(s)?fd(s.\u0275providers,r):r(s)}class _p{}class hm{resolveComponentFactory(r){throw function dm(t){const r=Error(`No component factory found for ${St(t)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=t,r}(r)}}let vc=(()=>{class t{}return t.NULL=new hm,t})();function fm(){return Ml(F(),mt())}function Ml(t,r){return new _c(pi(t,r))}let _c=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=fm,t})();function pm(t){return t instanceof _c?t.nativeElement:t}class wp{}let gm=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function mm(){const t=mt(),s=ii(F().index,t);return(Gr(s)?s:t)[11]}(),t})(),Ip=(()=>{class t{}return t.\u0275prov=vr({token:t,providedIn:"root",factory:()=>null}),t})();class Dp{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Uh=new Dp("14.2.7"),pd={};function md(t){return t.ngOriginalError}class Ic{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&md(r);for(;s&&md(s);)s=md(s);return s||null}}const jh=new Map;let Im=0;const Gh="__ngContext__";function So(t,r){Gr(r)?(t[Gh]=r[20],function tl(t){jh.set(t[20],t)}(r)):t[Gh]=r}function ga(t){return t instanceof Function?t():t}var Xa=(()=>((Xa=Xa||{})[Xa.Important=1]="Important",Xa[Xa.DashCase=2]="DashCase",Xa))();function qh(t,r){return undefined(t,r)}function kl(t){const r=t[3];return Qn(r)?r[3]:r}function _d(t){return Fp(t[13])}function Ed(t){return Fp(t[4])}function Fp(t){for(;null!==t&&!Qn(t);)t=t[4];return t}function Fl(t,r,s,a,l){if(null!=a){let d,y=!1;Qn(a)?d=a:Gr(a)&&(y=!0,a=a[0]);const I=Sn(a);0===t&&null!==s?null==l?Up(r,s,I):xu(r,s,I,l||null,!0):1===t&&null!==s?xu(r,s,I,l||null,!0):2===t?function ef(t,r,s){const a=Ad(t,r);a&&function Bp(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,I,y):3===t&&r.destroyNode(I),null!=d&&function zp(t,r,s,a,l){const d=s[7];d!==Sn(s)&&Fl(r,t,a,d,l);for(let I=10;I<s.length;I++){const S=s[I];ol(S[1],S,t,r,a,d)}}(r,t,d,s,l)}}function Zh(t,r,s){return t.createElement(r,s)}function Vp(t,r){const s=t[9],a=s.indexOf(r),l=r[3];512&r[2]&&(r[2]&=-513,oo(l,-1)),s.splice(a,1)}function Dd(t,r){if(t.length<=10)return;const s=10+r,a=t[s];if(a){const l=a[17];null!==l&&l!==t&&Vp(l,a),r>0&&(t[s-1][4]=a[4]);const d=ca(t,10+r);!function Am(t,r){ol(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const y=d[19];null!==y&&y.detachView(d[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function bd(t,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&ol(t,r,s,3,null,null),function Lp(t){let r=t[13];if(!r)return xc(t[1],t);for(;r;){let s=null;if(Gr(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==t;)Gr(r)&&xc(r[1],r),r=r[3];null===r&&(r=t),Gr(r)&&xc(r[1],r),s=r&&r[4]}r=s}}(r)}}function xc(t,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Cd(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const l=r[s[a]];if(!(l instanceof J)){const d=s[a+1];if(Array.isArray(d))for(let y=0;y<d.length;y+=2){const I=l[d[y]],S=d[y+1];try{S.call(I)}finally{}}else try{d.call(l)}finally{}}}}(t,r),function Pc(t,r){const s=t.cleanup,a=r[7];let l=-1;if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const y=s[d+1],I="function"==typeof y?y(r):Sn(r[y]),S=a[l=s[d+2]],V=s[d+3];"boolean"==typeof V?I.removeEventListener(s[d],S,V):V>=0?a[l=V]():a[l=-V].unsubscribe(),d+=2}else{const y=a[l=s[d+1]];s[d].call(y)}if(null!==a){for(let d=l+1;d<a.length;d++)(0,a[d])();r[7]=null}}(t,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&Qn(r[3])){s!==r[3]&&Vp(s,r);const a=r[19];null!==a&&a.detachView(t)}!function xp(t){jh.delete(t[20])}(r)}}function Td(t,r,s){return function Sd(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const l=t.data[a.directiveStart].encapsulation;if(l===ti.None||l===ti.Emulated)return null}return pi(a,s)}(t,r.parent,s)}function xu(t,r,s,a,l){t.insertBefore(r,s,a,l)}function Up(t,r,s){t.appendChild(r,s)}function Qh(t,r,s,a,l){null!==a?xu(t,r,s,a,l):Up(t,r,s)}function Ad(t,r){return t.parentNode(r)}function jp(t,r,s){return Gp(t,r,s)}let Gp=function Xh(t,r,s){return 40&t.type?pi(t,s):null};function Ll(t,r,s,a){const l=Td(t,a,r),d=r[11],I=jp(a.parent||r[6],a,r);if(null!=l)if(Array.isArray(s))for(let S=0;S<s.length;S++)Qh(d,l,s[S],I,!1);else Qh(d,l,s,I,!1)}function sl(t,r){if(null!==r){const s=r.type;if(3&s)return pi(r,t);if(4&s)return Md(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return sl(t,a);{const l=t[r.index];return Qn(l)?Md(-1,l):Sn(l)}}if(32&s)return qh(r,t)()||Sn(t[r.index]);{const a=Jh(t,r);return null!==a?Array.isArray(a)?a[0]:sl(kl(t[16]),a):sl(t,r.next)}}return null}function Jh(t,r){return null!==r?t[16][6].projection[r.projection]:null}function Md(t,r){const s=10+t+1;if(s<r.length){const a=r[s],l=a[1].firstChild;if(null!==l)return sl(a,l)}return r[7]}function tf(t,r,s,a,l,d,y){for(;null!=s;){const I=a[s.index],S=s.type;if(y&&0===r&&(I&&So(Sn(I),a),s.flags|=4),64!=(64&s.flags))if(8&S)tf(t,r,s.child,a,l,d,!1),Fl(r,t,l,I,d);else if(32&S){const V=qh(s,a);let Q;for(;Q=V();)Fl(r,t,l,Q,d);Fl(r,t,l,I,d)}else 16&S?xd(t,r,a,s,l,d):Fl(r,t,l,I,d);s=y?s.projectionNext:s.next}}function ol(t,r,s,a,l,d){tf(s,a,t.firstChild,r,l,d,!1)}function xd(t,r,s,a,l,d){const y=s[16],S=y[6].projection[a.projection];if(Array.isArray(S))for(let V=0;V<S.length;V++)Fl(r,t,l,S[V],d);else tf(t,r,S,y[3],l,d,!0)}function Pd(t,r,s){t.setAttribute(r,"style",s)}function Vl(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function Ul(t,r,s){let a=t.length;for(;;){const l=t.indexOf(r,s);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const d=r.length;if(l+d===a||t.charCodeAt(l+d)<=32)return l}s=l+1}}const Rd="ng-template";function rf(t,r,s){let a=0;for(;a<t.length;){let l=t[a++];if(s&&"class"===l){if(l=t[a],-1!==Ul(l.toLowerCase(),r,0))return!0}else if(1===l){for(;a<t.length&&"string"==typeof(l=t[a++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function Nd(t){return 4===t.type&&t.value!==Rd}function qp(t,r,s){return r===(4!==t.type||s?t.value:Rd)}function Nm(t,r,s){let a=4;const l=t.attrs||[],d=function Yp(t){for(let r=0;r<t.length;r++)if(kn(t[r]))return r;return t.length}(l);let y=!1;for(let I=0;I<r.length;I++){const S=r[I];if("number"!=typeof S){if(!y)if(4&a){if(a=2|1&a,""!==S&&!qp(t,S,s)||""===S&&1===r.length){if(Oa(a))return!1;y=!0}}else{const V=8&a?S:r[++I];if(8&a&&null!==t.attrs){if(!rf(t.attrs,V,s)){if(Oa(a))return!1;y=!0}continue}const oe=Om(8&a?"class":S,l,Nd(t),s);if(-1===oe){if(Oa(a))return!1;y=!0;continue}if(""!==V){let Se;Se=oe>d?"":l[oe+1].toLowerCase();const qe=8&a?Se:null;if(qe&&-1!==Ul(qe,V,0)||2&a&&V!==Se){if(Oa(a))return!1;y=!0}}}}else{if(!y&&!Oa(a)&&!Oa(S))return!1;if(y&&Oa(S))continue;y=!1,a=S|1&a}}return Oa(a)||y}function Oa(t){return 0==(1&t)}function Om(t,r,s,a){if(null===r)return-1;let l=0;if(a||!s){let d=!1;for(;l<r.length;){const y=r[l];if(y===t)return l;if(3===y||6===y)d=!0;else{if(1===y||2===y){let I=r[++l];for(;"string"==typeof I;)I=r[++l];continue}if(4===y)break;if(0===y){l+=4;continue}}l+=d?1:2}return-1}return function Od(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function Kp(t,r,s=!1){for(let a=0;a<r.length;a++)if(Nm(t,r[a],s))return!0;return!1}function Rc(t,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(t.length===a.length){for(let l=0;l<t.length;l++)if(t[l]!==a[l])continue e;return!0}}return!1}function kd(t,r){return t?":not("+r.trim()+")":r}function Zp(t){let r=t[0],s=1,a=2,l="",d=!1;for(;s<t.length;){let y=t[s];if("string"==typeof y)if(2&a){const I=t[++s];l+="["+y+(I.length>0?'="'+I+'"':"")+"]"}else 8&a?l+="."+y:4&a&&(l+=" "+y);else""!==l&&!Oa(y)&&(r+=kd(d,l),l=""),a=y,d=d||!Oa(a);s++}return""!==l&&(r+=kd(d,l)),r}const hr={};function Qp(t){Fd(_n(),mt(),Xn()+t,!1)}function Fd(t,r,s,a){if(!a)if(3==(3&r[2])){const d=t.preOrderCheckHooks;null!==d&&bt(r,d,s)}else{const d=t.preOrderHooks;null!==d&&U(r,d,0,s)}yr(s)}function sf(t,r=null,s=null,a){const l=Bd(t,r,s,a);return l.resolveInjectorInitializers(),l}function Bd(t,r=null,s=null,a,l=new Set){const d=[s||Ue,hp(t)];return a=a||("object"==typeof t?void 0:St(t)),new gp(d,r||hu(),a||null,l)}let gu=(()=>{class t{static create(s,a){if(Array.isArray(s))return sf({name:""},a,s,"");{const l=s.name??"";return sf({name:l},s.parent,s.providers,l)}}}return t.THROW_IF_NOT_FOUND=is,t.NULL=new Sl,t.\u0275prov=vr({token:t,providedIn:"any",factory:()=>Bi(dd)}),t.__NG_ELEMENT_ID__=-1,t})();function Ru(t,r=xt.Default){const s=mt();return null===s?Bi(t,r):Js(F(),s,_t(t),r)}function ul(){throw new Error("invalid")}function Vc(t,r){return t<<17|r<<2}function $o(t){return t>>17&32767}function Uc(t){return 2|t}function za(t){return(131068&t)>>2}function Bc(t,r){return-131069&t|r<<2}function gf(t){return 1|t}function yg(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const l=s[a],d=s[a+1];if(-1!==d){const y=t.data[d];$(l),y.contentQueries(2,r[d],d)}}}function eh(t,r,s,a,l,d,y,I,S,V,Q){const oe=r.blueprint.slice();return oe[0]=l,oe[2]=76|a,(null!==Q||t&&1024&t[2])&&(oe[2]|=1024),as(oe),oe[3]=oe[15]=t,oe[8]=s,oe[10]=y||t&&t[10],oe[11]=I||t&&t[11],oe[12]=S||t&&t[12]||null,oe[9]=V||t&&t[9]||null,oe[6]=d,oe[20]=function Dc(){return Im++}(),oe[21]=Q,oe[16]=2==r.type?t[16]:oe,oe}function Nu(t,r,s,a,l){let d=t.data[r];if(null===d)d=function Df(t,r,s,a,l){const d=k(),y=Ze(),S=t.data[r]=function ey(t,r,s,a,l,d){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?d:d&&d.parent,s,r,a,l);return null===t.firstChild&&(t.firstChild=S),null!==d&&(y?null==d.child&&null!==S.parent&&(d.child=S):null===d.next&&(d.next=S)),S}(t,r,s,a,l),function ho(){return $t.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=s,d.value=a,d.attrs=l;const y=function x(){const t=$t.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===y?-1:y.injectorIndex}return Y(d,!0),d}function Ou(t,r,s,a){if(0===s)return-1;const l=r.length;for(let d=0;d<s;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return l}function bf(t,r,s){Ee(r);try{const a=t.viewQuery;null!==a&&zc(1,a,s);const l=t.template;null!==l&&Cf(t,r,l,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&yg(t,r),t.staticViewQueries&&zc(2,t.viewQuery,s);const d=t.components;null!==d&&function If(t,r){for(let s=0;s<r.length;s++)cy(t,r[s])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[2]&=-5,gr()}}function Hl(t,r,s,a){const l=r[2];if(128!=(128&l)){Ee(r);try{as(r),function Xs(t){return $t.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Cf(t,r,s,2,a);const y=3==(3&l);if(y){const V=t.preOrderCheckHooks;null!==V&&bt(r,V,null)}else{const V=t.preOrderHooks;null!==V&&U(r,V,0,null),v(r,0)}if(function uy(t){for(let r=_d(t);null!==r;r=Ed(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const l=s[a],d=l[3];0==(512&l[2])&&oo(d,1),l[2]|=512}}}(r),function ay(t){for(let r=_d(t);null!==r;r=Ed(r))for(let s=10;s<r.length;s++){const a=r[s],l=a[1];hs(a)&&Hl(l,a,l.template,a[8])}}(r),null!==t.contentQueries&&yg(t,r),y){const V=t.contentCheckHooks;null!==V&&bt(r,V)}else{const V=t.contentHooks;null!==V&&U(r,V,1),v(r,1)}!function wf(t,r){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)yr(~l);else{const d=l,y=s[++a],I=s[++a];ra(y,d),I(2,r[d])}}}finally{yr(-1)}}(t,r);const I=t.components;null!==I&&function Xm(t,r){for(let s=0;s<r.length;s++)ly(t,r[s])}(r,I);const S=t.viewQuery;if(null!==S&&zc(2,S,a),y){const V=t.viewCheckHooks;null!==V&&bt(r,V)}else{const V=t.viewHooks;null!==V&&U(r,V,2),v(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,oo(r[3],-1))}finally{gr()}}}function Cf(t,r,s,a,l){const d=Xn(),y=2&a;try{yr(-1),y&&r.length>22&&Fd(t,r,22,!1),s(a,l)}finally{yr(d)}}function th(t,r,s){if(Ci(r)){const l=r.directiveEnd;for(let d=r.directiveStart;d<l;d++){const y=t.data[d];y.contentQueries&&y.contentQueries(1,s[d],d)}}}function nh(t,r,s){!bs()||(function bg(t,r,s,a){const l=s.directiveStart,d=s.directiveEnd;t.firstCreatePass||gs(s,r),So(a,r);const y=s.initialInputs;for(let I=l;I<d;I++){const S=t.data[I],V=mi(S);V&&Sg(r,s,S);const Q=Si(r,t,I,s);So(Q,r),null!==y&&Ag(0,I-l,Q,S,0,y),V&&(ii(s.index,r)[8]=Q)}}(t,r,s,pi(s,r)),128==(128&s.flags)&&function Cg(t,r,s){const a=s.directiveStart,l=s.directiveEnd,d=s.index,y=function ia(){return $t.lFrame.currentDirectiveIndex}();try{yr(d);for(let I=a;I<l;I++){const S=t.data[I],V=r[I];Do(I),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&Gl(S,V)}}finally{yr(-1),Do(y)}}(t,r,s))}function Tf(t,r,s=pi){const a=r.localNames;if(null!==a){let l=r.index+1;for(let d=0;d<a.length;d+=2){const y=a[d+1],I=-1===y?s(r,t):t[y];t[l++]=I}}}function vg(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Gc(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function Gc(t,r,s,a,l,d,y,I,S,V){const Q=22+a,oe=Q+l,Se=function Jm(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:hr);return s}(Q,oe),qe="function"==typeof V?V():V;return Se[1]={type:t,blueprint:Se,template:s,queries:null,viewQuery:I,declTNode:r,data:Se.slice().fill(null,Q),bindingStartIndex:Q,expandoStartIndex:oe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:S,consts:qe,incompleteFirstPass:!1}}function rh(t,r,s,a){const l=uh(r);null===s?l.push(a):(l.push(s),t.firstCreatePass&&xf(t).push(a,l.length-1))}function Eg(t,r,s){for(let a in t)if(t.hasOwnProperty(a)){const l=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,l):s[a]=[r,l]}return s}function wg(t,r){const a=r.directiveEnd,l=t.data,d=r.attrs,y=[];let I=null,S=null;for(let V=r.directiveStart;V<a;V++){const Q=l[V],oe=Q.inputs,Se=null===d||Nd(r)?null:oh(oe,d);y.push(Se),I=Eg(oe,V,I),S=Eg(Q.outputs,V,S)}null!==I&&(I.hasOwnProperty("class")&&(r.flags|=16),I.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=y,r.inputs=I,r.outputs=S}function ih(t,r){const s=ii(r,t);16&s[2]||(s[2]|=32)}function jl(t,r,s,a){let l=!1;if(bs()){const d=function iy(t,r,s){const a=t.directiveRegistry;let l=null;if(a)for(let d=0;d<a.length;d++){const y=a[d];Kp(s,y.selectors,!1)&&(l||(l=[]),Un(gs(s,r),t,y.type),mi(y)?(ms(t,s),l.unshift(y)):l.push(y))}return l}(t,r,s),y=null===a?null:{"":-1};if(null!==d){l=!0,Tg(s,t.data.length,d.length);for(let Q=0;Q<d.length;Q++){const oe=d[Q];oe.providersResolver&&oe.providersResolver(oe)}let I=!1,S=!1,V=Ou(t,r,d.length,null);for(let Q=0;Q<d.length;Q++){const oe=d[Q];s.mergedAttrs=Pr(s.mergedAttrs,oe.hostAttrs),sy(t,s,r,V,oe),eu(V,oe,y),null!==oe.contentQueries&&(s.flags|=8),(null!==oe.hostBindings||null!==oe.hostAttrs||0!==oe.hostVars)&&(s.flags|=128);const Se=oe.type.prototype;!I&&(Se.ngOnChanges||Se.ngOnInit||Se.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),I=!0),!S&&(Se.ngOnChanges||Se.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),S=!0),V++}wg(t,s)}y&&function jo(t,r,s){if(r){const a=t.localNames=[];for(let l=0;l<r.length;l+=2){const d=s[r[l+1]];if(null==d)throw new _e(-301,!1);a.push(r[l],d)}}}(s,a,y)}return s.mergedAttrs=Pr(s.mergedAttrs,s.attrs),l}function Wr(t,r,s,a,l,d){const y=d.hostBindings;if(y){let I=t.hostBindingOpCodes;null===I&&(I=t.hostBindingOpCodes=[]);const S=~r.index;(function Dg(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(I)!=S&&I.push(S),I.push(a,l,y)}}function Gl(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function ms(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function eu(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;mi(r)&&(s[""]=t)}}function Tg(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}function sy(t,r,s,a,l){t.data[a]=l;const d=l.factory||(l.factory=Fs(l.type)),y=new J(d,mi(l),Ru);t.blueprint[a]=y,s[a]=y,Wr(t,r,0,a,Ou(t,s,l.hostVars,hr),l)}function Sg(t,r,s){const a=pi(r,t),l=vg(s),d=t[10],y=zl(t,eh(t,l,null,s.onPush?32:16,a,r,d,d.createRenderer(a,s),null,null,null));t[r.index]=y}function yu(t,r,s,a,l,d){const y=pi(t,r);!function sh(t,r,s,a,l,d,y){if(null==d)t.removeAttribute(r,l,s);else{const I=null==y?Ie(d):y(d,a||"",l);t.setAttribute(r,l,I,s)}}(r[11],y,d,t.value,s,a,l)}function Ag(t,r,s,a,l,d){const y=d[r];if(null!==y){const I=a.setInput;for(let S=0;S<y.length;){const V=y[S++],Q=y[S++],oe=y[S++];null!==I?a.setInput(s,oe,V,Q):s[Q]=oe}}}function oh(t,r){let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;t.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,t[l],r[a+1])),a+=2}else a+=2;else a+=4}return s}function oy(t,r,s,a){return new Array(t,!0,!1,r,null,0,a,s,null,null)}function ly(t,r){const s=ii(r,t);if(hs(s)){const a=s[1];48&s[2]?Hl(a,s,a.template,s[8]):s[5]>0&&Af(s)}}function Af(t){for(let a=_d(t);null!==a;a=Ed(a))for(let l=10;l<a.length;l++){const d=a[l];if(hs(d))if(512&d[2]){const y=d[1];Hl(y,d,y.template,d[8])}else d[5]>0&&Af(d)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const l=ii(s[a],t);hs(l)&&l[5]>0&&Af(l)}}function cy(t,r){const s=ii(r,t),a=s[1];(function Mg(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])})(a,s),bf(a,s,s[8])}function zl(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function ah(t){for(;t;){t[2]|=32;const r=kl(t);if(ea(t)&&!r)return t;t=r}return null}function Wl(t,r,s,a=!0){const l=r[10];l.begin&&l.begin();try{Hl(t,r,t.template,s)}catch(y){throw a&&lh(r,y),y}finally{l.end&&l.end()}}function zc(t,r,s){$(0),r(t,s)}function uh(t){return t[7]||(t[7]=[])}function xf(t){return t.cleanup||(t.cleanup=[])}function lh(t,r){const s=t[9],a=s?s.get(Ic,null):null;a&&a.handleError(r)}function qc(t,r,s,a,l){for(let d=0;d<s.length;){const y=s[d++],I=s[d++],S=r[y],V=t.data[y];null!==V.setInput?V.setInput(S,l,a,I):S[I]=l}}function tu(t,r,s){const a=ds(r,t);!function wd(t,r,s){t.setValue(r,s)}(t[11],a,s)}function vu(t,r,s){let a=s?t.styles:null,l=s?t.classes:null,d=0;if(null!==r)for(let y=0;y<r.length;y++){const I=r[y];"number"==typeof I?d=I:1==d?l=Vt(l,I):2==d&&(a=Vt(a,I+": "+r[++y]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=l:t.classesWithoutHost=l}function ql(t,r,s,a,l=!1){for(;null!==s;){const d=r[s.index];if(null!==d&&a.push(Sn(d)),Qn(d))for(let I=10;I<d.length;I++){const S=d[I],V=S[1].firstChild;null!==V&&ql(S[1],S,V,a)}const y=s.type;if(8&y)ql(t,r,s.child,a);else if(32&y){const I=qh(s,r);let S;for(;S=I();)a.push(S)}else if(16&y){const I=Jh(r,s);if(Array.isArray(I))a.push(...I);else{const S=kl(r[16]);ql(S[1],S,I,a,!0)}}s=l?s.projectionNext:s.next}return a}class Kc{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return ql(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Qn(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Dd(r,a),ca(s,a))}this._attachedToViewContainer=!1}bd(this._lView[1],this._lView)}onDestroy(r){rh(this._lView[1],this._lView,null,r)}markForCheck(){ah(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Wl(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new _e(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function xm(t,r){ol(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new _e(902,!1);this._appRef=r}}class dy extends Kc{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Wl(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class Pf extends vc{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=se(r);return new Yc(s,this.ngModule)}}function Rf(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class Pg{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const l=this.injector.get(r,pd,a);return l!==pd||s===pd?l:this.parentInjector.get(r,s,a)}}class Yc extends _p{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Fm(t){return t.map(Zp).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Rf(this.componentDef.inputs)}get outputs(){return Rf(this.componentDef.outputs)}create(r,s,a,l){let d=(l=l||this.ngModule)instanceof Na?l:l?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const y=d?new Pg(r,d):r,I=y.get(wp,null);if(null===I)throw new _e(407,!1);const S=y.get(Ip,null),V=I.createRenderer(null,this.componentDef),Q=this.componentDef.selectors[0][0]||"div",oe=a?function Sf(t,r,s){return t.selectRootElement(r,s===ti.ShadowDom)}(V,a,this.componentDef.encapsulation):Zh(I.createRenderer(null,this.componentDef),Q,function hy(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Q)),Se=this.componentDef.onPush?288:272,qe=Gc(0,null,null,1,0,null,null,null,null,null),ft=eh(null,qe,null,Se,null,null,I,V,S,y,null);let Pt,Kt;Ee(ft);try{const hn=function gy(t,r,s,a,l,d){const y=s[1];s[22]=t;const S=Nu(y,22,2,"#host",null),V=S.mergedAttrs=r.hostAttrs;null!==V&&(vu(S,V,!0),null!==t&&(En(l,t,V),null!==S.classes&&Vl(l,t,S.classes),null!==S.styles&&Pd(l,t,S.styles)));const Q=a.createRenderer(t,r),oe=eh(s,vg(r),null,r.onPush?32:16,s[22],S,a,Q,d||null,null,null);return y.firstCreatePass&&(Un(gs(S,s),y,r.type),ms(y,S),Tg(S,s.length,1)),zl(s,oe),s[22]=oe}(oe,this.componentDef,ft,I,V);if(oe)if(a)En(V,oe,["ng-version",Uh.full]);else{const{attrs:Pn,classes:Ct}=function Lm(t){const r=[],s=[];let a=1,l=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===l?""!==d&&r.push(d,t[++a]):8===l&&s.push(d);else{if(!Oa(l))break;l=d}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Pn&&En(V,oe,Pn),Ct&&Ct.length>0&&Vl(V,oe,Ct.join(" "))}if(Kt=Br(qe,22),void 0!==s){const Pn=Kt.projection=[];for(let Ct=0;Ct<this.ngContentSelectors.length;Ct++){const qn=s[Ct];Pn.push(null!=qn?Array.from(qn):null)}}Pt=function Uv(t,r,s,a){const l=s[1],d=function Ig(t,r,s){const a=F();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),sy(t,a,r,Ou(t,r,1,null),s),wg(t,a));const l=Si(r,t,a.directiveStart,a);So(l,r);const d=pi(a,r);return d&&So(d,r),l}(l,s,r);if(t[8]=s[8]=d,null!==a)for(const I of a)I(d,r);if(r.contentQueries){const I=F();r.contentQueries(1,d,I.directiveStart)}const y=F();return!l.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(yr(y.index),Wr(s[1],y,0,y.directiveStart,y.directiveEnd,r),Gl(r,d)),d}(hn,this.componentDef,ft,[Qi]),bf(qe,ft,null)}finally{gr()}return new py(this.componentType,Pt,Ml(Kt,ft),ft,Kt)}}class py extends class cm{}{constructor(r,s,a,l,d){super(),this.location=a,this._rootLView=l,this._tNode=d,this.instance=s,this.hostView=this.changeDetectorRef=new dy(l),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let l;if(null!==a&&(l=a[r])){const d=this._rootLView;qc(d[1],d,l,r,s),ih(d,this._tNode.index)}}get injector(){return new Ts(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Qi(){const t=F();Ro(mt()[1],t)}function Nf(t){let r=function my(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let l;if(mi(t))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new _e(903,!1);l=r.\u0275dir}if(l){if(s){a.push(l);const y=t;y.inputs=ch(t.inputs),y.declaredInputs=ch(t.declaredInputs),y.outputs=ch(t.outputs);const I=l.hostBindings;I&&Ng(t,I);const S=l.viewQuery,V=l.contentQueries;if(S&&Bv(t,S),V&&$v(t,V),pt(t.inputs,l.inputs),pt(t.declaredInputs,l.declaredInputs),pt(t.outputs,l.outputs),mi(l)&&l.data.animation){const Q=t.data;Q.animation=(Q.animation||[]).concat(l.data.animation)}}const d=l.features;if(d)for(let y=0;y<d.length;y++){const I=d[y];I&&I.ngInherit&&I(t),I===Nf&&(s=!1)}}r=Object.getPrototypeOf(r)}!function zs(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const l=t[a];l.hostVars=r+=l.hostVars,l.hostAttrs=Pr(l.hostAttrs,s=Pr(s,l.hostAttrs))}}(a)}function ch(t){return t===Et?{}:t===Ue?[]:t}function Bv(t,r){const s=t.viewQuery;t.viewQuery=s?(a,l)=>{r(a,l),s(a,l)}:r}function $v(t,r){const s=t.contentQueries;t.contentQueries=s?(a,l,d)=>{r(a,l,d),s(a,l,d)}:r}function Ng(t,r){const s=t.hostBindings;t.hostBindings=s?(a,l)=>{r(a,l),s(a,l)}:r}let Of=null;function Kl(){if(!Of){const t=ln.Symbol;if(t&&t.iterator)Of=t.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Of=a)}}}return Of}function dh(t){return!!ku(t)&&(Array.isArray(t)||!(t instanceof Map)&&Kl()in t)}function ku(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Wa(t,r,s){return t[r]=s}function hl(t,r){return t[r]}function Go(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function fl(t,r,s,a){const l=Go(t,r,s);return Go(t,r+1,a)||l}function wa(t,r,s,a,l,d){const y=fl(t,r,s,a);return fl(t,r+2,l,d)||y}function Yl(t,r,s,a){const l=mt();return Go(l,Ti(),r)&&(_n(),yu(Bn(),l,t,r,s,a)),Yl}function Fu(t,r,s,a,l,d){const I=fl(t,function vi(){return $t.lFrame.bindingIndex}(),s,l);return $s(2),I?r+Ie(s)+a+Ie(l)+d:hr}function Bf(t,r,s,a,l,d,y,I){const S=mt(),V=_n(),Q=t+22,oe=V.firstCreatePass?function gh(t,r,s,a,l,d,y,I,S){const V=r.consts,Q=Nu(r,t,4,y||null,Xr(V,I));jl(r,s,Q,Xr(V,S)),Ro(r,Q);const oe=Q.tViews=Gc(2,Q,a,l,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,V);return null!==r.queries&&(r.queries.template(r,Q),oe.queries=r.queries.embeddedTView(Q)),Q}(Q,V,S,r,s,a,l,d,y):V.data[Q];Y(oe,!1);const Se=S[11].createComment("");Ll(V,S,Se,oe),So(Se,S),zl(S,S[Q]=oy(Se,S,Se,oe)),_s(oe)&&nh(V,S,oe),null!=y&&Tf(S,oe,I)}function Fg(t){return Us(function ts(){return $t.lFrame.contextLView}(),22+t)}function ec(t,r,s){const a=mt();return Go(a,Ti(),r)&&function Jo(t,r,s,a,l,d,y,I){const S=pi(r,s);let Q,V=r.inputs;!I&&null!=V&&(Q=V[a])?(qc(t,s,Q,a,l),Kr(r)&&ih(s,r.index)):3&r.type&&(a=function ty(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),l=null!=y?y(l,r.value||"",a):l,d.setProperty(S,a,l))}(_n(),Bn(),a,t,r,a[11],s,!1),ec}function mh(t,r,s,a,l){const y=l?"class":"style";qc(t,s,r.inputs[y],y,a)}function Hf(t,r,s,a){const l=mt(),d=_n(),y=22+t,I=l[11],S=l[y]=Zh(I,r,function qi(){return $t.lFrame.currentNamespace}()),V=d.firstCreatePass?function Wv(t,r,s,a,l,d,y){const I=r.consts,V=Nu(r,t,2,l,Xr(I,d));return jl(r,s,V,Xr(I,y)),null!==V.attrs&&vu(V,V.attrs,!1),null!==V.mergedAttrs&&vu(V,V.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,V),V}(y,d,l,0,r,s,a):d.data[y];Y(V,!0);const Q=V.mergedAttrs;null!==Q&&En(I,S,Q);const oe=V.classes;null!==oe&&Vl(I,S,oe);const Se=V.styles;return null!==Se&&Pd(I,S,Se),64!=(64&V.flags)&&Ll(d,l,S,V),0===function uo(){return $t.lFrame.elementDepthCount}()&&So(S,l),function Qs(){$t.lFrame.elementDepthCount++}(),_s(V)&&(nh(d,l,V),th(d,V,l)),null!==a&&Tf(l,V),Hf}function yh(){let t=F();Ze()?Wt():(t=t.parent,Y(t,!1));const r=t;!function ta(){$t.lFrame.elementDepthCount--}();const s=_n();return s.firstCreatePass&&(Ro(s,t),Ci(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function qt(t){return 0!=(16&t.flags)}(r)&&mh(s,r,mt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function an(t){return 0!=(32&t.flags)}(r)&&mh(s,r,mt(),r.stylesWithoutHost,!1),yh}function Lg(t,r,s,a){return Hf(t,r,s,a),yh(),Lg}function jf(t,r,s){const a=mt(),l=_n(),d=t+22,y=l.firstCreatePass?function yy(t,r,s,a,l){const d=r.consts,y=Xr(d,a),I=Nu(r,t,8,"ng-container",y);return null!==y&&vu(I,y,!0),jl(r,s,I,Xr(d,l)),null!==r.queries&&r.queries.elementStart(r,I),I}(d,l,a,r,s):l.data[d];Y(y,!0);const I=a[d]=a[11].createComment("");return Ll(l,a,I,y),So(I,a),_s(y)&&(nh(l,a,y),th(l,y,a)),null!=s&&Tf(a,y),jf}function Qc(){let t=F();const r=_n();return Ze()?Wt():(t=t.parent,Y(t,!1)),r.firstCreatePass&&(Ro(r,t),Ci(t)&&r.queries.elementEnd(t)),Qc}function Vg(t,r,s){return jf(t,r,s),Qc(),Vg}function vy(){return mt()}function vh(t){return!!t&&"function"==typeof t.then}function _y(t){return!!t&&"function"==typeof t.subscribe}const Ey=_y;function _h(t,r,s,a){const l=mt(),d=_n(),y=F();return function Gf(t,r,s,a,l,d,y,I){const S=_s(a),Q=t.firstCreatePass&&xf(t),oe=r[8],Se=uh(r);let qe=!0;if(3&a.type||I){const Kt=pi(a,r),hn=I?I(Kt):Kt,Pn=Se.length,Ct=I?Di=>I(Sn(Di[a.index])):a.index;let qn=null;if(!I&&S&&(qn=function qv(t,r,s,a){const l=t.cleanup;if(null!=l)for(let d=0;d<l.length-1;d+=2){const y=l[d];if(y===s&&l[d+1]===a){const I=r[7],S=l[d+2];return I.length>S?I[S]:null}"string"==typeof y&&(d+=2)}return null}(t,r,l,a.index)),null!==qn)(qn.__ngLastListenerFn__||qn).__ngNextListenerFn__=d,qn.__ngLastListenerFn__=d,qe=!1;else{d=Wf(a,r,oe,d,!1);const Di=s.listen(hn,l,d);Se.push(d,Di),Q&&Q.push(l,Ct,Pn,Pn+1)}}else d=Wf(a,r,oe,d,!1);const ft=a.outputs;let Pt;if(qe&&null!==ft&&(Pt=ft[l])){const Kt=Pt.length;if(Kt)for(let hn=0;hn<Kt;hn+=2){const ys=r[Pt[hn]][Pt[hn+1]].subscribe(d),td=Se.length;Se.push(d,ys),Q&&Q.push(l,a.index,td,-(td+1))}}}(d,l,l[11],y,t,r,0,a),_h}function zf(t,r,s,a){try{return!1!==s(a)}catch(l){return lh(t,l),!1}}function Wf(t,r,s,a,l){return function d(y){if(y===Function)return a;ah(2&t.flags?ii(t.index,r):r);let S=zf(r,0,a,y),V=d.__ngNextListenerFn__;for(;V;)S=zf(r,0,V,y)&&S,V=V.__ngNextListenerFn__;return l&&!1===S&&(y.preventDefault(),y.returnValue=!1),S}}function qf(t=1){return function Cr(t){return($t.lFrame.contextLView=function mr(t,r){for(;t>0;)r=r[15],t--;return r}(t,$t.lFrame.contextLView))[8]}(t)}function Iy(t,r){let s=null;const a=function km(t){const r=t.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(t);for(let l=0;l<r.length;l++){const d=r[l];if("*"!==d){if(null===a?Kp(t,d,!0):Rc(a,d))return l}else s=l}return s}function Eh(t){const r=mt()[16][6];if(!r.projection){const a=r.projection=Ua(t?t.length:1,null),l=a.slice();let d=r.child;for(;null!==d;){const y=t?Iy(d,t):0;null!==y&&(l[y]?l[y].projectionNext=d:a[y]=d,l[y]=d),d=d.next}}}function Dy(t,r=0,s){const a=mt(),l=_n(),d=Nu(l,22+t,16,null,s||null);null===d.projection&&(d.projection=r),Wt(),64!=(64&d.flags)&&function Rm(t,r,s){xd(r[11],0,r,s,Td(t,s,r),jp(s.parent||r[6],s,r))}(l,a,d)}function Bg(t,r,s,a,l){const d=t[s+1],y=null===r;let I=a?$o(d):za(d),S=!1;for(;0!==I&&(!1===S||y);){const Q=t[I+1];Zv(t[I],r)&&(S=!0,t[I+1]=a?gf(Q):Uc(Q)),I=a?$o(Q):za(Q)}S&&(t[s+1]=a?Uc(d):gf(d))}function Zv(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&O(t,r)>=0}const _o={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function $g(t){return t.substring(_o.key,_o.keyEnd)}function tc(t,r){const s=_o.textEnd;return s===r?-1:(r=_o.keyEnd=function Py(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,_o.key=r,s),nc(t,r,s))}function nc(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function jg(t,r,s){return i(t,r,s,!1),jg}function Gg(t,r){return i(t,r,null,!0),Gg}function Ny(t){!function e(t,r,s,a){const l=_n(),d=$s(2);l.firstUpdatePass&&o(l,null,d,a);const y=mt();if(s!==hr&&Go(y,d,s)){const I=l.data[Xn()];if(oi(I,a)&&!n(l,d)){let S=a?I.classesWithoutHost:I.stylesWithoutHost;null!==S&&(s=Vt(S,s||"")),mh(l,I,y,s,a)}else!function Qe(t,r,s,a,l,d,y,I){l===hr&&(l=Ue);let S=0,V=0,Q=0<l.length?l[0]:null,oe=0<d.length?d[0]:null;for(;null!==Q||null!==oe;){const Se=S<l.length?l[S+1]:void 0,qe=V<d.length?d[V+1]:void 0;let Pt,ft=null;Q===oe?(S+=2,V+=2,Se!==qe&&(ft=oe,Pt=qe)):null===oe||null!==Q&&Q<oe?(S+=2,ft=Q):(V+=2,ft=oe,Pt=qe),null!==ft&&ht(t,r,s,a,ft,Pt,y,I),Q=S<l.length?l[S]:null,oe=V<d.length?d[V]:null}}(l,I,y,y[11],y[d+1],y[d+1]=function te(t,r,s){if(null==s||""===s)return Ue;const a=[],l=Ha(s);if(Array.isArray(l))for(let d=0;d<l.length;d++)t(a,l[d],!0);else if("object"==typeof l)for(const d in l)l.hasOwnProperty(d)&&t(a,d,l[d]);else"string"==typeof l&&r(a,l);return a}(t,r,s),a,d)}}(m,Ka,t,!0)}function Ka(t,r){for(let s=function Qv(t){return function xy(t){_o.key=0,_o.keyEnd=0,_o.value=0,_o.valueEnd=0,_o.textEnd=t.length}(t),tc(t,nc(t,0,_o.textEnd))}(r);s>=0;s=tc(r,s))m(t,$g(r),!0)}function i(t,r,s,a){const l=mt(),d=_n(),y=$s(2);d.firstUpdatePass&&o(d,t,y,a),r!==hr&&Go(l,y,r)&&ht(d,d.data[Xn()],l,l[11],t,l[y+1]=function mn(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=St(Ha(t)))),t}(r,s),a,y)}function n(t,r){return r>=t.expandoStartIndex}function o(t,r,s,a){const l=t.data;if(null===l[s+1]){const d=l[Xn()],y=n(t,s);oi(d,a)&&null===r&&!y&&(r=!1),r=function u(t,r,s,a){const l=function qo(t){const r=$t.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===l)0===(a?r.classBindings:r.styleBindings)&&(s=H(s=L(null,t,r,s,a),r.attrs,a),d=null);else{const y=r.directiveStylingLast;if(-1===y||t[y]!==l)if(s=L(l,t,r,s,a),null===d){let S=function c(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==za(a))return t[$o(a)]}(t,r,a);void 0!==S&&Array.isArray(S)&&(S=L(null,t,r,S[1],a),S=H(S,r.attrs,a),function p(t,r,s,a){t[$o(s?r.classBindings:r.styleBindings)]=a}(t,r,a,S))}else d=function b(t,r,s){let a;const l=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<l;d++)a=H(a,t[d].hostAttrs,s);return H(a,r.attrs,s)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(l,d,r,a),function Kv(t,r,s,a,l,d){let y=d?r.classBindings:r.styleBindings,I=$o(y),S=za(y);t[a]=s;let Q,V=!1;if(Array.isArray(s)){const oe=s;Q=oe[1],(null===Q||O(oe,Q)>0)&&(V=!0)}else Q=s;if(l)if(0!==S){const Se=$o(t[I+1]);t[a+1]=Vc(Se,I),0!==Se&&(t[Se+1]=Bc(t[Se+1],a)),t[I+1]=function jm(t,r){return 131071&t|r<<17}(t[I+1],a)}else t[a+1]=Vc(I,0),0!==I&&(t[I+1]=Bc(t[I+1],a)),I=a;else t[a+1]=Vc(S,0),0===I?I=a:t[S+1]=Bc(t[S+1],a),S=a;V&&(t[a+1]=Uc(t[a+1])),Bg(t,Q,a,!0),Bg(t,Q,a,!1),function Yv(t,r,s,a,l){const d=l?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&O(d,r)>=0&&(s[a+1]=gf(s[a+1]))}(r,Q,t,a,d),y=Vc(I,S),d?r.classBindings=y:r.styleBindings=y}(l,d,r,s,y,a)}}function L(t,r,s,a,l){let d=null;const y=s.directiveEnd;let I=s.directiveStylingLast;for(-1===I?I=s.directiveStart:I++;I<y&&(d=r[I],a=H(a,d.hostAttrs,l),d!==t);)I++;return null!==t&&(s.directiveStylingLast=I),a}function H(t,r,s){const a=s?1:2;let l=-1;if(null!==r)for(let d=0;d<r.length;d++){const y=r[d];"number"==typeof y?l=y:l===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),m(t,y,!!s||r[++d]))}return void 0===t?null:t}function ht(t,r,s,a,l,d,y,I){if(!(3&r.type))return;const S=t.data,V=S[I+1];Jt(function zd(t){return 1==(1&t)}(V)?vt(S,r,s,l,za(V),y):void 0)||(Jt(d)||function og(t){return 2==(2&t)}(V)&&(d=vt(S,null,s,l,I,y)),function Wp(t,r,s,a,l){if(r)l?t.addClass(s,a):t.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:Xa.DashCase;null==l?t.removeStyle(s,a,d):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),d|=Xa.Important),t.setStyle(s,a,l,d))}}(a,y,ds(Xn(),s),l,d))}function vt(t,r,s,a,l,d){const y=null===r;let I;for(;l>0;){const S=t[l],V=Array.isArray(S),Q=V?S[1]:S,oe=null===Q;let Se=s[l+1];Se===hr&&(Se=oe?Ue:void 0);let qe=oe?T(Se,a):Q===a?Se:void 0;if(V&&!Jt(qe)&&(qe=T(S,a)),Jt(qe)&&(I=qe,y))return I;const ft=t[l+1];l=y?$o(ft):za(ft)}if(null!==r){let S=d?r.residualClasses:r.residualStyles;null!=S&&(I=T(S,a))}return I}function Jt(t){return void 0!==t}function oi(t,r){return 0!=(t.flags&(r?16:32))}function Pi(t,r=""){const s=mt(),a=_n(),l=t+22,d=a.firstCreatePass?Nu(a,l,1,r,null):a.data[l],y=s[l]=function Yh(t,r){return t.createText(r)}(s[11],r);Ll(a,s,y,d),Y(d,!1)}function di(t){return Rs("",t,""),di}function Rs(t,r,s){const a=mt(),l=function qa(t,r,s,a){return Go(t,Ti(),s)?r+Ie(s)+a:hr}(a,t,r,s);return l!==hr&&tu(a,Xn(),l),Rs}function Ii(t,r,s,a,l){const d=mt(),y=Fu(d,t,r,s,a,l);return y!==hr&&tu(d,Xn(),y),Ii}const Jc=void 0;var Gw=["en",[["a","p"],["AM","PM"],Jc],[["AM","PM"],Jc,Jc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jc,"{1} 'at' {0}",Jc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function jw(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Ih={};function Oy(t){const r=function zw(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=m_(r);if(s)return s;const a=r.split("-")[0];if(s=m_(a),s)return s;if("en"===a)return Gw;throw new _e(701,!1)}function g_(t){return Oy(t)[Gn.PluralCase]}function m_(t){return t in Ih||(Ih[t]=ln.ng&&ln.ng.common&&ln.ng.common.locales&&ln.ng.common.locales[t]),Ih[t]}var Gn=(()=>((Gn=Gn||{})[Gn.LocaleId=0]="LocaleId",Gn[Gn.DayPeriodsFormat=1]="DayPeriodsFormat",Gn[Gn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Gn[Gn.DaysFormat=3]="DaysFormat",Gn[Gn.DaysStandalone=4]="DaysStandalone",Gn[Gn.MonthsFormat=5]="MonthsFormat",Gn[Gn.MonthsStandalone=6]="MonthsStandalone",Gn[Gn.Eras=7]="Eras",Gn[Gn.FirstDayOfWeek=8]="FirstDayOfWeek",Gn[Gn.WeekendRange=9]="WeekendRange",Gn[Gn.DateFormat=10]="DateFormat",Gn[Gn.TimeFormat=11]="TimeFormat",Gn[Gn.DateTimeFormat=12]="DateTimeFormat",Gn[Gn.NumberSymbols=13]="NumberSymbols",Gn[Gn.NumberFormats=14]="NumberFormats",Gn[Gn.CurrencyCode=15]="CurrencyCode",Gn[Gn.CurrencySymbol=16]="CurrencySymbol",Gn[Gn.CurrencyName=17]="CurrencyName",Gn[Gn.Currencies=18]="Currencies",Gn[Gn.Directionality=19]="Directionality",Gn[Gn.PluralCase=20]="PluralCase",Gn[Gn.ExtraData=21]="ExtraData",Gn))();const Dh="en-US";let y_=Dh;function Ly(t,r,s,a,l){if(t=_t(t),Array.isArray(t))for(let d=0;d<t.length;d++)Ly(t[d],r,s,a,l);else{const d=_n(),y=mt();let I=du(t)?t:_t(t.provide),S=Bo(t);const V=F(),Q=1048575&V.providerIndexes,oe=V.directiveStart,Se=V.providerIndexes>>20;if(du(t)||!t.multi){const qe=new J(S,l,Ru),ft=Uy(I,r,l?Q:Q+Se,oe);-1===ft?(Un(gs(V,y),d,I),Vy(d,t,r.length),r.push(I),V.directiveStart++,V.directiveEnd++,l&&(V.providerIndexes+=1048576),s.push(qe),y.push(qe)):(s[ft]=qe,y[ft]=qe)}else{const qe=Uy(I,r,Q+Se,oe),ft=Uy(I,r,Q,Q+Se),Pt=qe>=0&&s[qe],Kt=ft>=0&&s[ft];if(l&&!Kt||!l&&!Pt){Un(gs(V,y),d,I);const hn=function HI(t,r,s,a,l){const d=new J(t,s,Ru);return d.multi=[],d.index=r,d.componentProviders=0,H_(d,l,a&&!s),d}(l?$I:BI,s.length,l,a,S);!l&&Kt&&(s[ft].providerFactory=hn),Vy(d,t,r.length,0),r.push(I),V.directiveStart++,V.directiveEnd++,l&&(V.providerIndexes+=1048576),s.push(hn),y.push(hn)}else Vy(d,t,qe>-1?qe:ft,H_(s[l?ft:qe],S,!l&&a));!l&&a&&Kt&&s[ft].componentProviders++}}}function Vy(t,r,s,a){const l=du(r),d=function pp(t){return!!t.useClass}(r);if(l||d){const S=(d?_t(r.useClass):r).prototype.ngOnDestroy;if(S){const V=t.destroyHooks||(t.destroyHooks=[]);if(!l&&r.multi){const Q=V.indexOf(s);-1===Q?V.push(s,[a,S]):V[Q+1].push(a,S)}else V.push(s,S)}}}function H_(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function Uy(t,r,s,a){for(let l=s;l<a;l++)if(r[l]===t)return l;return-1}function BI(t,r,s,a){return By(this.multi,[])}function $I(t,r,s,a){const l=this.multi;let d;if(this.providerFactory){const y=this.providerFactory.componentProviders,I=Si(s,s[1],this.providerFactory.index,a);d=I.slice(0,y),By(l,d);for(let S=y;S<I.length;S++)d.push(I[S])}else d=[],By(l,d);return d}function By(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function j_(t,r=[]){return s=>{s.providersResolver=(a,l)=>function UI(t,r,s){const a=_n();if(a.firstCreatePass){const l=mi(t);Ly(s,a.data,a.blueprint,l,!0),Ly(r,a.data,a.blueprint,l,!1)}}(a,l?l(t):t,r)}}class bh{}class G_{}function jI(t,r){return new z_(t,r??null)}class z_ extends bh{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Pf(this);const a=wt(r);this._bootstrapComponents=ga(a.bootstrap),this._r3Injector=Bd(r,s,[{provide:bh,useValue:this},{provide:vc,useValue:this.componentFactoryResolver}],St(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class $y extends G_{constructor(r){super(),this.moduleType=r}create(r){return new z_(this.moduleType,r)}}class GI extends bh{constructor(r,s,a){super(),this.componentFactoryResolver=new Pf(this),this.instance=null;const l=new gp([...r,{provide:bh,useValue:this},{provide:vc,useValue:this.componentFactoryResolver}],s||hu(),a,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Hy(t,r,s=null){return new GI(t,r,s).injector}let zI=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=Rh(0,s.type),l=a.length>0?Hy([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,l)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=vr({token:t,providedIn:"environment",factory:()=>new t(Bi(Na))}),t})();function W_(t){t.getStandaloneInjector=r=>r.get(zI).getOrCreateStandaloneInjector(t)}function J_(t,r,s){const a=gi()+t,l=mt();return l[a]===hr?Wa(l,a,s?r.call(s):r()):hl(l,a)}function eE(t,r,s,a){return oE(mt(),gi(),t,r,s,a)}function tE(t,r,s,a,l){return function aE(t,r,s,a,l,d,y){const I=r+s;return fl(t,I,l,d)?Wa(t,I+2,y?a.call(y,l,d):a(l,d)):ep(t,I+2)}(mt(),gi(),t,r,s,a,l)}function nE(t,r,s,a,l,d){return function uE(t,r,s,a,l,d,y,I){const S=r+s;return function Zc(t,r,s,a,l){const d=fl(t,r,s,a);return Go(t,r+2,l)||d}(t,S,l,d,y)?Wa(t,S+3,I?a.call(I,l,d,y):a(l,d,y)):ep(t,S+3)}(mt(),gi(),t,r,s,a,l,d)}function rE(t,r,s,a,l,d,y){return function lE(t,r,s,a,l,d,y,I,S){const V=r+s;return wa(t,V,l,d,y,I)?Wa(t,V+4,S?a.call(S,l,d,y,I):a(l,d,y,I)):ep(t,V+4)}(mt(),gi(),t,r,s,a,l,d,y)}function iE(t,r,s,a,l,d,y,I,S){const V=gi()+t,Q=mt(),oe=wa(Q,V,s,a,l,d);return fl(Q,V+4,y,I)||oe?Wa(Q,V+6,S?r.call(S,s,a,l,d,y,I):r(s,a,l,d,y,I)):hl(Q,V+6)}function sE(t,r,s,a){return function cE(t,r,s,a,l,d){let y=r+s,I=!1;for(let S=0;S<l.length;S++)Go(t,y++,l[S])&&(I=!0);return I?Wa(t,y,a.apply(d,l)):ep(t,y)}(mt(),gi(),t,r,s,a)}function ep(t,r){const s=t[r];return s===hr?void 0:s}function oE(t,r,s,a,l,d){const y=r+s;return Go(t,y,l)?Wa(t,y+1,d?a.call(d,l):a(l)):ep(t,y+1)}function dE(t,r){const s=_n();let a;const l=t+22;s.firstCreatePass?(a=function r0(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[l]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(l,a.onDestroy)):a=s.data[l];const d=a.factory||(a.factory=Fs(a.type)),y=pn(Ru);try{const I=rr(!1),S=d();return rr(I),function $f(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,mt(),l,S),S}finally{pn(y)}}function hE(t,r,s){const a=t+22,l=mt(),d=Us(l,a);return function tp(t,r){return t[1].data[r].pure}(l,a)?oE(l,gi(),r,d.transform,s,d):d.transform(s)}function Gy(t){return r=>{setTimeout(t,void 0,r)}}const $u=class l0 extends f.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let l=r,d=s||(()=>null),y=a;if(r&&"object"==typeof r){const S=r;l=S.next?.bind(S),d=S.error?.bind(S),y=S.complete?.bind(S)}this.__isAsync&&(d=Gy(d),l&&(l=Gy(l)),y&&(y=Gy(y)));const I=super.subscribe({next:l,error:d,complete:y});return r instanceof j.w0&&r.add(I),I}};function c0(){return this._results[Kl()]()}class zy{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Kl(),a=zy.prototype;a[s]||(a[s]=c0)}get changes(){return this._changes||(this._changes=new $u)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const l=wi(r);(this._changesDetected=!function Va(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let l=t[a],d=r[a];if(s&&(l=s(l),d=s(d)),d!==l)return!1}return!0}(a._results,l,s))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let np=(()=>{class t{}return t.__NG_ELEMENT_ID__=f0,t})();const d0=np,h0=class extends d0{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,l=eh(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);l[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(l[19]=y.createEmbeddedView(a)),bf(a,l,r),new Kc(l)}};function f0(){return Yg(F(),mt())}function Yg(t,r){return 4&t.type?new h0(r,t,Ml(t,r)):null}let Zg=(()=>{class t{}return t.__NG_ELEMENT_ID__=p0,t})();function p0(){return gE(F(),mt())}const g0=Zg,fE=class extends g0{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Ml(this._hostTNode,this._hostLView)}get injector(){return new Ts(this._hostTNode,this._hostLView)}get parentInjector(){const r=wn(this._hostTNode,this._hostLView);if(cr(r)){const s=_i(r,this._hostLView),a=li(r);return new Ts(s[1].data[a+8],s)}return new Ts(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=pE(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let l,d;"number"==typeof a?l=a:null!=a&&(l=a.index,d=a.injector);const y=r.createEmbeddedView(s||{},d);return this.insert(y,l),y}createComponent(r,s,a,l,d){const y=r&&!function la(t){return"function"==typeof t}(r);let I;if(y)I=s;else{const oe=s||{};I=oe.index,a=oe.injector,l=oe.projectableNodes,d=oe.environmentInjector||oe.ngModuleRef}const S=y?r:new Yc(se(r)),V=a||this.parentInjector;if(!d&&null==S.ngModule){const Se=(y?V:this.parentInjector).get(Na,null);Se&&(d=Se)}const Q=S.create(V,l,void 0,d);return this.insert(Q.hostView,I),Q}insert(r,s){const a=r._lView,l=a[1];if(function yi(t){return Qn(t[3])}(a)){const Q=this.indexOf(r);if(-1!==Q)this.detach(Q);else{const oe=a[3],Se=new fE(oe,oe[6],oe[3]);Se.detach(Se.indexOf(r))}}const d=this._adjustIndex(s),y=this._lContainer;!function Pm(t,r,s,a){const l=10+a,d=s.length;a>0&&(s[l-1][4]=r),a<d-10?(r[4]=s[l],Sa(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const y=r[17];null!==y&&s!==y&&function Id(t,r){const s=t[9];r[16]!==r[3][3][16]&&(t[2]=!0),null===s?t[9]=[r]:s.push(r)}(y,r);const I=r[19];null!==I&&I.insertView(t),r[2]|=64}(l,a,y,d);const I=Md(d,y),S=a[11],V=Ad(S,y[7]);return null!==V&&function Mm(t,r,s,a,l,d){a[0]=l,a[6]=r,ol(t,a,s,1,l,d)}(l,y[6],S,a,V,I),r.attachToViewContainerRef(),Sa(Wy(y),d,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=pE(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Dd(this._lContainer,s);a&&(ca(Wy(this._lContainer),s),bd(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=Dd(this._lContainer,s);return a&&null!=ca(Wy(this._lContainer),s)?new Kc(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function pE(t){return t[8]}function Wy(t){return t[8]||(t[8]=[])}function gE(t,r){let s;const a=r[t.index];if(Qn(a))s=a;else{let l;if(8&t.type)l=Sn(a);else{const d=r[11];l=d.createComment("");const y=pi(t,r);xu(d,Ad(d,y),l,function Hp(t,r){return t.nextSibling(r)}(d,y),!1)}r[t.index]=s=oy(a,r,l,t),zl(r,s)}return new fE(s,t,r)}class qy{constructor(r){this.queryList=r,this.matches=null}clone(){return new qy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ky{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,l=[];for(let d=0;d<a;d++){const y=s.getByIndex(d);l.push(this.queries[y.indexInDeclarationView].clone())}return new Ky(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==bE(r,s).matches&&this.queries[s].setDirty()}}class mE{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class Yy{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const l=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,l);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new Yy(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Zy{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new Zy(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const d=a[l];this.matchTNodeWithReadOption(r,s,v0(s,d)),this.matchTNodeWithReadOption(r,s,Ko(s,r,d,!1,!1))}else a===np?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Ko(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===_c||l===Zg||l===np&&4&s.type)this.addMatch(s.index,-2);else{const d=Ko(s,r,l,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function v0(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function E0(t,r,s,a){return-1===s?function _0(t,r){return 11&t.type?Ml(t,r):4&t.type?Yg(t,r):null}(r,t):-2===s?function w0(t,r,s){return s===_c?Ml(r,t):s===np?Yg(r,t):s===Zg?gE(r,t):void 0}(t,r,a):Si(t,t[1],s,r)}function yE(t,r,s,a){const l=r[19].queries[a];if(null===l.matches){const d=t.data,y=s.matches,I=[];for(let S=0;S<y.length;S+=2){const V=y[S];I.push(V<0?null:E0(r,d[V],y[S+1],s.metadata.read))}l.matches=I}return l.matches}function Qy(t,r,s,a){const l=t.queries.getByIndex(s),d=l.matches;if(null!==d){const y=yE(t,r,l,s);for(let I=0;I<d.length;I+=2){const S=d[I];if(S>0)a.push(y[I/2]);else{const V=d[I+1],Q=r[-S];for(let oe=10;oe<Q.length;oe++){const Se=Q[oe];Se[17]===Se[3]&&Qy(Se[1],Se,V,a)}if(null!==Q[9]){const oe=Q[9];for(let Se=0;Se<oe.length;Se++){const qe=oe[Se];Qy(qe[1],qe,V,a)}}}}}return a}function vE(t){const r=mt(),s=_n(),a=A();$(a+1);const l=bE(s,a);if(t.dirty&&function Po(t){return 4==(4&t[2])}(r)===(2==(2&l.metadata.flags))){if(null===l.matches)t.reset([]);else{const d=l.crossesNgTemplate?Qy(s,r,a,[]):yE(s,r,l,a);t.reset(d,pm),t.notifyOnChanges()}return!0}return!1}function _E(t,r,s){const a=_n();a.firstCreatePass&&(DE(a,new mE(t,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),IE(a,mt(),r)}function EE(t,r,s,a){const l=_n();if(l.firstCreatePass){const d=F();DE(l,new mE(r,s,a),d.index),function D0(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(l,t),2==(2&s)&&(l.staticContentQueries=!0)}IE(l,mt(),s)}function wE(){return function I0(t,r){return t[19].queries[r].queryList}(mt(),A())}function IE(t,r,s){const a=new zy(4==(4&s));rh(t,r,a,a.destroy),null===r[19]&&(r[19]=new Ky),r[19].queries.push(new qy(a))}function DE(t,r,s){null===t.queries&&(t.queries=new Yy),t.queries.track(new Zy(r,s))}function bE(t,r){return t.queries.getByIndex(r)}function Xg(...t){}const jE=new Rn("Application Initializer");let Jg=(()=>{class t{constructor(s){this.appInits=s,this.resolve=Xg,this.reject=Xg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const d=this.appInits[l]();if(vh(d))s.push(d);else if(Ey(d)){const y=new Promise((I,S)=>{d.subscribe({complete:I,error:S})});s.push(y)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(Bi(jE,8))},t.\u0275prov=vr({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const GE=new Rn("AppId",{providedIn:"root",factory:function zE(){return`${nv()}${nv()}${nv()}`}});function nv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const WE=new Rn("Platform Initializer"),G0=new Rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),qE=new Rn("appBootstrapListener"),z0=new Rn("AnimationModuleType");let W0=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=vr({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const em=new Rn("LocaleId",{providedIn:"root",factory:()=>P(em,xt.Optional|xt.SkipSelf)||function q0(){return typeof $localize<"u"&&$localize.locale||Dh}()}),K0=new Rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Y0{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let Z0=(()=>{class t{compileModuleSync(s){return new $y(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=ga(wt(s).declarations).reduce((y,I)=>{const S=se(I);return S&&y.push(new Yc(S)),y},[]);return new Y0(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=vr({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const J0=(()=>Promise.resolve(0))();function rv(t){typeof Zone>"u"?J0.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ru{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $u(!1),this.onMicrotaskEmpty=new $u(!1),this.onStable=new $u(!1),this.onError=new $u(!1),typeof Zone>"u")throw new _e(908,!1);Zone.assertZonePatched();const l=this;if(l._nesting=0,l._outer=l._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const d=Zone.AsyncStackTaggingZoneSpec;l._inner=l._inner.fork(new d("Angular"))}Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function eD(){let t=ln.requestAnimationFrame,r=ln.cancelAnimationFrame;if(typeof Zone<"u"&&t&&r){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function rD(t){const r=()=>{!function nD(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ln,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,sv(t),t.isCheckStableRunning=!0,iv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),sv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,d,y,I)=>{try{return ZE(t),s.invokeTask(l,d,y,I)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),QE(t)}},onInvoke:(s,a,l,d,y,I,S)=>{try{return ZE(t),s.invoke(l,d,y,I,S)}finally{t.shouldCoalesceRunChangeDetection&&r(),QE(t)}},onHasTask:(s,a,l,d)=>{s.hasTask(l,d),a===l&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,sv(t),iv(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,l,d)=>(s.handleError(l,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ru.isInAngularZone())throw new _e(909,!1)}static assertNotInAngularZone(){if(ru.isInAngularZone())throw new _e(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,l){const d=this._inner,y=d.scheduleEventTask("NgZoneEvent: "+l,r,tD,Xg,Xg);try{return d.runTask(y,s,a)}finally{d.cancelTask(y)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const tD={};function iv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ZE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function QE(t){t._nesting--,iv(t)}class iD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $u,this.onMicrotaskEmpty=new $u,this.onStable=new $u,this.onError=new $u}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,l){return r.apply(s,a)}}const XE=new Rn(""),JE=new Rn("");let ov,sD=(()=>{class t{constructor(s,a,l){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ov||(function oD(t){ov=t}(l),l.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ru.assertNotInAngularZone(),rv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())rv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,l){return[]}}return t.\u0275fac=function(s){return new(s||t)(Bi(ru),Bi(ew),Bi(JE))},t.\u0275prov=vr({token:t,factory:t.\u0275fac}),t})(),ew=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return ov?.findTestabilityInTree(this,s,a)??null}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=vr({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),ic=null;const tw=new Rn("AllowMultipleToken"),av=new Rn("PlatformDestroyListeners");class lD{constructor(r,s){this.name=r,this.token=s}}function rw(t,r,s=[]){const a=`Platform: ${r}`,l=new Rn(a);return(d=[])=>{let y=uv();if(!y||y.injector.get(tw,!1)){const I=[...s,...d,{provide:l,useValue:!0}];t?t(I):function cD(t){if(ic&&!ic.get(tw,!1))throw new _e(400,!1);ic=t;const r=t.get(sw);(function nw(t){const r=t.get(WE,null);r&&r.forEach(s=>s())})(t)}(function iw(t=[],r){return gu.create({name:r,providers:[{provide:Fh,useValue:"platform"},{provide:av,useValue:new Set([()=>ic=null])},...t]})}(I,a))}return function hD(t){const r=uv();if(!r)throw new _e(401,!1);return r}()}}function uv(){return ic?.get(sw)??null}let sw=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const l=function aw(t,r){let s;return s="noop"===t?new iD:("zone.js"===t?void 0:t)||new ru(r),s}(a?.ngZone,function ow(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(a)),d=[{provide:ru,useValue:l}];return l.run(()=>{const y=gu.create({providers:d,parent:this.injector,name:s.moduleType.name}),I=s.create(y),S=I.injector.get(Ic,null);if(!S)throw new _e(402,!1);return l.runOutsideAngular(()=>{const V=l.onError.subscribe({next:Q=>{S.handleError(Q)}});I.onDestroy(()=>{nm(this._modules,I),V.unsubscribe()})}),function uw(t,r,s){try{const a=s();return vh(a)?a.catch(l=>{throw r.runOutsideAngular(()=>t.handleError(l)),l}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(S,l,()=>{const V=I.injector.get(Jg);return V.runInitializers(),V.donePromise.then(()=>(function v_(t){Cn(t,"Expected localeId to be defined"),"string"==typeof t&&(y_=t.toLowerCase().replace(/_/g,"-"))}(I.injector.get(em,Dh)||Dh),this._moduleDoBootstrap(I),I))})})}bootstrapModule(s,a=[]){const l=lw({},a);return function aD(t,r,s){const a=new $y(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,l))}_moduleDoBootstrap(s){const a=s.injector.get(tm);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new _e(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _e(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(av,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(Bi(gu))},t.\u0275prov=vr({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function lw(t,r){return Array.isArray(r)?r.reduce(lw,t):{...t,...r}}let tm=(()=>{class t{constructor(s,a,l){this._zone=s,this._injector=a,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const d=new be.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),y=new be.y(I=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{ru.assertNotInAngularZone(),rv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const V=this._zone.onUnstable.subscribe(()=>{ru.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{S.unsubscribe(),V.unsubscribe()}});this.isStable=function Ne(...t){const r=(0,ie.yG)(t),s=(0,ie._6)(t,1/0),a=t;return a.length?1===a.length?(0,z.Xf)(a[0]):(0,me.J)(s)((0,he.D)(a,r)):de.E}(d,y.pipe(function Oe(t={}){const{connector:r=(()=>new f.x),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:l=!0}=t;return d=>{let y,I,S,V=0,Q=!1,oe=!1;const Se=()=>{I?.unsubscribe(),I=void 0},qe=()=>{Se(),y=S=void 0,Q=oe=!1},ft=()=>{const Pt=y;qe(),Pt?.unsubscribe()};return(0,ue.e)((Pt,Kt)=>{V++,!oe&&!Q&&Se();const hn=S=S??r();Kt.add(()=>{V--,0===V&&!oe&&!Q&&(I=tt(ft,l))}),hn.subscribe(Kt),!y&&V>0&&(y=new ne.Hp({next:Pn=>hn.next(Pn),error:Pn=>{oe=!0,Se(),I=tt(qe,s,Pn),hn.error(Pn)},complete:()=>{Q=!0,Se(),I=tt(qe,a),hn.complete()}}),(0,z.Xf)(Pt).subscribe(y))})(d)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const l=s instanceof _p;if(!this._injector.get(Jg).done)throw!l&&nt(s),new _e(405,false);let y;y=l?s:this._injector.get(vc).resolveComponentFactory(s),this.componentTypes.push(y.componentType);const I=function uD(t){return t.isBoundToModule}(y)?void 0:this._injector.get(bh),V=y.create(gu.NULL,[],a||y.selector,I),Q=V.location.nativeElement,oe=V.injector.get(XE,null);return oe?.registerApplication(Q),V.onDestroy(()=>{this.detachView(V.hostView),nm(this.components,V),oe?.unregisterApplication(Q)}),this._loadComponent(V),V}tick(){if(this._runningTick)throw new _e(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;nm(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(qE,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>nm(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new _e(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(s){return new(s||t)(Bi(ru),Bi(Na),Bi(Ic))},t.\u0275prov=vr({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function nm(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}let dw=!0;function pD(){dw=!1}let gD=(()=>{class t{}return t.__NG_ELEMENT_ID__=mD,t})();function mD(t){return function yD(t,r,s){if(Kr(t)&&!s){const a=ii(t.index,r);return new Kc(a,a)}return 47&t.type?new Kc(r[16],r):null}(F(),mt(),16==(16&t))}class mw{constructor(){}supports(r){return dh(r)}create(r){return new DD(r)}}const ID=(t,r)=>r;class DD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||ID}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,l=0,d=null;for(;s||a;){const y=!a||s&&s.currentIndex<vw(a,l,d)?s:a,I=vw(y,l,d),S=y.currentIndex;if(y===a)l--,a=a._nextRemoved;else if(s=s._next,null==y.previousIndex)l++;else{d||(d=[]);const V=I-l,Q=S-l;if(V!=Q){for(let Se=0;Se<V;Se++){const qe=Se<d.length?d[Se]:d[Se]=0,ft=qe+Se;Q<=ft&&ft<V&&(d[Se]=qe+1)}d[y.previousIndex]=Q-V}}I!==S&&r(y,I,S)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!dh(r))throw new _e(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,d,y,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let I=0;I<this.length;I++)d=r[I],y=this._trackByFn(I,d),null!==s&&Object.is(s.trackById,y)?(a&&(s=this._verifyReinsertion(s,d,y,I)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,y,I),a=!0),s=s._next}else l=0,function dl(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Kl()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,I=>{y=this._trackByFn(l,I),null!==s&&Object.is(s.trackById,y)?(a&&(s=this._verifyReinsertion(s,I,y,l)),Object.is(s.item,I)||this._addIdentityChange(s,I)):(s=this._mismatch(s,I,y,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,l){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,l)):r=this._addAfter(new bD(s,a),d,l),r}_verifyReinsertion(r,s,a,l){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,d=r._nextRemoved;return null===l?this._removalsHead=d:l._nextRemoved=d,null===d?this._removalsTail=l:d._prevRemoved=l,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const l=null===s?this._itHead:s._next;return r._next=l,r._prev=s,null===l?this._itTail=r:l._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new yw),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new yw),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class bD{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class yw{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new CD,this.map.set(s,a)),a.add(r)}get(r,s){const l=this.map.get(r);return l?l.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vw(t,r,s){const a=t.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+r+l}class _w{constructor(){}supports(r){return r instanceof Map||ku(r)}create(){return new TD}}class TD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||ku(r)))throw new _e(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,s);const d=l._prev,y=l._next;return d&&(d._next=y),y&&(y._prev=d),l._next=null,l._prev=null,l}const a=new SD(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class SD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ew(){return new fv([new mw])}let fv=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||Ew()),deps:[[t,new jn,new Ut]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new _e(901,!1)}}return t.\u0275prov=vr({token:t,providedIn:"root",factory:Ew}),t})();function ww(){return new pv([new _w])}let pv=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||ww()),deps:[[t,new jn,new Ut]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(a)return a;throw new _e(901,!1)}}return t.\u0275prov=vr({token:t,providedIn:"root",factory:ww}),t})();const xD=rw(null,"core",[]);let PD=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(Bi(tm))},t.\u0275mod=Ln({type:t}),t.\u0275inj=wr({}),t})();function RD(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}},433:(fn,ut,X)=>{X.d(ut,{Fj:()=>ce,u:()=>Fs,sg:()=>Fi,u5:()=>uo,JU:()=>pt,JJ:()=>Mr,JL:()=>xt,On:()=>Os,j3:()=>_n,UX:()=>Qs,kI:()=>Ce,_Y:()=>to});var f=X(8256),j=X(6895),be=X(8996),me=X(9751),z=X(4742),de=X(8421),ie=X(7669),he=X(5403),Ne=X(3268),ne=X(1810),Oe=X(4004);let tt=(()=>{class F{constructor(x,Y){this._renderer=x,this._elementRef=Y,this.onChange=Ze=>{},this.onTouched=()=>{}}setProperty(x,Y){this._renderer.setProperty(this._elementRef.nativeElement,x,Y)}registerOnTouched(x){this.onTouched=x}registerOnChange(x){this.onChange=x}setDisabledState(x){this.setProperty("disabled",x)}}return F.\u0275fac=function(x){return new(x||F)(f.Y36(f.Qsj),f.Y36(f.SBq))},F.\u0275dir=f.lG2({type:F}),F})(),Be=(()=>{class F extends tt{}return F.\u0275fac=function(){let k;return function(Y){return(k||(k=f.n5z(F)))(Y||F)}}(),F.\u0275dir=f.lG2({type:F,features:[f.qOj]}),F})();const pt=new f.OlP("NgValueAccessor"),kt={provide:pt,useExisting:(0,f.Gpc)(()=>ce),multi:!0},_t=new f.OlP("CompositionEventMode");let ce=(()=>{class F extends tt{constructor(x,Y,Ze){super(x,Y),this._compositionMode=Ze,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ft(){const F=(0,j.q)()?(0,j.q)().getUserAgent():"";return/android (\d+)/.test(F.toLowerCase())}())}writeValue(x){this.setProperty("value",x??"")}_handleInput(x){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(x)}_compositionStart(){this._composing=!0}_compositionEnd(x){this._composing=!1,this._compositionMode&&this.onChange(x)}}return F.\u0275fac=function(x){return new(x||F)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(_t,8))},F.\u0275dir=f.lG2({type:F,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(x,Y){1&x&&f.NdJ("input",function(Wt){return Y._handleInput(Wt.target.value)})("blur",function(){return Y.onTouched()})("compositionstart",function(){return Y._compositionStart()})("compositionend",function(Wt){return Y._compositionEnd(Wt.target.value)})},features:[f._Bn([kt]),f.qOj]}),F})();function _e(F){return null==F||("string"==typeof F||Array.isArray(F))&&0===F.length}function lt(F){return null!=F&&"number"==typeof F.length}const Ie=new f.OlP("NgValidators"),Re=new f.OlP("NgAsyncValidators"),st=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ce{static min(k){return function Pe(F){return k=>{if(_e(k.value)||_e(F))return null;const x=parseFloat(k.value);return!isNaN(x)&&x<F?{min:{min:F,actual:k.value}}:null}}(k)}static max(k){return function Ye(F){return k=>{if(_e(k.value)||_e(F))return null;const x=parseFloat(k.value);return!isNaN(x)&&x>F?{max:{max:F,actual:k.value}}:null}}(k)}static required(k){return function Fe(F){return _e(F.value)?{required:!0}:null}(k)}static requiredTrue(k){return function je(F){return!0===F.value?null:{required:!0}}(k)}static email(k){return function He(F){return _e(F.value)||st.test(F.value)?null:{email:!0}}(k)}static minLength(k){return function Ae(F){return k=>_e(k.value)||!lt(k.value)?null:k.value.length<F?{minlength:{requiredLength:F,actualLength:k.value.length}}:null}(k)}static maxLength(k){return function ot(F){return k=>lt(k.value)&&k.value.length>F?{maxlength:{requiredLength:F,actualLength:k.value.length}}:null}(k)}static pattern(k){return function At(F){if(!F)return Rt;let k,x;return"string"==typeof F?(x="","^"!==F.charAt(0)&&(x+="^"),x+=F,"$"!==F.charAt(F.length-1)&&(x+="$"),k=new RegExp(x)):(x=F.toString(),k=F),Y=>{if(_e(Y.value))return null;const Ze=Y.value;return k.test(Ze)?null:{pattern:{requiredPattern:x,actualValue:Ze}}}}(k)}static nullValidator(k){return null}static compose(k){return Cn(k)}static composeAsync(k){return qr(k)}}function Rt(F){return null}function en(F){return null!=F}function bn(F){return(0,f.QGY)(F)?(0,be.D)(F):F}function nn(F){let k={};return F.forEach(x=>{k=null!=x?{...k,...x}:k}),0===Object.keys(k).length?null:k}function Wn(F,k){return k.map(x=>x(F))}function dn(F){return F.map(k=>function yn(F){return!F.validate}(k)?k:x=>k.validate(x))}function Cn(F){if(!F)return null;const k=F.filter(en);return 0==k.length?null:function(x){return nn(Wn(x,k))}}function cn(F){return null!=F?Cn(dn(F)):null}function qr(F){if(!F)return null;const k=F.filter(en);return 0==k.length?null:function(x){return function ue(...F){const k=(0,ie.jO)(F),{args:x,keys:Y}=(0,z.D)(F),Ze=new me.y(Wt=>{const{length:zr}=x;if(!zr)return void Wt.complete();const ts=new Array(zr);let Bs=zr,us=zr;for(let gi=0;gi<zr;gi++){let vi=!1;(0,de.Xf)(x[gi]).subscribe((0,he.x)(Wt,Xs=>{vi||(vi=!0,us--),ts[gi]=Xs},()=>Bs--,void 0,()=>{(!Bs||!vi)&&(us||Wt.next(Y?(0,ne.n)(Y,ts):ts),Wt.complete())}))}});return k?Ze.pipe((0,Ne.Z)(k)):Ze}(Wn(x,k).map(bn)).pipe((0,Oe.U)(nn))}}function or(F){return null!=F?qr(dn(F)):null}function kr(F,k){return null===F?[k]:Array.isArray(F)?[...F,k]:[F,k]}function vr(F){return F._rawValidators}function ei(F){return F._rawAsyncValidators}function wr(F){return F?Array.isArray(F)?F:[F]:[]}function Rr(F,k){return Array.isArray(F)?F.includes(k):F===k}function ar(F,k){const x=wr(k);return wr(F).forEach(Ze=>{Rr(x,Ze)||x.push(Ze)}),x}function Gt(F,k){return wr(k).filter(x=>!Rr(F,x))}class Kn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(k){this._rawValidators=k||[],this._composedValidatorFn=cn(this._rawValidators)}_setAsyncValidators(k){this._rawAsyncValidators=k||[],this._composedAsyncValidatorFn=or(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(k){this._onDestroyCallbacks.push(k)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(k=>k()),this._onDestroyCallbacks=[]}reset(k){this.control&&this.control.reset(k)}hasError(k,x){return!!this.control&&this.control.hasError(k,x)}getError(k,x){return this.control?this.control.getError(k,x):null}}class Ar extends Kn{get formDirective(){return null}get path(){return null}}class br extends Kn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class fr{constructor(k){this._cd=k}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Mr=(()=>{class F extends fr{constructor(x){super(x)}}return F.\u0275fac=function(x){return new(x||F)(f.Y36(br,2))},F.\u0275dir=f.lG2({type:F,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(x,Y){2&x&&f.ekj("ng-untouched",Y.isUntouched)("ng-touched",Y.isTouched)("ng-pristine",Y.isPristine)("ng-dirty",Y.isDirty)("ng-valid",Y.isValid)("ng-invalid",Y.isInvalid)("ng-pending",Y.isPending)},features:[f.qOj]}),F})(),xt=(()=>{class F extends fr{constructor(x){super(x)}}return F.\u0275fac=function(x){return new(x||F)(f.Y36(Ar,10))},F.\u0275dir=f.lG2({type:F,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(x,Y){2&x&&f.ekj("ng-untouched",Y.isUntouched)("ng-touched",Y.isTouched)("ng-pristine",Y.isPristine)("ng-dirty",Y.isDirty)("ng-valid",Y.isValid)("ng-invalid",Y.isInvalid)("ng-pending",Y.isPending)("ng-submitted",Y.isSubmitted)},features:[f.qOj]}),F})();const Tn="VALID",ye="INVALID",pe="PENDING",Te="DISABLED";function it(F){return(Ln(F)?F.validators:F)||null}function Ke(F){return Array.isArray(F)?cn(F):F||null}function Lt(F,k){return(Ln(k)?k.asyncValidators:F)||null}function on(F){return Array.isArray(F)?or(F):F||null}function Ln(F){return null!=F&&!Array.isArray(F)&&"object"==typeof F}function Fr(F,k,x){const Y=F.controls;if(!(k?Object.keys(Y):Y).length)throw new f.vHH(1e3,"");if(!Y[x])throw new f.vHH(1001,"")}function zn(F,k,x){F._forEachChild((Y,Ze)=>{if(void 0===x[Ze])throw new f.vHH(1002,"")})}class Ve{constructor(k,x){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=k,this._rawAsyncValidators=x,this._composedValidatorFn=Ke(this._rawValidators),this._composedAsyncValidatorFn=on(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(k){this._rawValidators=this._composedValidatorFn=k}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(k){this._rawAsyncValidators=this._composedAsyncValidatorFn=k}get parent(){return this._parent}get valid(){return this.status===Tn}get invalid(){return this.status===ye}get pending(){return this.status==pe}get disabled(){return this.status===Te}get enabled(){return this.status!==Te}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(k){this._rawValidators=k,this._composedValidatorFn=Ke(k)}setAsyncValidators(k){this._rawAsyncValidators=k,this._composedAsyncValidatorFn=on(k)}addValidators(k){this.setValidators(ar(k,this._rawValidators))}addAsyncValidators(k){this.setAsyncValidators(ar(k,this._rawAsyncValidators))}removeValidators(k){this.setValidators(Gt(k,this._rawValidators))}removeAsyncValidators(k){this.setAsyncValidators(Gt(k,this._rawAsyncValidators))}hasValidator(k){return Rr(this._rawValidators,k)}hasAsyncValidator(k){return Rr(this._rawAsyncValidators,k)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(k={}){this.touched=!0,this._parent&&!k.onlySelf&&this._parent.markAsTouched(k)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(k=>k.markAllAsTouched())}markAsUntouched(k={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(x=>{x.markAsUntouched({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}markAsDirty(k={}){this.pristine=!1,this._parent&&!k.onlySelf&&this._parent.markAsDirty(k)}markAsPristine(k={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(x=>{x.markAsPristine({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}markAsPending(k={}){this.status=pe,!1!==k.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!k.onlySelf&&this._parent.markAsPending(k)}disable(k={}){const x=this._parentMarkedDirty(k.onlySelf);this.status=Te,this.errors=null,this._forEachChild(Y=>{Y.disable({...k,onlySelf:!0})}),this._updateValue(),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...k,skipPristineCheck:x}),this._onDisabledChange.forEach(Y=>Y(!0))}enable(k={}){const x=this._parentMarkedDirty(k.onlySelf);this.status=Tn,this._forEachChild(Y=>{Y.enable({...k,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent}),this._updateAncestors({...k,skipPristineCheck:x}),this._onDisabledChange.forEach(Y=>Y(!1))}_updateAncestors(k){this._parent&&!k.onlySelf&&(this._parent.updateValueAndValidity(k),k.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(k){this._parent=k}getRawValue(){return this.value}updateValueAndValidity(k={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tn||this.status===pe)&&this._runAsyncValidator(k.emitEvent)),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!k.onlySelf&&this._parent.updateValueAndValidity(k)}_updateTreeValidity(k={emitEvent:!0}){this._forEachChild(x=>x._updateTreeValidity(k)),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Te:Tn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(k){if(this.asyncValidator){this.status=pe,this._hasOwnPendingAsyncValidator=!0;const x=bn(this.asyncValidator(this));this._asyncValidationSubscription=x.subscribe(Y=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Y,{emitEvent:k})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(k,x={}){this.errors=k,this._updateControlsErrors(!1!==x.emitEvent)}get(k){let x=k;return null==x||(Array.isArray(x)||(x=x.split(".")),0===x.length)?null:x.reduce((Y,Ze)=>Y&&Y._find(Ze),this)}getError(k,x){const Y=x?this.get(x):this;return Y&&Y.errors?Y.errors[k]:null}hasError(k,x){return!!this.getError(k,x)}get root(){let k=this;for(;k._parent;)k=k._parent;return k}_updateControlsErrors(k){this.status=this._calculateStatus(),k&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(k)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?Te:this.errors?ye:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pe)?pe:this._anyControlsHaveStatus(ye)?ye:Tn}_anyControlsHaveStatus(k){return this._anyControls(x=>x.status===k)}_anyControlsDirty(){return this._anyControls(k=>k.dirty)}_anyControlsTouched(){return this._anyControls(k=>k.touched)}_updatePristine(k={}){this.pristine=!this._anyControlsDirty(),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}_updateTouched(k={}){this.touched=this._anyControlsTouched(),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}_registerOnCollectionChange(k){this._onCollectionChange=k}_setUpdateStrategy(k){Ln(k)&&null!=k.updateOn&&(this._updateOn=k.updateOn)}_parentMarkedDirty(k){return!k&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(k){return null}}class ve extends Ve{constructor(k,x,Y){super(it(x),Lt(Y,x)),this.controls=k,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(k,x){return this.controls[k]?this.controls[k]:(this.controls[k]=x,x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange),x)}addControl(k,x,Y={}){this.registerControl(k,x),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}removeControl(k,x={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}setControl(k,x,Y={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],x&&this.registerControl(k,x),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}contains(k){return this.controls.hasOwnProperty(k)&&this.controls[k].enabled}setValue(k,x={}){zn(this,0,k),Object.keys(k).forEach(Y=>{Fr(this,!0,Y),this.controls[Y].setValue(k[Y],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(k,x={}){null!=k&&(Object.keys(k).forEach(Y=>{const Ze=this.controls[Y];Ze&&Ze.patchValue(k[Y],{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(k={},x={}){this._forEachChild((Y,Ze)=>{Y.reset(k[Ze],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this._reduceChildren({},(k,x,Y)=>(k[Y]=x.getRawValue(),k))}_syncPendingControls(){let k=this._reduceChildren(!1,(x,Y)=>!!Y._syncPendingControls()||x);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_forEachChild(k){Object.keys(this.controls).forEach(x=>{const Y=this.controls[x];Y&&k(Y,x)})}_setUpControls(){this._forEachChild(k=>{k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(k){for(const[x,Y]of Object.entries(this.controls))if(this.contains(x)&&k(Y))return!0;return!1}_reduceValue(){return this._reduceChildren({},(x,Y,Ze)=>((Y.enabled||this.disabled)&&(x[Ze]=Y.value),x))}_reduceChildren(k,x){let Y=k;return this._forEachChild((Ze,Wt)=>{Y=x(Y,Ze,Wt)}),Y}_allControlsDisabled(){for(const k of Object.keys(this.controls))if(this.controls[k].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(k){return this.controls.hasOwnProperty(k)?this.controls[k]:null}}class xe extends ve{}function wt(F,k){return[...k.path,F]}function zt(F,k){xr(F,k),k.valueAccessor.writeValue(F.value),F.disabled&&k.valueAccessor.setDisabledState?.(!0),function Ir(F,k){k.valueAccessor.registerOnChange(x=>{F._pendingValue=x,F._pendingChange=!0,F._pendingDirty=!0,"change"===F.updateOn&&lr(F,k)})}(F,k),function Ni(F,k){const x=(Y,Ze)=>{k.valueAccessor.writeValue(Y),Ze&&k.viewToModelUpdate(Y)};F.registerOnChange(x),k._registerOnDestroy(()=>{F._unregisterOnChange(x)})}(F,k),function Lr(F,k){k.valueAccessor.registerOnTouched(()=>{F._pendingTouched=!0,"blur"===F.updateOn&&F._pendingChange&&lr(F,k),"submit"!==F.updateOn&&F.markAsTouched()})}(F,k),function vn(F,k){if(k.valueAccessor.setDisabledState){const x=Y=>{k.valueAccessor.setDisabledState(Y)};F.registerOnDisabledChange(x),k._registerOnDestroy(()=>{F._unregisterOnDisabledChange(x)})}}(F,k)}function gt(F,k,x=!0){const Y=()=>{};k.valueAccessor&&(k.valueAccessor.registerOnChange(Y),k.valueAccessor.registerOnTouched(Y)),Nr(F,k),F&&(k._invokeOnDestroyCallbacks(),F._registerOnCollectionChange(()=>{}))}function rn(F,k){F.forEach(x=>{x.registerOnValidatorChange&&x.registerOnValidatorChange(k)})}function xr(F,k){const x=vr(F);null!==k.validator?F.setValidators(kr(x,k.validator)):"function"==typeof x&&F.setValidators([x]);const Y=ei(F);null!==k.asyncValidator?F.setAsyncValidators(kr(Y,k.asyncValidator)):"function"==typeof Y&&F.setAsyncValidators([Y]);const Ze=()=>F.updateValueAndValidity();rn(k._rawValidators,Ze),rn(k._rawAsyncValidators,Ze)}function Nr(F,k){let x=!1;if(null!==F){if(null!==k.validator){const Ze=vr(F);if(Array.isArray(Ze)&&Ze.length>0){const Wt=Ze.filter(zr=>zr!==k.validator);Wt.length!==Ze.length&&(x=!0,F.setValidators(Wt))}}if(null!==k.asyncValidator){const Ze=ei(F);if(Array.isArray(Ze)&&Ze.length>0){const Wt=Ze.filter(zr=>zr!==k.asyncValidator);Wt.length!==Ze.length&&(x=!0,F.setAsyncValidators(Wt))}}}const Y=()=>{};return rn(k._rawValidators,Y),rn(k._rawAsyncValidators,Y),x}function lr(F,k){F._pendingDirty&&F.markAsDirty(),F.setValue(F._pendingValue,{emitModelToViewChange:!1}),k.viewToModelUpdate(F._pendingValue),F._pendingChange=!1}function Vn(F,k){if(!F.hasOwnProperty("model"))return!1;const x=F.model;return!!x.isFirstChange()||!Object.is(k,x.currentValue)}function Hr(F,k){if(!k)return null;let x,Y,Ze;return Array.isArray(k),k.forEach(Wt=>{Wt.constructor===ce?x=Wt:function ji(F){return Object.getPrototypeOf(F.constructor)===Be}(Wt)?Y=Wt:Ze=Wt}),Ze||Y||x||null}function Bt(F,k){const x=F.indexOf(k);x>-1&&F.splice(x,1)}function Mn(F){return"object"==typeof F&&null!==F&&2===Object.keys(F).length&&"value"in F&&"disabled"in F}const pr=class extends Ve{constructor(k=null,x,Y){super(it(x),Lt(Y,x)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(k),this._setUpdateStrategy(x),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ln(x)&&(x.nonNullable||x.initialValueIsDefault)&&(this.defaultValue=Mn(k)?k.value:k)}setValue(k,x={}){this.value=this._pendingValue=k,this._onChange.length&&!1!==x.emitModelToViewChange&&this._onChange.forEach(Y=>Y(this.value,!1!==x.emitViewToModelChange)),this.updateValueAndValidity(x)}patchValue(k,x={}){this.setValue(k,x)}reset(k=this.defaultValue,x={}){this._applyFormState(k),this.markAsPristine(x),this.markAsUntouched(x),this.setValue(this.value,x),this._pendingChange=!1}_updateValue(){}_anyControls(k){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(k){this._onChange.push(k)}_unregisterOnChange(k){Bt(this._onChange,k)}registerOnDisabledChange(k){this._onDisabledChange.push(k)}_unregisterOnDisabledChange(k){Bt(this._onDisabledChange,k)}_forEachChild(k){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(k){Mn(k)?(this.value=this._pendingValue=k.value,k.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=k}},mi={provide:br,useExisting:(0,f.Gpc)(()=>Os)},ea=(()=>Promise.resolve())();let Os=(()=>{class F extends br{constructor(x,Y,Ze,Wt,zr){super(),this._changeDetectorRef=zr,this.control=new pr,this._registered=!1,this.update=new f.vpe,this._parent=x,this._setValidators(Y),this._setAsyncValidators(Ze),this.valueAccessor=Hr(0,Wt)}ngOnChanges(x){if(this._checkForErrors(),!this._registered||"name"in x){if(this._registered&&(this._checkName(),this.formDirective)){const Y=x.name.previousValue;this.formDirective.removeControl({name:Y,path:this._getPath(Y)})}this._setUpControl()}"isDisabled"in x&&this._updateDisabled(x),Vn(x,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){zt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(x){ea.then(()=>{this.control.setValue(x,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(x){const Y=x.isDisabled.currentValue,Ze=0!==Y&&(0,f.D6c)(Y);ea.then(()=>{Ze&&!this.control.disabled?this.control.disable():!Ze&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(x){return this._parent?wt(x,this._parent):[x]}}return F.\u0275fac=function(x){return new(x||F)(f.Y36(Ar,9),f.Y36(Ie,10),f.Y36(Re,10),f.Y36(pt,10),f.Y36(f.sBO,8))},F.\u0275dir=f.lG2({type:F,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([mi]),f.qOj,f.TTD]}),F})(),to=(()=>{class F{}return F.\u0275fac=function(x){return new(x||F)},F.\u0275dir=f.lG2({type:F,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),F})(),ma=(()=>{class F{}return F.\u0275fac=function(x){return new(x||F)},F.\u0275mod=f.oAB({type:F}),F.\u0275inj=f.cJS({}),F})();const Gi=new f.OlP("NgModelWithFormControlWarning"),ki={provide:Ar,useExisting:(0,f.Gpc)(()=>Fi)};let Fi=(()=>{class F extends Ar{constructor(x,Y){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(x),this._setAsyncValidators(Y)}ngOnChanges(x){this._checkFormPresent(),x.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Nr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(x){const Y=this.form.get(x.path);return zt(Y,x),Y.updateValueAndValidity({emitEvent:!1}),this.directives.push(x),Y}getControl(x){return this.form.get(x.path)}removeControl(x){gt(x.control||null,x,!1),function ke(F,k){const x=F.indexOf(k);x>-1&&F.splice(x,1)}(this.directives,x)}addFormGroup(x){this._setUpFormContainer(x)}removeFormGroup(x){this._cleanUpFormContainer(x)}getFormGroup(x){return this.form.get(x.path)}addFormArray(x){this._setUpFormContainer(x)}removeFormArray(x){this._cleanUpFormContainer(x)}getFormArray(x){return this.form.get(x.path)}updateModel(x,Y){this.form.get(x.path).setValue(Y)}onSubmit(x){return this.submitted=!0,function ri(F,k){F._syncPendingControls(),k.forEach(x=>{const Y=x.control;"submit"===Y.updateOn&&Y._pendingChange&&(x.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(x),"dialog"===x?.target?.method}onReset(){this.resetForm()}resetForm(x){this.form.reset(x),this.submitted=!1}_updateDomValue(){this.directives.forEach(x=>{const Y=x.control,Ze=this.form.get(x.path);Y!==Ze&&(gt(Y||null,x),(F=>F instanceof pr)(Ze)&&(zt(Ze,x),x.control=Ze))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(x){const Y=this.form.get(x.path);(function ui(F,k){xr(F,k)})(Y,x),Y.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(x){if(this.form){const Y=this.form.get(x.path);Y&&function On(F,k){return Nr(F,k)}(Y,x)&&Y.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){xr(this.form,this),this._oldForm&&Nr(this._oldForm,this)}_checkFormPresent(){}}return F.\u0275fac=function(x){return new(x||F)(f.Y36(Ie,10),f.Y36(Re,10))},F.\u0275dir=f.lG2({type:F,selectors:[["","formGroup",""]],hostBindings:function(x,Y){1&x&&f.NdJ("submit",function(Wt){return Y.onSubmit(Wt)})("reset",function(){return Y.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([ki]),f.qOj,f.TTD]}),F})();const wo={provide:br,useExisting:(0,f.Gpc)(()=>Fs)};let Fs=(()=>{class F extends br{constructor(x,Y,Ze,Wt,zr){super(),this._ngModelWarningConfig=zr,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=x,this._setValidators(Y),this._setAsyncValidators(Ze),this.valueAccessor=Hr(0,Wt)}set isDisabled(x){}ngOnChanges(x){this._added||this._setUpControl(),Vn(x,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(x){this.viewModel=x,this.update.emit(x)}get path(){return wt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return F._ngModelWarningSentOnce=!1,F.\u0275fac=function(x){return new(x||F)(f.Y36(Ar,13),f.Y36(Ie,10),f.Y36(Re,10),f.Y36(pt,10),f.Y36(Gi,8))},F.\u0275dir=f.lG2({type:F,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([wo]),f.qOj,f.TTD]}),F})(),ao=(()=>{class F{}return F.\u0275fac=function(x){return new(x||F)},F.\u0275mod=f.oAB({type:F}),F.\u0275inj=f.cJS({imports:[ma]}),F})(),uo=(()=>{class F{}return F.\u0275fac=function(x){return new(x||F)},F.\u0275mod=f.oAB({type:F}),F.\u0275inj=f.cJS({imports:[ao]}),F})(),Qs=(()=>{class F{static withConfig(x){return{ngModule:F,providers:[{provide:Gi,useValue:x.warnOnNgModelWithFormControl}]}}}return F.\u0275fac=function(x){return new(x||F)},F.\u0275mod=f.oAB({type:F}),F.\u0275inj=f.cJS({imports:[ao]}),F})();class ta extends Ve{constructor(k,x,Y){super(it(x),Lt(Y,x)),this.controls=k,this._initObservables(),this._setUpdateStrategy(x),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(k){return this.controls[this._adjustIndex(k)]}push(k,x={}){this.controls.push(k),this._registerControl(k),this.updateValueAndValidity({emitEvent:x.emitEvent}),this._onCollectionChange()}insert(k,x,Y={}){this.controls.splice(k,0,x),this._registerControl(x),this.updateValueAndValidity({emitEvent:Y.emitEvent})}removeAt(k,x={}){let Y=this._adjustIndex(k);Y<0&&(Y=0),this.controls[Y]&&this.controls[Y]._registerOnCollectionChange(()=>{}),this.controls.splice(Y,1),this.updateValueAndValidity({emitEvent:x.emitEvent})}setControl(k,x,Y={}){let Ze=this._adjustIndex(k);Ze<0&&(Ze=0),this.controls[Ze]&&this.controls[Ze]._registerOnCollectionChange(()=>{}),this.controls.splice(Ze,1),x&&(this.controls.splice(Ze,0,x),this._registerControl(x)),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(k,x={}){zn(this,0,k),k.forEach((Y,Ze)=>{Fr(this,!1,Ze),this.at(Ze).setValue(Y,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x)}patchValue(k,x={}){null!=k&&(k.forEach((Y,Ze)=>{this.at(Ze)&&this.at(Ze).patchValue(Y,{onlySelf:!0,emitEvent:x.emitEvent})}),this.updateValueAndValidity(x))}reset(k=[],x={}){this._forEachChild((Y,Ze)=>{Y.reset(k[Ze],{onlySelf:!0,emitEvent:x.emitEvent})}),this._updatePristine(x),this._updateTouched(x),this.updateValueAndValidity(x)}getRawValue(){return this.controls.map(k=>k.getRawValue())}clear(k={}){this.controls.length<1||(this._forEachChild(x=>x._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:k.emitEvent}))}_adjustIndex(k){return k<0?k+this.length:k}_syncPendingControls(){let k=this.controls.reduce((x,Y)=>!!Y._syncPendingControls()||x,!1);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_forEachChild(k){this.controls.forEach((x,Y)=>{k(x,Y)})}_updateValue(){this.value=this.controls.filter(k=>k.enabled||this.disabled).map(k=>k.value)}_anyControls(k){return this.controls.some(x=>x.enabled&&k(x))}_setUpControls(){this._forEachChild(k=>this._registerControl(k))}_allControlsDisabled(){for(const k of this.controls)if(k.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(k){k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)}_find(k){return this.at(k)??null}}function fs(F){return!!F&&(void 0!==F.asyncValidators||void 0!==F.validators||void 0!==F.updateOn)}let mt=(()=>{class F{constructor(){this.useNonNullable=!1}get nonNullable(){const x=new F;return x.useNonNullable=!0,x}group(x,Y=null){const Ze=this._reduceControls(x);let Wt={};return fs(Y)?Wt=Y:null!==Y&&(Wt.validators=Y.validator,Wt.asyncValidators=Y.asyncValidator),new ve(Ze,Wt)}record(x,Y=null){const Ze=this._reduceControls(x);return new xe(Ze,Y)}control(x,Y,Ze){let Wt={};return this.useNonNullable?(fs(Y)?Wt=Y:(Wt.validators=Y,Wt.asyncValidators=Ze),new pr(x,{...Wt,nonNullable:!0})):new pr(x,Y,Ze)}array(x,Y,Ze){const Wt=x.map(zr=>this._createControl(zr));return new ta(Wt,Y,Ze)}_reduceControls(x){const Y={};return Object.keys(x).forEach(Ze=>{Y[Ze]=this._createControl(x[Ze])}),Y}_createControl(x){return x instanceof pr||x instanceof Ve?x:Array.isArray(x)?this.control(x[0],x.length>1?x[1]:null,x.length>2?x[2]:null):this.control(x)}}return F.\u0275fac=function(x){return new(x||F)},F.\u0275prov=f.Yz7({token:F,factory:F.\u0275fac,providedIn:Qs}),F})(),_n=(()=>{class F{}return F.\u0275fac=function(x){return new(x||F)},F.\u0275prov=f.Yz7({token:F,factory:function(){return(0,f.f3M)(mt).nonNullable},providedIn:Qs}),F})()},1481:(fn,ut,X)=>{X.d(ut,{Dx:()=>Mr,b2:()=>Ar,q6:()=>Rr,se:()=>Fe});var f=X(6895),j=X(8256);class be extends f.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class me extends be{static makeCurrent(){(0,f.HT)(new me)}onAndCancel(ve,se,Ge){return ve.addEventListener(se,Ge,!1),()=>{ve.removeEventListener(se,Ge,!1)}}dispatchEvent(ve,se){ve.dispatchEvent(se)}remove(ve){ve.parentNode&&ve.parentNode.removeChild(ve)}createElement(ve,se){return(se=se||this.getDefaultDocument()).createElement(ve)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ve){return ve.nodeType===Node.ELEMENT_NODE}isShadowRoot(ve){return ve instanceof DocumentFragment}getGlobalEventTarget(ve,se){return"window"===se?window:"document"===se?ve:"body"===se?ve.body:null}getBaseHref(ve){const se=function de(){return z=z||document.querySelector("base"),z?z.getAttribute("href"):null}();return null==se?null:function he(Ve){ie=ie||document.createElement("a"),ie.setAttribute("href",Ve);const ve=ie.pathname;return"/"===ve.charAt(0)?ve:`/${ve}`}(se)}resetBaseElement(){z=null}getUserAgent(){return window.navigator.userAgent}getCookie(ve){return(0,f.Mx)(document.cookie,ve)}}let ie,z=null;const Ne=new j.OlP("TRANSITION_ID"),ue=[{provide:j.ip1,useFactory:function ne(Ve,ve,se){return()=>{se.get(j.CZH).donePromise.then(()=>{const Ge=(0,f.q)(),xe=ve.querySelectorAll(`style[ng-transition="${Ve}"]`);for(let nt=0;nt<xe.length;nt++)Ge.remove(xe[nt])})}},deps:[Ne,f.K0,j.zs3],multi:!0}];let tt=(()=>{class Ve{build(){return new XMLHttpRequest}}return Ve.\u0275fac=function(se){return new(se||Ve)},Ve.\u0275prov=j.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();const Be=new j.OlP("EventManagerPlugins");let pt=(()=>{class Ve{constructor(se,Ge){this._zone=Ge,this._eventNameToPlugin=new Map,se.forEach(xe=>xe.manager=this),this._plugins=se.slice().reverse()}addEventListener(se,Ge,xe){return this._findPluginFor(Ge).addEventListener(se,Ge,xe)}addGlobalEventListener(se,Ge,xe){return this._findPluginFor(Ge).addGlobalEventListener(se,Ge,xe)}getZone(){return this._zone}_findPluginFor(se){const Ge=this._eventNameToPlugin.get(se);if(Ge)return Ge;const xe=this._plugins;for(let nt=0;nt<xe.length;nt++){const wt=xe[nt];if(wt.supports(se))return this._eventNameToPlugin.set(se,wt),wt}throw new Error(`No event manager plugin found for event ${se}`)}}return Ve.\u0275fac=function(se){return new(se||Ve)(j.LFG(Be),j.LFG(j.R0b))},Ve.\u0275prov=j.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();class St{constructor(ve){this._doc=ve}addGlobalEventListener(ve,se,Ge){const xe=(0,f.q)().getGlobalEventTarget(this._doc,ve);if(!xe)throw new Error(`Unsupported event target ${xe} for event ${se}`);return this.addEventListener(xe,se,Ge)}}let Vt=(()=>{class Ve{constructor(){this._stylesSet=new Set}addStyles(se){const Ge=new Set;se.forEach(xe=>{this._stylesSet.has(xe)||(this._stylesSet.add(xe),Ge.add(xe))}),this.onStylesAdded(Ge)}onStylesAdded(se){}getAllStyles(){return Array.from(this._stylesSet)}}return Ve.\u0275fac=function(se){return new(se||Ve)},Ve.\u0275prov=j.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})(),kt=(()=>{class Ve extends Vt{constructor(se){super(),this._doc=se,this._hostNodes=new Map,this._hostNodes.set(se.head,[])}_addStylesToHost(se,Ge,xe){se.forEach(nt=>{const wt=this._doc.createElement("style");wt.textContent=nt,xe.push(Ge.appendChild(wt))})}addHost(se){const Ge=[];this._addStylesToHost(this._stylesSet,se,Ge),this._hostNodes.set(se,Ge)}removeHost(se){const Ge=this._hostNodes.get(se);Ge&&Ge.forEach(Ft),this._hostNodes.delete(se)}onStylesAdded(se){this._hostNodes.forEach((Ge,xe)=>{this._addStylesToHost(se,xe,Ge)})}ngOnDestroy(){this._hostNodes.forEach(se=>se.forEach(Ft))}}return Ve.\u0275fac=function(se){return new(se||Ve)(j.LFG(f.K0))},Ve.\u0275prov=j.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();function Ft(Ve){(0,f.q)().remove(Ve)}const _t={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ce=/%COMP%/g;function Ce(Ve,ve,se){for(let Ge=0;Ge<ve.length;Ge++){let xe=ve[Ge];Array.isArray(xe)?Ce(Ve,xe,se):(xe=xe.replace(ce,Ve),se.push(xe))}return se}function Pe(Ve){return ve=>{if("__ngUnwrap__"===ve)return Ve;!1===Ve(ve)&&(ve.preventDefault(),ve.returnValue=!1)}}let Fe=(()=>{class Ve{constructor(se,Ge,xe){this.eventManager=se,this.sharedStylesHost=Ge,this.appId=xe,this.rendererByCompId=new Map,this.defaultRenderer=new je(se)}createRenderer(se,Ge){if(!se||!Ge)return this.defaultRenderer;switch(Ge.encapsulation){case j.ifc.Emulated:{let xe=this.rendererByCompId.get(Ge.id);return xe||(xe=new At(this.eventManager,this.sharedStylesHost,Ge,this.appId),this.rendererByCompId.set(Ge.id,xe)),xe.applyToHost(se),xe}case 1:case j.ifc.ShadowDom:return new Rt(this.eventManager,this.sharedStylesHost,se,Ge);default:if(!this.rendererByCompId.has(Ge.id)){const xe=Ce(Ge.id,Ge.styles,[]);this.sharedStylesHost.addStyles(xe),this.rendererByCompId.set(Ge.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ve.\u0275fac=function(se){return new(se||Ve)(j.LFG(pt),j.LFG(kt),j.LFG(j.AFp))},Ve.\u0275prov=j.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();class je{constructor(ve){this.eventManager=ve,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ve,se){return se?document.createElementNS(_t[se]||se,ve):document.createElement(ve)}createComment(ve){return document.createComment(ve)}createText(ve){return document.createTextNode(ve)}appendChild(ve,se){(ot(ve)?ve.content:ve).appendChild(se)}insertBefore(ve,se,Ge){ve&&(ot(ve)?ve.content:ve).insertBefore(se,Ge)}removeChild(ve,se){ve&&ve.removeChild(se)}selectRootElement(ve,se){let Ge="string"==typeof ve?document.querySelector(ve):ve;if(!Ge)throw new Error(`The selector "${ve}" did not match any elements`);return se||(Ge.textContent=""),Ge}parentNode(ve){return ve.parentNode}nextSibling(ve){return ve.nextSibling}setAttribute(ve,se,Ge,xe){if(xe){se=xe+":"+se;const nt=_t[xe];nt?ve.setAttributeNS(nt,se,Ge):ve.setAttribute(se,Ge)}else ve.setAttribute(se,Ge)}removeAttribute(ve,se,Ge){if(Ge){const xe=_t[Ge];xe?ve.removeAttributeNS(xe,se):ve.removeAttribute(`${Ge}:${se}`)}else ve.removeAttribute(se)}addClass(ve,se){ve.classList.add(se)}removeClass(ve,se){ve.classList.remove(se)}setStyle(ve,se,Ge,xe){xe&(j.JOm.DashCase|j.JOm.Important)?ve.style.setProperty(se,Ge,xe&j.JOm.Important?"important":""):ve.style[se]=Ge}removeStyle(ve,se,Ge){Ge&j.JOm.DashCase?ve.style.removeProperty(se):ve.style[se]=""}setProperty(ve,se,Ge){ve[se]=Ge}setValue(ve,se){ve.nodeValue=se}listen(ve,se,Ge){return"string"==typeof ve?this.eventManager.addGlobalEventListener(ve,se,Pe(Ge)):this.eventManager.addEventListener(ve,se,Pe(Ge))}}function ot(Ve){return"TEMPLATE"===Ve.tagName&&void 0!==Ve.content}class At extends je{constructor(ve,se,Ge,xe){super(ve),this.component=Ge;const nt=Ce(xe+"-"+Ge.id,Ge.styles,[]);se.addStyles(nt),this.contentAttr=function Re(Ve){return"_ngcontent-%COMP%".replace(ce,Ve)}(xe+"-"+Ge.id),this.hostAttr=function st(Ve){return"_nghost-%COMP%".replace(ce,Ve)}(xe+"-"+Ge.id)}applyToHost(ve){super.setAttribute(ve,this.hostAttr,"")}createElement(ve,se){const Ge=super.createElement(ve,se);return super.setAttribute(Ge,this.contentAttr,""),Ge}}class Rt extends je{constructor(ve,se,Ge,xe){super(ve),this.sharedStylesHost=se,this.hostEl=Ge,this.shadowRoot=Ge.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const nt=Ce(xe.id,xe.styles,[]);for(let wt=0;wt<nt.length;wt++){const zt=document.createElement("style");zt.textContent=nt[wt],this.shadowRoot.appendChild(zt)}}nodeOrShadowRoot(ve){return ve===this.hostEl?this.shadowRoot:ve}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ve,se){return super.appendChild(this.nodeOrShadowRoot(ve),se)}insertBefore(ve,se,Ge){return super.insertBefore(this.nodeOrShadowRoot(ve),se,Ge)}removeChild(ve,se){return super.removeChild(this.nodeOrShadowRoot(ve),se)}parentNode(ve){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ve)))}}let en=(()=>{class Ve extends St{constructor(se){super(se)}supports(se){return!0}addEventListener(se,Ge,xe){return se.addEventListener(Ge,xe,!1),()=>this.removeEventListener(se,Ge,xe)}removeEventListener(se,Ge,xe){return se.removeEventListener(Ge,xe)}}return Ve.\u0275fac=function(se){return new(se||Ve)(j.LFG(f.K0))},Ve.\u0275prov=j.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();const bn=["alt","control","meta","shift"],nn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wn={alt:Ve=>Ve.altKey,control:Ve=>Ve.ctrlKey,meta:Ve=>Ve.metaKey,shift:Ve=>Ve.shiftKey};let yn=(()=>{class Ve extends St{constructor(se){super(se)}supports(se){return null!=Ve.parseEventName(se)}addEventListener(se,Ge,xe){const nt=Ve.parseEventName(Ge),wt=Ve.eventCallback(nt.fullKey,xe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.q)().onAndCancel(se,nt.domEventName,wt))}static parseEventName(se){const Ge=se.toLowerCase().split("."),xe=Ge.shift();if(0===Ge.length||"keydown"!==xe&&"keyup"!==xe)return null;const nt=Ve._normalizeKey(Ge.pop());let wt="",zt=Ge.indexOf("code");if(zt>-1&&(Ge.splice(zt,1),wt="code."),bn.forEach(rn=>{const vn=Ge.indexOf(rn);vn>-1&&(Ge.splice(vn,1),wt+=rn+".")}),wt+=nt,0!=Ge.length||0===nt.length)return null;const gt={};return gt.domEventName=xe,gt.fullKey=wt,gt}static matchEventFullKeyCode(se,Ge){let xe=nn[se.key]||se.key,nt="";return Ge.indexOf("code.")>-1&&(xe=se.code,nt="code."),!(null==xe||!xe)&&(xe=xe.toLowerCase()," "===xe?xe="space":"."===xe&&(xe="dot"),bn.forEach(wt=>{wt!==xe&&(0,Wn[wt])(se)&&(nt+=wt+".")}),nt+=xe,nt===Ge)}static eventCallback(se,Ge,xe){return nt=>{Ve.matchEventFullKeyCode(nt,se)&&xe.runGuarded(()=>Ge(nt))}}static _normalizeKey(se){return"esc"===se?"escape":se}}return Ve.\u0275fac=function(se){return new(se||Ve)(j.LFG(f.K0))},Ve.\u0275prov=j.Yz7({token:Ve,factory:Ve.\u0275fac}),Ve})();const Rr=(0,j.eFA)(j._c5,"browser",[{provide:j.Lbi,useValue:f.bD},{provide:j.g9A,useValue:function kr(){me.makeCurrent()},multi:!0},{provide:f.K0,useFactory:function ei(){return(0,j.RDi)(document),document},deps:[]}]),ar=new j.OlP(""),Gt=[{provide:j.rWj,useClass:class Oe{addToWindow(ve){j.dqk.getAngularTestability=(Ge,xe=!0)=>{const nt=ve.findTestabilityInTree(Ge,xe);if(null==nt)throw new Error("Could not find testability for element.");return nt},j.dqk.getAllAngularTestabilities=()=>ve.getAllTestabilities(),j.dqk.getAllAngularRootElements=()=>ve.getAllRootElements(),j.dqk.frameworkStabilizers||(j.dqk.frameworkStabilizers=[]),j.dqk.frameworkStabilizers.push(Ge=>{const xe=j.dqk.getAllAngularTestabilities();let nt=xe.length,wt=!1;const zt=function(gt){wt=wt||gt,nt--,0==nt&&Ge(wt)};xe.forEach(function(gt){gt.whenStable(zt)})})}findTestabilityInTree(ve,se,Ge){return null==se?null:ve.getTestability(se)??(Ge?(0,f.q)().isShadowRoot(se)?this.findTestabilityInTree(ve,se.host,!0):this.findTestabilityInTree(ve,se.parentElement,!0):null)}},deps:[]},{provide:j.lri,useClass:j.dDg,deps:[j.R0b,j.eoX,j.rWj]},{provide:j.dDg,useClass:j.dDg,deps:[j.R0b,j.eoX,j.rWj]}],Kn=[{provide:j.zSh,useValue:"root"},{provide:j.qLn,useFactory:function vr(){return new j.qLn},deps:[]},{provide:Be,useClass:en,multi:!0,deps:[f.K0,j.R0b,j.Lbi]},{provide:Be,useClass:yn,multi:!0,deps:[f.K0]},{provide:Fe,useClass:Fe,deps:[pt,kt,j.AFp]},{provide:j.FYo,useExisting:Fe},{provide:Vt,useExisting:kt},{provide:kt,useClass:kt,deps:[f.K0]},{provide:pt,useClass:pt,deps:[Be,j.R0b]},{provide:f.JF,useClass:tt,deps:[]},[]];let Ar=(()=>{class Ve{constructor(se){}static withServerTransition(se){return{ngModule:Ve,providers:[{provide:j.AFp,useValue:se.appId},{provide:Ne,useExisting:j.AFp},ue]}}}return Ve.\u0275fac=function(se){return new(se||Ve)(j.LFG(ar,12))},Ve.\u0275mod=j.oAB({type:Ve}),Ve.\u0275inj=j.cJS({providers:[...Kn,...Gt],imports:[f.ez,j.hGG]}),Ve})(),Mr=(()=>{class Ve{constructor(se){this._doc=se}getTitle(){return this._doc.title}setTitle(se){this._doc.title=se||""}}return Ve.\u0275fac=function(se){return new(se||Ve)(j.LFG(f.K0))},Ve.\u0275prov=j.Yz7({token:Ve,factory:function(se){let Ge=null;return Ge=se?new se:function _r(){return new Mr((0,j.LFG)(f.K0))}(),Ge},providedIn:"root"}),Ve})();typeof window<"u"&&window},8393:(fn,ut,X)=>{X.d(ut,{F0:()=>Tr,Bz:()=>wi,lC:()=>Zs});var f=X(8256),j=X(8996),be=X(7669);function me(..._){const E=(0,be.yG)(_);return(0,j.D)(_,E)}var z=X(7579);class de extends z.x{constructor(E){super(),this._value=E}get value(){return this.getValue()}_subscribe(E){const m=super._subscribe(E);return!m.closed&&E.next(this._value),m}getValue(){const{hasError:E,thrownError:m,_value:T}=this;if(E)throw m;return this._throwIfClosed(),T}next(E){super.next(this._value=E)}}const he=(0,X(3888).d)(_=>function(){_(this),this.name="EmptyError",this.message="no elements in sequence"});var Ne=X(9751),ne=X(4742),ue=X(4671),Oe=X(3268),tt=X(1810),Be=X(5403),pt=X(9672);function St(..._){const E=(0,be.yG)(_),m=(0,be.jO)(_),{args:T,keys:O}=(0,ne.D)(_);if(0===T.length)return(0,j.D)([],E);const W=new Ne.y(function Vt(_,E,m=ue.y){return T=>{kt(E,()=>{const{length:O}=_,W=new Array(O);let le=O,ge=O;for(let Je=0;Je<O;Je++)kt(E,()=>{const Nt=(0,j.D)(_[Je],E);let An=!1;Nt.subscribe((0,Be.x)(T,Ht=>{W[Je]=Ht,An||(An=!0,ge--),ge||T.next(m(W.slice()))},()=>{--le||T.complete()}))},T)},T)}}(T,E,O?le=>(0,tt.n)(O,le):ue.y));return m?W.pipe((0,Oe.Z)(m)):W}function kt(_,E,m){_?(0,pt.f)(m,_,E):E()}var Ft=X(8189);function ce(..._){return function _t(){return(0,Ft.J)(1)}()((0,j.D)(_,(0,be.yG)(_)))}var De=X(8421);function _e(_){return new Ne.y(E=>{(0,De.Xf)(_()).subscribe(E)})}var lt=X(9635),Ie=X(576);function Re(_,E){const m=(0,Ie.m)(_)?_:()=>_,T=O=>O.error(m());return new Ne.y(E?O=>E.schedule(T,0,O):T)}var st=X(515),Ce=X(727),Pe=X(4482);function Ye(){return(0,Pe.e)((_,E)=>{let m=null;_._refCount++;const T=(0,Be.x)(E,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(m=null);const O=_._connection,W=m;m=null,O&&(!W||O===W)&&O.unsubscribe(),E.unsubscribe()});_.subscribe(T),T.closed||(m=_.connect())})}class Fe extends Ne.y{constructor(E,m){super(),this.source=E,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,Pe.A)(E)&&(this.lift=E.lift)}_subscribe(E){return this.getSubject().subscribe(E)}getSubject(){const E=this._subject;return(!E||E.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:E}=this;this._subject=this._connection=null,E?.unsubscribe()}connect(){let E=this._connection;if(!E){E=this._connection=new Ce.w0;const m=this.getSubject();E.add(this.source.subscribe((0,Be.x)(m,void 0,()=>{this._teardown(),m.complete()},T=>{this._teardown(),m.error(T)},()=>this._teardown()))),E.closed&&(this._connection=null,E=Ce.w0.EMPTY)}return E}refCount(){return Ye()(this)}}var je=X(6895),He=X(4004);function Ae(_,E){return(0,Pe.e)((m,T)=>{let O=null,W=0,le=!1;const ge=()=>le&&!O&&T.complete();m.subscribe((0,Be.x)(T,Je=>{O?.unsubscribe();let Nt=0;const An=W++;(0,De.Xf)(_(Je,An)).subscribe(O=(0,Be.x)(T,Ht=>T.next(E?E(Je,Ht,An,Nt++):Ht),()=>{O=null,ge()}))},()=>{le=!0,ge()}))})}var ot=X(5698),Rt=X(9300),en=X(5577);function bn(_){return(0,Pe.e)((E,m)=>{let T=!1;E.subscribe((0,Be.x)(m,O=>{T=!0,m.next(O)},()=>{T||m.next(_),m.complete()}))})}function nn(_=Wn){return(0,Pe.e)((E,m)=>{let T=!1;E.subscribe((0,Be.x)(m,O=>{T=!0,m.next(O)},()=>T?m.complete():m.error(_())))})}function Wn(){return new he}function yn(_,E){const m=arguments.length>=2;return T=>T.pipe(_?(0,Rt.h)((O,W)=>_(O,W,T)):ue.y,(0,ot.q)(1),m?bn(E):nn(()=>new he))}function dn(_,E){return(0,Ie.m)(E)?(0,en.z)(_,E,1):(0,en.z)(_,1)}var Cn=X(8505);function cn(_){return(0,Pe.e)((E,m)=>{let W,T=null,O=!1;T=E.subscribe((0,Be.x)(m,void 0,void 0,le=>{W=(0,De.Xf)(_(le,cn(_)(E))),T?(T.unsubscribe(),T=null,W.subscribe(m)):O=!0})),O&&(T.unsubscribe(),T=null,W.subscribe(m))})}function qr(_,E,m,T,O){return(W,le)=>{let ge=m,Je=E,Nt=0;W.subscribe((0,Be.x)(le,An=>{const Ht=Nt++;Je=ge?_(Je,An,Ht):(ge=!0,An),T&&le.next(Je)},O&&(()=>{ge&&le.next(Je),le.complete()})))}}function or(_,E){return(0,Pe.e)(qr(_,E,arguments.length>=2,!0))}function kr(_){return _<=0?()=>st.E:(0,Pe.e)((E,m)=>{let T=[];E.subscribe((0,Be.x)(m,O=>{T.push(O),_<T.length&&T.shift()},()=>{for(const O of T)m.next(O);m.complete()},void 0,()=>{T=null}))})}function vr(_,E){const m=arguments.length>=2;return T=>T.pipe(_?(0,Rt.h)((O,W)=>_(O,W,T)):ue.y,kr(1),m?bn(E):nn(()=>new he))}function Rr(_){return(0,Pe.e)((E,m)=>{try{E.subscribe(m)}finally{m.add(_)}})}var ar=X(1481);const Gt="primary",Kn=Symbol("RouteTitle");class Ar{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const m=this.params[E];return Array.isArray(m)?m[0]:m}return null}getAll(E){if(this.has(E)){const m=this.params[E];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function br(_){return new Ar(_)}function fr(_,E,m){const T=m.path.split("/");if(T.length>_.length||"full"===m.pathMatch&&(E.hasChildren()||T.length<_.length))return null;const O={};for(let W=0;W<T.length;W++){const le=T[W],ge=_[W];if(le.startsWith(":"))O[le.substring(1)]=ge;else if(le!==ge.path)return null}return{consumed:_.slice(0,T.length),posParams:O}}function _r(_,E){const m=_?Object.keys(_):void 0,T=E?Object.keys(E):void 0;if(!m||!T||m.length!=T.length)return!1;let O;for(let W=0;W<m.length;W++)if(O=m[W],!Mr(_[O],E[O]))return!1;return!0}function Mr(_,E){if(Array.isArray(_)&&Array.isArray(E)){if(_.length!==E.length)return!1;const m=[..._].sort(),T=[...E].sort();return m.every((O,W)=>T[W]===O)}return _===E}function xt(_){return Array.prototype.concat.apply([],_)}function jt(_){return _.length>0?_[_.length-1]:null}function pn(_,E){for(const m in _)_.hasOwnProperty(m)&&E(_[m],m)}function ur(_){return(0,f.CqO)(_)?_:(0,f.QGY)(_)?(0,j.D)(Promise.resolve(_)):me(_)}const Hn={exact:function ln(_,E,m){if(!ye(_.segments,E.segments)||!Ue(_.segments,E.segments,m)||_.numberOfChildren!==E.numberOfChildren)return!1;for(const T in E.children)if(!_.children[T]||!ln(_.children[T],E.children[T],m))return!1;return!0},subset:ai},fi={exact:function ti(_,E){return _r(_,E)},subset:function Ri(_,E){return Object.keys(E).length<=Object.keys(_).length&&Object.keys(E).every(m=>Mr(_[m],E[m]))},ignored:()=>!0};function tr(_,E,m){return Hn[m.paths](_.root,E.root,m.matrixParams)&&fi[m.queryParams](_.queryParams,E.queryParams)&&!("exact"===m.fragment&&_.fragment!==E.fragment)}function ai(_,E,m){return Et(_,E,E.segments,m)}function Et(_,E,m,T){if(_.segments.length>m.length){const O=_.segments.slice(0,m.length);return!(!ye(O,m)||E.hasChildren()||!Ue(O,m,T))}if(_.segments.length===m.length){if(!ye(_.segments,m)||!Ue(_.segments,m,T))return!1;for(const O in E.children)if(!_.children[O]||!ai(_.children[O],E.children[O],T))return!1;return!0}{const O=m.slice(0,_.segments.length),W=m.slice(_.segments.length);return!!(ye(_.segments,O)&&Ue(_.segments,O,T)&&_.children[Gt])&&Et(_.children[Gt],E,W,T)}}function Ue(_,E,m){return E.every((T,O)=>fi[m](_[O].parameters,T.parameters))}class Tt{constructor(E,m,T){this.root=E,this.queryParams=m,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=br(this.queryParams)),this._queryParamMap}toString(){return Ke.serialize(this)}}class dt{constructor(E,m){this.segments=E,this.children=m,this.parent=null,pn(m,(T,O)=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lt(this)}}class Mt{constructor(E,m){this.path=E,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=br(this.parameters)),this._parameterMap}toString(){return Ge(this)}}function ye(_,E){return _.length===E.length&&_.every((m,T)=>m.path===E[T].path)}let Te=(()=>{class _{}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=f.Yz7({token:_,factory:function(){return new it},providedIn:"root"}),_})();class it{parse(E){const m=new Nr(E);return new Tt(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(E){const m=`/${on(E.root,!0)}`,T=function nt(_){const E=Object.keys(_).map(m=>{const T=_[m];return Array.isArray(T)?T.map(O=>`${Fr(m)}=${Fr(O)}`).join("&"):`${Fr(m)}=${Fr(T)}`}).filter(m=>!!m);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${m}${T}${"string"==typeof E.fragment?`#${function zn(_){return encodeURI(_)}(E.fragment)}`:""}`}}const Ke=new it;function Lt(_){return _.segments.map(E=>Ge(E)).join("/")}function on(_,E){if(!_.hasChildren())return Lt(_);if(E){const m=_.children[Gt]?on(_.children[Gt],!1):"",T=[];return pn(_.children,(O,W)=>{W!==Gt&&T.push(`${W}:${on(O,!1)}`)}),T.length>0?`${m}(${T.join("//")})`:m}{const m=function pe(_,E){let m=[];return pn(_.children,(T,O)=>{O===Gt&&(m=m.concat(E(T,O)))}),pn(_.children,(T,O)=>{O!==Gt&&(m=m.concat(E(T,O)))}),m}(_,(T,O)=>O===Gt?[on(_.children[Gt],!1)]:[`${O}:${on(T,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[Gt]?`${Lt(_)}/${m[0]}`:`${Lt(_)}/(${m.join("//")})`}}function Ln(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fr(_){return Ln(_).replace(/%3B/gi,";")}function Ve(_){return Ln(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ve(_){return decodeURIComponent(_)}function se(_){return ve(_.replace(/\+/g,"%20"))}function Ge(_){return`${Ve(_.path)}${function xe(_){return Object.keys(_).map(E=>`;${Ve(E)}=${Ve(_[E])}`).join("")}(_.parameters)}`}const wt=/^[^\/()?;=#]+/;function zt(_){const E=_.match(wt);return E?E[0]:""}const gt=/^[^=?&#]+/,vn=/^[^&#]+/;class Nr{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dt([],{}):new dt([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(E.length>0||Object.keys(m).length>0)&&(T[Gt]=new dt(E,m)),T}parseSegment(){const E=zt(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new f.vHH(4009,!1);return this.capture(E),new Mt(ve(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const m=zt(this.remaining);if(!m)return;this.capture(m);let T="";if(this.consumeOptional("=")){const O=zt(this.remaining);O&&(T=O,this.capture(T))}E[ve(m)]=ve(T)}parseQueryParam(E){const m=function rn(_){const E=_.match(gt);return E?E[0]:""}(this.remaining);if(!m)return;this.capture(m);let T="";if(this.consumeOptional("=")){const le=function xr(_){const E=_.match(vn);return E?E[0]:""}(this.remaining);le&&(T=le,this.capture(T))}const O=se(m),W=se(T);if(E.hasOwnProperty(O)){let le=E[O];Array.isArray(le)||(le=[le],E[O]=le),le.push(W)}else E[O]=W}parseParens(E){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=zt(this.remaining),O=this.remaining[T.length];if("/"!==O&&")"!==O&&";"!==O)throw new f.vHH(4010,!1);let W;T.indexOf(":")>-1?(W=T.slice(0,T.indexOf(":")),this.capture(W),this.capture(":")):E&&(W=Gt);const le=this.parseChildren();m[W]=1===Object.keys(le).length?le[Gt]:new dt([],le),this.consumeOptional("//")}return m}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new f.vHH(4011,!1)}}function Ir(_){return _.segments.length>0?new dt([],{[Gt]:_}):_}function Lr(_){const E={};for(const T of Object.keys(_.children)){const W=Lr(_.children[T]);(W.segments.length>0||W.hasChildren())&&(E[T]=W)}return function lr(_){if(1===_.numberOfChildren&&_.children[Gt]){const E=_.children[Gt];return new dt(_.segments.concat(E.segments),E.children)}return _}(new dt(_.segments,E))}function Ni(_){return _ instanceof Tt}function bi(_,E,m,T,O){if(0===m.length)return ji(E.root,E.root,E.root,T,O);const W=function ke(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new Hr(!0,0,_);let E=0,m=!1;const T=_.reduce((O,W,le)=>{if("object"==typeof W&&null!=W){if(W.outlets){const ge={};return pn(W.outlets,(Je,Nt)=>{ge[Nt]="string"==typeof Je?Je.split("/"):Je}),[...O,{outlets:ge}]}if(W.segmentPath)return[...O,W.segmentPath]}return"string"!=typeof W?[...O,W]:0===le?(W.split("/").forEach((ge,Je)=>{0==Je&&"."===ge||(0==Je&&""===ge?m=!0:".."===ge?E++:""!=ge&&O.push(ge))}),O):[...O,W]},[]);return new Hr(m,E,T)}(m);return W.toRoot()?ji(E.root,E.root,new dt([],{}),T,O):function le(Je){const Nt=function at(_,E,m,T){if(_.isAbsolute)return new Me(E.root,!0,0);if(-1===T)return new Me(m,m===E.root,0);return function It(_,E,m){let T=_,O=E,W=m;for(;W>O;){if(W-=O,T=T.parent,!T)throw new f.vHH(4005,!1);O=T.segments.length}return new Me(T,!1,O-W)}(m,T+(Xi(_.commands[0])?0:1),_.numberOfDoubleDots)}(W,E,_.snapshot?._urlSegment,Je),An=Nt.processChildren?pr(Nt.segmentGroup,Nt.index,W.commands):Mn(Nt.segmentGroup,Nt.index,W.commands);return ji(E.root,Nt.segmentGroup,An,T,O)}(_.snapshot?._lastPathIndex)}function Xi(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function Vn(_){return"object"==typeof _&&null!=_&&_.outlets}function ji(_,E,m,T,O){let le,W={};T&&pn(T,(Je,Nt)=>{W[Nt]=Array.isArray(Je)?Je.map(An=>`${An}`):`${Je}`}),le=_===E?m:ri(_,E,m);const ge=Ir(Lr(le));return new Tt(ge,W,O)}function ri(_,E,m){const T={};return pn(_.children,(O,W)=>{T[W]=O===E?m:ri(O,E,m)}),new dt(_.segments,T)}class Hr{constructor(E,m,T){if(this.isAbsolute=E,this.numberOfDoubleDots=m,this.commands=T,E&&T.length>0&&Xi(T[0]))throw new f.vHH(4003,!1);const O=T.find(Vn);if(O&&O!==jt(T))throw new f.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Me{constructor(E,m,T){this.segmentGroup=E,this.processChildren=m,this.index=T}}function Mn(_,E,m){if(_||(_=new dt([],{})),0===_.segments.length&&_.hasChildren())return pr(_,E,m);const T=function Zn(_,E,m){let T=0,O=E;const W={match:!1,pathIndex:0,commandIndex:0};for(;O<_.segments.length;){if(T>=m.length)return W;const le=_.segments[O],ge=m[T];if(Vn(ge))break;const Je=`${ge}`,Nt=T<m.length-1?m[T+1]:null;if(O>0&&void 0===Je)break;if(Je&&Nt&&"object"==typeof Nt&&void 0===Nt.outlets){if(!Gr(Je,Nt,le))return W;T+=2}else{if(!Gr(Je,{},le))return W;T++}O++}return{match:!0,pathIndex:O,commandIndex:T}}(_,E,m),O=m.slice(T.commandIndex);if(T.match&&T.pathIndex<_.segments.length){const W=new dt(_.segments.slice(0,T.pathIndex),{});return W.children[Gt]=new dt(_.segments.slice(T.pathIndex),_.children),pr(W,0,O)}return T.match&&0===O.length?new dt(_.segments,{}):T.match&&!_.hasChildren()?jr(_,E,m):T.match?pr(_,0,O):jr(_,E,m)}function pr(_,E,m){if(0===m.length)return new dt(_.segments,{});{const T=function Bt(_){return Vn(_[0])?_[0].outlets:{[Gt]:_}}(m),O={};return pn(T,(W,le)=>{"string"==typeof W&&(W=[W]),null!==W&&(O[le]=Mn(_.children[le],E,W))}),pn(_.children,(W,le)=>{void 0===T[le]&&(O[le]=W)}),new dt(_.segments,O)}}function jr(_,E,m){const T=_.segments.slice(0,E);let O=0;for(;O<m.length;){const W=m[O];if(Vn(W)){const Je=Vr(W.outlets);return new dt(T,Je)}if(0===O&&Xi(m[0])){T.push(new Mt(_.segments[E].path,vs(m[0]))),O++;continue}const le=Vn(W)?W.outlets[Gt]:`${W}`,ge=O<m.length-1?m[O+1]:null;le&&ge&&Xi(ge)?(T.push(new Mt(le,vs(ge))),O+=2):(T.push(new Mt(le,{})),O++)}return new dt(T,{})}function Vr(_){const E={};return pn(_,(m,T)=>{"string"==typeof m&&(m=[m]),null!==m&&(E[T]=jr(new dt([],{}),0,m))}),E}function vs(_){const E={};return pn(_,(m,T)=>E[T]=`${m}`),E}function Gr(_,E,m){return _==m.path&&_r(E,m.parameters)}class Qn{constructor(E,m){this.id=E,this.url=m}}class Ci extends Qn{constructor(E,m,T="imperative",O=null){super(E,m),this.type=0,this.navigationTrigger=T,this.restoredState=O}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Kr extends Qn{constructor(E,m,T){super(E,m),this.urlAfterRedirects=T,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _s extends Qn{constructor(E,m,T,O){super(E,m),this.reason=T,this.code=O,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mi extends Qn{constructor(E,m,T,O){super(E,m),this.error=T,this.target=O,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ea extends Qn{constructor(E,m,T,O){super(E,m),this.urlAfterRedirects=T,this.state=O,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Os extends Qn{constructor(E,m,T,O){super(E,m),this.urlAfterRedirects=T,this.state=O,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class to extends Qn{constructor(E,m,T,O,W){super(E,m),this.urlAfterRedirects=T,this.state=O,this.shouldActivate=W,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Es extends Qn{constructor(E,m,T,O){super(E,m),this.urlAfterRedirects=T,this.state=O,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oi extends Qn{constructor(E,m,T,O){super(E,m),this.urlAfterRedirects=T,this.state=O,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ls{constructor(E){this.route=E,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ao{constructor(E){this.route=E,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ma{constructor(E){this.snapshot=E,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zo{constructor(E){this.snapshot=E,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class no{constructor(E){this.snapshot=E,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Da{constructor(E){this.snapshot=E,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wo{constructor(E,m,T){this.routerEvent=E,this.position=m,this.anchor=T,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ks{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const m=this.pathFromRoot(E);return m.length>1?m[m.length-2]:null}children(E){const m=ws(E,this._root);return m?m.children.map(T=>T.value):[]}firstChild(E){const m=ws(E,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(E){const m=ki(E,this._root);return m.length<2?[]:m[m.length-2].children.map(O=>O.value).filter(O=>O!==E)}pathFromRoot(E){return ki(E,this._root).map(m=>m.value)}}function ws(_,E){if(_===E.value)return E;for(const m of E.children){const T=ws(_,m);if(T)return T}return null}function ki(_,E){if(_===E.value)return[E];for(const m of E.children){const T=ki(_,m);if(T.length)return T.unshift(E),T}return[]}class Fi{constructor(E,m){this.value=E,this.children=m}toString(){return`TreeNode(${this.value})`}}function nr(_){const E={};return _&&_.children.forEach(m=>E[m.value.outlet]=m),E}class ro extends ks{constructor(E,m){super(E),this.snapshot=m,Io(this,E)}toString(){return this.snapshot.toString()}}function cs(_,E){const m=function qs(_,E){const le=new Ji([],{},{},"",{},Gt,E,null,_.root,-1,{});return new zi("",new Fi(le,[]))}(_,E),T=new de([new Mt("",{})]),O=new de({}),W=new de({}),le=new de({}),ge=new de(""),Je=new Ks(T,O,le,ge,W,Gt,E,m.root);return Je.snapshot=m.root,new ro(new Fi(Je,[]),m)}class Ks{constructor(E,m,T,O,W,le,ge,Je){this.url=E,this.params=m,this.queryParams=T,this.fragment=O,this.data=W,this.outlet=le,this.component=ge,this.title=this.data?.pipe((0,He.U)(Nt=>Nt[Kn]))??me(void 0),this._futureSnapshot=Je}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,He.U)(E=>br(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,He.U)(E=>br(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wo(_,E="emptyOnly"){const m=_.pathFromRoot;let T=0;if("always"!==E)for(T=m.length-1;T>=1;){const O=m[T],W=m[T-1];if(O.routeConfig&&""===O.routeConfig.path)T--;else{if(W.component)break;T--}}return function Fs(_){return _.reduce((E,m)=>({params:{...E.params,...m.params},data:{...E.data,...m.data},resolve:{...m.data,...E.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(T))}class Ji{constructor(E,m,T,O,W,le,ge,Je,Nt,An,Ht,$r){this.url=E,this.params=m,this.queryParams=T,this.fragment=O,this.data=W,this.outlet=le,this.component=ge,this.title=this.data?.[Kn],this.routeConfig=Je,this._urlSegment=Nt,this._lastPathIndex=An,this._correctedLastPathIndex=$r??An,this._resolve=Ht}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=br(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=br(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class zi extends ks{constructor(E,m){super(m),this.url=E,Io(this,m)}toString(){return es(this._root)}}function Io(_,E){E.value._routerState=_,E.children.forEach(m=>Io(_,m))}function es(_){const E=_.children.length>0?` { ${_.children.map(es).join(", ")} } `:"";return`${_.value}${E}`}function Qr(_){if(_.snapshot){const E=_.snapshot,m=_._futureSnapshot;_.snapshot=m,_r(E.queryParams,m.queryParams)||_.queryParams.next(m.queryParams),E.fragment!==m.fragment&&_.fragment.next(m.fragment),_r(E.params,m.params)||_.params.next(m.params),function Hi(_,E){if(_.length!==E.length)return!1;for(let m=0;m<_.length;++m)if(!_r(_[m],E[m]))return!1;return!0}(E.url,m.url)||_.url.next(m.url),_r(E.data,m.data)||_.data.next(m.data)}else _.snapshot=_._futureSnapshot,_.data.next(_._futureSnapshot.data)}function io(_,E){const m=_r(_.params,E.params)&&function Tn(_,E){return ye(_,E)&&_.every((m,T)=>_r(m.parameters,E[T].parameters))}(_.url,E.url);return m&&!(!_.parent!=!E.parent)&&(!_.parent||io(_.parent,E.parent))}function Is(_,E,m){if(m&&_.shouldReuseRoute(E.value,m.value.snapshot)){const T=m.value;T._futureSnapshot=E.value;const O=function Ds(_,E,m){return E.children.map(T=>{for(const O of m.children)if(_.shouldReuseRoute(T.value,O.value.snapshot))return Is(_,T,O);return Is(_,T)})}(_,E,m);return new Fi(T,O)}{if(_.shouldAttach(E.value)){const W=_.retrieve(E.value);if(null!==W){const le=W.route;return le.value._futureSnapshot=E.value,le.children=E.children.map(ge=>Is(_,ge)),le}}const T=function xo(_){return new Ks(new de(_.url),new de(_.params),new de(_.queryParams),new de(_.fragment),new de(_.data),_.outlet,_.component,_)}(E.value),O=E.children.map(W=>Is(_,W));return new Fi(T,O)}}const Ai="ngNavigationCancelingError";function Wi(_,E){const{redirectTo:m,navigationBehaviorOptions:T}=Ni(E)?{redirectTo:E,navigationBehaviorOptions:void 0}:E,O=Ys(!1,0,E);return O.url=m,O.navigationBehaviorOptions=T,O}function Ys(_,E,m){const T=new Error("NavigationCancelingError: "+(_||""));return T[Ai]=!0,T.cancellationCode=E,m&&(T.url=m),T}function Ur(_){return Ls(_)&&Ni(_.url)}function Ls(_){return _&&_[Ai]}class os{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Sn,this.attachRef=null}}let Sn=(()=>{class _{constructor(){this.contexts=new Map}onChildOutletCreated(m,T){const O=this.getOrCreateContext(m);O.outlet=T,this.contexts.set(m,O)}onChildOutletDestroyed(m){const T=this.getContext(m);T&&(T.outlet=null,T.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let T=this.getContext(m);return T||(T=new os,this.contexts.set(m,T)),T}getContext(m){return this.contexts.get(m)||null}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=f.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Vs=!1;let Zs=(()=>{class _{constructor(m,T,O,W,le){this.parentContexts=m,this.location=T,this.changeDetector=W,this.environmentInjector=le,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=O||Gt,m.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const m=this.parentContexts.getContext(this.name);m&&m.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,Vs);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,Vs);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,Vs);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,T){this.activated=m,this._activatedRoute=T,this.location.insert(m.hostView),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,T){if(this.isActivated)throw new f.vHH(4013,Vs);this._activatedRoute=m;const O=this.location,le=m._futureSnapshot.component,ge=this.parentContexts.getOrCreateContext(this.name).children,Je=new ds(m,ge,O.injector);if(T&&function pi(_){return!!_.resolveComponentFactory}(T)){const Nt=T.resolveComponentFactory(le);this.activated=O.createComponent(Nt,O.length,Je)}else this.activated=O.createComponent(le,{index:O.length,injector:Je,environmentInjector:T??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return _.\u0275fac=function(m){return new(m||_)(f.Y36(Sn),f.Y36(f.s_b),f.$8M("name"),f.Y36(f.sBO),f.Y36(f.lqb))},_.\u0275dir=f.lG2({type:_,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),_})();class ds{constructor(E,m,T){this.route=E,this.childContexts=m,this.parent=T}get(E,m){return E===Ks?this.route:E===Sn?this.childContexts:this.parent.get(E,m)}}let so=(()=>{class _{}return _.\u0275fac=function(m){return new(m||_)},_.\u0275cmp=f.Xpm({type:_,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(m,T){1&m&&f._UZ(0,"router-outlet")},dependencies:[Zs],encapsulation:2}),_})();function Br(_,E){return _.providers&&!_._injector&&(_._injector=(0,f.MMx)(_.providers,E,`Route: ${_.path}`)),_._injector??E}function $t(_){const E=_.children&&_.children.map($t),m=E?{..._,children:E}:{..._};return!m.component&&!m.loadComponent&&(E||m.loadChildren)&&m.outlet&&m.outlet!==Gt&&(m.component=so),m}function Mi(_){return _.outlet||Gt}function ao(_,E){const m=_.filter(T=>Mi(T)===E);return m.push(..._.filter(T=>Mi(T)!==E)),m}function uo(_){if(!_)return null;if(_.routeConfig?._injector)return _.routeConfig._injector;for(let E=_.parent;E;E=E.parent){const m=E.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class ta{constructor(E,m,T,O){this.routeReuseStrategy=E,this.futureState=m,this.currState=T,this.forwardEvent=O}activate(E){const m=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,T,E),Qr(this.futureState.root),this.activateChildRoutes(m,T,E)}deactivateChildRoutes(E,m,T){const O=nr(m);E.children.forEach(W=>{const le=W.value.outlet;this.deactivateRoutes(W,O[le],T),delete O[le]}),pn(O,(W,le)=>{this.deactivateRouteAndItsChildren(W,T)})}deactivateRoutes(E,m,T){const O=E.value,W=m?m.value:null;if(O===W)if(O.component){const le=T.getContext(O.outlet);le&&this.deactivateChildRoutes(E,m,le.children)}else this.deactivateChildRoutes(E,m,T);else W&&this.deactivateRouteAndItsChildren(m,T)}deactivateRouteAndItsChildren(E,m){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,m):this.deactivateRouteAndOutlet(E,m)}detachAndStoreRouteSubtree(E,m){const T=m.getContext(E.value.outlet),O=T&&E.value.component?T.children:m,W=nr(E);for(const le of Object.keys(W))this.deactivateRouteAndItsChildren(W[le],O);if(T&&T.outlet){const le=T.outlet.detach(),ge=T.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:le,route:E,contexts:ge})}}deactivateRouteAndOutlet(E,m){const T=m.getContext(E.value.outlet),O=T&&E.value.component?T.children:m,W=nr(E);for(const le of Object.keys(W))this.deactivateRouteAndItsChildren(W[le],O);T&&T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated(),T.attachRef=null,T.resolver=null,T.route=null)}activateChildRoutes(E,m,T){const O=nr(m);E.children.forEach(W=>{this.activateRoutes(W,O[W.value.outlet],T),this.forwardEvent(new Da(W.value.snapshot))}),E.children.length&&this.forwardEvent(new zo(E.value.snapshot))}activateRoutes(E,m,T){const O=E.value,W=m?m.value:null;if(Qr(O),O===W)if(O.component){const le=T.getOrCreateContext(O.outlet);this.activateChildRoutes(E,m,le.children)}else this.activateChildRoutes(E,m,T);else if(O.component){const le=T.getOrCreateContext(O.outlet);if(this.routeReuseStrategy.shouldAttach(O.snapshot)){const ge=this.routeReuseStrategy.retrieve(O.snapshot);this.routeReuseStrategy.store(O.snapshot,null),le.children.onOutletReAttached(ge.contexts),le.attachRef=ge.componentRef,le.route=ge.route.value,le.outlet&&le.outlet.attach(ge.componentRef,ge.route.value),Qr(ge.route.value),this.activateChildRoutes(E,null,le.children)}else{const ge=uo(O.snapshot),Je=ge?.get(f._Vd)??null;le.attachRef=null,le.route=O,le.resolver=Je,le.injector=ge,le.outlet&&le.outlet.activateWith(O,le.injector),this.activateChildRoutes(E,null,le.children)}}else this.activateChildRoutes(E,null,T)}}class bs{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class na{constructor(E,m){this.component=E,this.route=m}}function fs(_,E,m){const T=_._root;return lo(T,E?E._root:null,m,[T.value])}function _n(_,E){const m=Symbol(),T=E.get(_,m);return T===m?"function"!=typeof _||(0,f.Z0I)(_)?E.get(_):_:T}function lo(_,E,m,T,O={canDeactivateChecks:[],canActivateChecks:[]}){const W=nr(E);return _.children.forEach(le=>{(function co(_,E,m,T,O={canDeactivateChecks:[],canActivateChecks:[]}){const W=_.value,le=E?E.value:null,ge=m?m.getContext(_.value.outlet):null;if(le&&W.routeConfig===le.routeConfig){const Je=function F(_,E,m){if("function"==typeof m)return m(_,E);switch(m){case"pathParamsChange":return!ye(_.url,E.url);case"pathParamsOrQueryParamsChange":return!ye(_.url,E.url)||!_r(_.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!io(_,E)||!_r(_.queryParams,E.queryParams);default:return!io(_,E)}}(le,W,W.routeConfig.runGuardsAndResolvers);Je?O.canActivateChecks.push(new bs(T)):(W.data=le.data,W._resolvedData=le._resolvedData),lo(_,E,W.component?ge?ge.children:null:m,T,O),Je&&ge&&ge.outlet&&ge.outlet.isActivated&&O.canDeactivateChecks.push(new na(ge.outlet.component,le))}else le&&k(E,ge,O),O.canActivateChecks.push(new bs(T)),lo(_,null,W.component?ge?ge.children:null:m,T,O)})(le,W[le.value.outlet],m,T.concat([le.value]),O),delete W[le.value.outlet]}),pn(W,(le,ge)=>k(le,m.getContext(ge),O)),O}function k(_,E,m){const T=nr(_),O=_.value;pn(T,(W,le)=>{k(W,O.component?E?E.children.getContext(le):null:E,m)}),m.canDeactivateChecks.push(new na(O.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,O))}function x(_){return"function"==typeof _}function vi(_){return _ instanceof he||"EmptyError"===_?.name}const Xs=Symbol("INITIAL_VALUE");function Ti(){return Ae(_=>St(_.map(E=>E.pipe((0,ot.q)(1),function At(..._){const E=(0,be.yG)(_);return(0,Pe.e)((m,T)=>{(E?ce(_,m,E):ce(_,m)).subscribe(T)})}(Xs)))).pipe((0,He.U)(E=>{for(const m of E)if(!0!==m){if(m===Xs)return Xs;if(!1===m||m instanceof Tt)return m}return!0}),(0,Rt.h)(E=>E!==Xs),(0,ot.q)(1)))}function R(_){return(0,lt.z)((0,Cn.b)(E=>{if(Ni(E))throw Wi(0,E)}),(0,He.U)(E=>!0===E))}const Ee={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function et(_,E,m,T,O){const W=ct(_,E,m);return W.matched?function K(_,E,m,T){const O=E.canMatch;return O&&0!==O.length?me(O.map(le=>{const ge=_n(le,_);return ur(function Bs(_){return _&&x(_.canMatch)}(ge)?ge.canMatch(E,m):_.runInContext(()=>ge(E,m)))})).pipe(Ti(),R()):me(!0)}(T=Br(E,T),E,m).pipe((0,He.U)(le=>!0===le?W:{...Ee})):me(W)}function ct(_,E,m){if(""===E.path)return"full"===E.pathMatch&&(_.hasChildren()||m.length>0)?{...Ee}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const O=(E.matcher||fr)(m,_,E);if(!O)return{...Ee};const W={};pn(O.posParams,(ge,Je)=>{W[Je]=ge.path});const le=O.consumed.length>0?{...W,...O.consumed[O.consumed.length-1].parameters}:W;return{matched:!0,consumedSegments:O.consumed,remainingSegments:m.slice(O.consumed.length),parameters:le,positionalParamSegments:O.posParams??{}}}function Yt(_,E,m,T,O="corrected"){if(m.length>0&&function Cr(_,E,m){return m.some(T=>Xn(_,E,T)&&Mi(T)!==Gt)}(_,m,T)){const le=new dt(E,function gr(_,E,m,T){const O={};O[Gt]=T,T._sourceSegment=_,T._segmentIndexShift=E.length;for(const W of m)if(""===W.path&&Mi(W)!==Gt){const le=new dt([],{});le._sourceSegment=_,le._segmentIndexShift=E.length,O[Mi(W)]=le}return O}(_,E,T,new dt(m,_.children)));return le._sourceSegment=_,le._segmentIndexShift=E.length,{segmentGroup:le,slicedSegments:[]}}if(0===m.length&&function mr(_,E,m){return m.some(T=>Xn(_,E,T))}(_,m,T)){const le=new dt(_.segments,function Er(_,E,m,T,O,W){const le={};for(const ge of T)if(Xn(_,m,ge)&&!O[Mi(ge)]){const Je=new dt([],{});Je._sourceSegment=_,Je._segmentIndexShift="legacy"===W?_.segments.length:E.length,le[Mi(ge)]=Je}return{...O,...le}}(_,E,m,T,_.children,O));return le._sourceSegment=_,le._segmentIndexShift=E.length,{segmentGroup:le,slicedSegments:m}}const W=new dt(_.segments,_.children);return W._sourceSegment=_,W._segmentIndexShift=E.length,{segmentGroup:W,slicedSegments:m}}function Xn(_,E,m){return(!(_.hasChildren()||E.length>0)||"full"!==m.pathMatch)&&""===m.path}function yr(_,E,m,T){return!!(Mi(_)===T||T!==Gt&&Xn(E,m,_))&&("**"===_.path||ct(E,_,m).matched)}function Bn(_,E,m){return 0===E.length&&!_.children[m]}const fo=!1;class ps{constructor(E){this.segmentGroup=E||null}}class Or{constructor(E){this.urlTree=E}}function Li(_){return Re(new ps(_))}function qi(_){return Re(new Or(_))}class U{constructor(E,m,T,O,W){this.injector=E,this.configLoader=m,this.urlSerializer=T,this.urlTree=O,this.config=W,this.allowRedirects=!0}apply(){const E=Yt(this.urlTree.root,[],[],this.config).segmentGroup,m=new dt(E.segments,E.children);return this.expandSegmentGroup(this.injector,this.config,m,Gt).pipe((0,He.U)(W=>this.createUrlTree(Lr(W),this.urlTree.queryParams,this.urlTree.fragment))).pipe(cn(W=>{if(W instanceof Or)return this.allowRedirects=!1,this.match(W.urlTree);throw W instanceof ps?this.noMatchError(W):W}))}match(E){return this.expandSegmentGroup(this.injector,this.config,E.root,Gt).pipe((0,He.U)(O=>this.createUrlTree(Lr(O),E.queryParams,E.fragment))).pipe(cn(O=>{throw O instanceof ps?this.noMatchError(O):O}))}noMatchError(E){return new f.vHH(4002,fo)}createUrlTree(E,m,T){const O=Ir(E);return new Tt(O,m,T)}expandSegmentGroup(E,m,T,O){return 0===T.segments.length&&T.hasChildren()?this.expandChildren(E,m,T).pipe((0,He.U)(W=>new dt([],W))):this.expandSegment(E,T,m,T.segments,O,!0)}expandChildren(E,m,T){const O=[];for(const W of Object.keys(T.children))"primary"===W?O.unshift(W):O.push(W);return(0,j.D)(O).pipe(dn(W=>{const le=T.children[W],ge=ao(m,W);return this.expandSegmentGroup(E,ge,le,W).pipe((0,He.U)(Je=>({segment:Je,outlet:W})))}),or((W,le)=>(W[le.outlet]=le.segment,W),{}),vr())}expandSegment(E,m,T,O,W,le){return(0,j.D)(T).pipe(dn(ge=>this.expandSegmentAgainstRoute(E,m,T,ge,O,W,le).pipe(cn(Nt=>{if(Nt instanceof ps)return me(null);throw Nt}))),yn(ge=>!!ge),cn((ge,Je)=>{if(vi(ge))return Bn(m,O,W)?me(new dt([],{})):Li(m);throw ge}))}expandSegmentAgainstRoute(E,m,T,O,W,le,ge){return yr(O,m,W,le)?void 0===O.redirectTo?this.matchSegmentAgainstRoute(E,m,O,W,le):ge&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,m,T,O,W,le):Li(m):Li(m)}expandSegmentAgainstRouteUsingRedirect(E,m,T,O,W,le){return"**"===O.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,T,O,le):this.expandRegularSegmentAgainstRouteUsingRedirect(E,m,T,O,W,le)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,m,T,O){const W=this.applyRedirectCommands([],T.redirectTo,{});return T.redirectTo.startsWith("/")?qi(W):this.lineralizeSegments(T,W).pipe((0,en.z)(le=>{const ge=new dt(le,{});return this.expandSegment(E,ge,m,le,O,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,m,T,O,W,le){const{matched:ge,consumedSegments:Je,remainingSegments:Nt,positionalParamSegments:An}=ct(m,O,W);if(!ge)return Li(m);const Ht=this.applyRedirectCommands(Je,O.redirectTo,An);return O.redirectTo.startsWith("/")?qi(Ht):this.lineralizeSegments(O,Ht).pipe((0,en.z)($r=>this.expandSegment(E,m,T,$r.concat(Nt),le,!1)))}matchSegmentAgainstRoute(E,m,T,O,W){return"**"===T.path?(E=Br(T,E),T.loadChildren?(T._loadedRoutes?me({routes:T._loadedRoutes,injector:T._loadedInjector}):this.configLoader.loadChildren(E,T)).pipe((0,He.U)(ge=>(T._loadedRoutes=ge.routes,T._loadedInjector=ge.injector,new dt(O,{})))):me(new dt(O,{}))):et(m,T,O,E).pipe(Ae(({matched:le,consumedSegments:ge,remainingSegments:Je})=>le?this.getChildConfig(E=T._injector??E,T,O).pipe((0,en.z)(An=>{const Ht=An.injector??E,$r=An.routes,{segmentGroup:xs,slicedSegments:po}=Yt(m,ge,Je,$r),eo=new dt(xs.segments,xs.children);if(0===po.length&&eo.hasChildren())return this.expandChildren(Ht,$r,eo).pipe((0,He.U)(Sr=>new dt(ge,Sr)));if(0===$r.length&&0===po.length)return me(new dt(ge,{}));const is=Mi(T)===W;return this.expandSegment(Ht,eo,$r,po,is?Gt:W,!0).pipe((0,He.U)(Qo=>new dt(ge.concat(Qo.segments),Qo.children)))})):Li(m)))}getChildConfig(E,m,T){return m.children?me({routes:m.children,injector:E}):m.loadChildren?void 0!==m._loadedRoutes?me({routes:m._loadedRoutes,injector:m._loadedInjector}):function $(_,E,m,T){const O=E.canLoad;return void 0===O||0===O.length?me(!0):me(O.map(le=>{const ge=_n(le,_);return ur(function Ze(_){return _&&x(_.canLoad)}(ge)?ge.canLoad(E,m):_.runInContext(()=>ge(E,m)))})).pipe(Ti(),R())}(E,m,T).pipe((0,en.z)(O=>O?this.configLoader.loadChildren(E,m).pipe((0,Cn.b)(W=>{m._loadedRoutes=W.routes,m._loadedInjector=W.injector})):function Ro(_){return Re(Ys(fo,3))}())):me({routes:[],injector:E})}lineralizeSegments(E,m){let T=[],O=m.root;for(;;){if(T=T.concat(O.segments),0===O.numberOfChildren)return me(T);if(O.numberOfChildren>1||!O.children[Gt])return Re(new f.vHH(4e3,fo));O=O.children[Gt]}}applyRedirectCommands(E,m,T){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),E,T)}applyRedirectCreateUrlTree(E,m,T,O){const W=this.createSegmentGroup(E,m.root,T,O);return new Tt(W,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(E,m){const T={};return pn(E,(O,W)=>{if("string"==typeof O&&O.startsWith(":")){const ge=O.substring(1);T[W]=m[ge]}else T[W]=O}),T}createSegmentGroup(E,m,T,O){const W=this.createSegments(E,m.segments,T,O);let le={};return pn(m.children,(ge,Je)=>{le[Je]=this.createSegmentGroup(E,ge,T,O)}),new dt(W,le)}createSegments(E,m,T,O){return m.map(W=>W.path.startsWith(":")?this.findPosParam(E,W,O):this.findOrReturn(W,T))}findPosParam(E,m,T){const O=T[m.path.substring(1)];if(!O)throw new f.vHH(4001,fo);return O}findOrReturn(E,m){let T=0;for(const O of m){if(O.path===E.path)return m.splice(T),O;T++}return E}}class M{}class re{constructor(E,m,T,O,W,le,ge,Je){this.injector=E,this.rootComponentType=m,this.config=T,this.urlTree=O,this.url=W,this.paramsInheritanceStrategy=le,this.relativeLinkResolution=ge,this.urlSerializer=Je}recognize(){const E=Yt(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,E,Gt).pipe((0,He.U)(m=>{if(null===m)return null;const T=new Ji([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Gt,this.rootComponentType,null,this.urlTree.root,-1,{}),O=new Fi(T,m),W=new zi(this.url,O);return this.inheritParamsAndData(W._root),W}))}inheritParamsAndData(E){const m=E.value,T=wo(m,this.paramsInheritanceStrategy);m.params=Object.freeze(T.params),m.data=Object.freeze(T.data),E.children.forEach(O=>this.inheritParamsAndData(O))}processSegmentGroup(E,m,T,O){return 0===T.segments.length&&T.hasChildren()?this.processChildren(E,m,T):this.processSegment(E,m,T,T.segments,O)}processChildren(E,m,T){return(0,j.D)(Object.keys(T.children)).pipe(dn(O=>{const W=T.children[O],le=ao(m,O);return this.processSegmentGroup(E,le,W,O)}),or((O,W)=>O&&W?(O.push(...W),O):null),function ei(_,E=!1){return(0,Pe.e)((m,T)=>{let O=0;m.subscribe((0,Be.x)(T,W=>{const le=_(W,O++);(le||E)&&T.next(W),!le&&T.complete()}))})}(O=>null!==O),bn(null),vr(),(0,He.U)(O=>{if(null===O)return null;const W=qt(O);return function Z(_){_.sort((E,m)=>E.value.outlet===Gt?-1:m.value.outlet===Gt?1:E.value.outlet.localeCompare(m.value.outlet))}(W),W}))}processSegment(E,m,T,O,W){return(0,j.D)(m).pipe(dn(le=>this.processSegmentAgainstRoute(le._injector??E,le,T,O,W)),yn(le=>!!le),cn(le=>{if(vi(le))return Bn(T,O,W)?me([]):me(null);throw le}))}processSegmentAgainstRoute(E,m,T,O,W){if(m.redirectTo||!yr(m,T,O,W))return me(null);let le;if("**"===m.path){const ge=O.length>0?jt(O).parameters:{},Je=Jn(T)+O.length;le=me({snapshot:new Ji(O,ge,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kn(m),Mi(m),m.component??m._loadedComponent??null,m,xn(T),Je,Dr(m),Je),consumedSegments:[],remainingSegments:[]})}else le=et(T,m,O,E).pipe((0,He.U)(({matched:ge,consumedSegments:Je,remainingSegments:Nt,parameters:An})=>{if(!ge)return null;const Ht=Jn(T)+Je.length;return{snapshot:new Ji(Je,An,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kn(m),Mi(m),m.component??m._loadedComponent??null,m,xn(T),Ht,Dr(m),Ht),consumedSegments:Je,remainingSegments:Nt}}));return le.pipe(Ae(ge=>{if(null===ge)return me(null);const{snapshot:Je,consumedSegments:Nt,remainingSegments:An}=ge;E=m._injector??E;const Ht=m._loadedInjector??E,$r=function fe(_){return _.children?_.children:_.loadChildren?_._loadedRoutes:[]}(m),{segmentGroup:xs,slicedSegments:po}=Yt(T,Nt,An,$r.filter(is=>void 0===is.redirectTo),this.relativeLinkResolution);if(0===po.length&&xs.hasChildren())return this.processChildren(Ht,$r,xs).pipe((0,He.U)(is=>null===is?null:[new Fi(Je,is)]));if(0===$r.length&&0===po.length)return me([new Fi(Je,[])]);const eo=Mi(m)===W;return this.processSegment(Ht,$r,xs,po,eo?Gt:W).pipe((0,He.U)(is=>null===is?null:[new Fi(Je,is)]))}))}}function rt(_){const E=_.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function qt(_){const E=[],m=new Set;for(const T of _){if(!rt(T)){E.push(T);continue}const O=E.find(W=>T.value.routeConfig===W.value.routeConfig);void 0!==O?(O.children.push(...T.children),m.add(O)):E.push(T)}for(const T of m){const O=qt(T.children);E.push(new Fi(T.value,O))}return E.filter(T=>!m.has(T))}function xn(_){let E=_;for(;E._sourceSegment;)E=E._sourceSegment;return E}function Jn(_){let E=_,m=E._segmentIndexShift??0;for(;E._sourceSegment;)E=E._sourceSegment,m+=E._segmentIndexShift??0;return m-1}function kn(_){return _.data||{}}function Dr(_){return _.resolve||{}}function ci(_){return"string"==typeof _.title||null===_.title}function rr(_){return Ae(E=>{const m=_(E);return m?(0,j.D)(m).pipe((0,He.U)(()=>E)):me(E)})}let gn=(()=>{class _{buildTitle(m){let T,O=m.root;for(;void 0!==O;)T=this.getResolvedTitleForRoute(O)??T,O=O.children.find(W=>W.outlet===Gt);return T}getResolvedTitleForRoute(m){return m.data[Kn]}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=f.Yz7({token:_,factory:function(){return(0,f.f3M)(ns)},providedIn:"root"}),_})(),ns=(()=>{class _ extends gn{constructor(m){super(),this.title=m}updateTitle(m){const T=this.buildTitle(m);void 0!==T&&this.title.setTitle(T)}}return _.\u0275fac=function(m){return new(m||_)(f.LFG(ar.Dx))},_.\u0275prov=f.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();class No{}class Ot extends class er{shouldDetach(E){return!1}store(E,m){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,m){return E.routeConfig===m.routeConfig}}{}const Zt=new f.OlP("",{providedIn:"root",factory:()=>({})}),wn=new f.OlP("ROUTES");let Un=(()=>{class _{constructor(m,T){this.injector=m,this.compiler=T,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return me(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const T=ur(m.loadComponent()).pipe((0,Cn.b)(W=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=W}),Rr(()=>{this.componentLoaders.delete(m)})),O=new Fe(T,()=>new z.x).pipe(Ye());return this.componentLoaders.set(m,O),O}loadChildren(m,T){if(this.childrenLoaders.get(T))return this.childrenLoaders.get(T);if(T._loadedRoutes)return me({routes:T._loadedRoutes,injector:T._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(T);const W=this.loadModuleFactoryOrRoutes(T.loadChildren).pipe((0,He.U)(ge=>{this.onLoadEndListener&&this.onLoadEndListener(T);let Je,Nt,An=!1;Array.isArray(ge)?Nt=ge:(Je=ge.create(m).injector,Nt=xt(Je.get(wn,[],f.XFs.Self|f.XFs.Optional)));return{routes:Nt.map($t),injector:Je}}),Rr(()=>{this.childrenLoaders.delete(T)})),le=new Fe(W,()=>new z.x).pipe(Ye());return this.childrenLoaders.set(T,le),le}loadModuleFactoryOrRoutes(m){return ur(m()).pipe((0,en.z)(T=>T instanceof f.YKP||Array.isArray(T)?me(T):(0,j.D)(this.compiler.compileModuleAsync(T))))}}return _.\u0275fac=function(m){return new(m||_)(f.LFG(f.zs3),f.LFG(f.Sil))},_.\u0275prov=f.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();class Ui{}class xi{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,m){return E}}function Js(_){throw _}function sr(_,E,m){return E.parse("/")}const ka={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ko={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Ki(){const _=(0,f.f3M)(Te),E=(0,f.f3M)(Sn),m=(0,f.f3M)(je.Ye),T=(0,f.f3M)(f.zs3),O=(0,f.f3M)(f.Sil),W=(0,f.f3M)(wn,{optional:!0})??[],le=(0,f.f3M)(Zt,{optional:!0})??{},ge=(0,f.f3M)(ns),Je=(0,f.f3M)(gn,{optional:!0}),Nt=(0,f.f3M)(Ui,{optional:!0}),An=(0,f.f3M)(No,{optional:!0}),Ht=new Tr(null,_,E,m,T,O,xt(W));return Nt&&(Ht.urlHandlingStrategy=Nt),An&&(Ht.routeReuseStrategy=An),Ht.titleStrategy=Je??ge,function Si(_,E){_.errorHandler&&(E.errorHandler=_.errorHandler),_.malformedUriErrorHandler&&(E.malformedUriErrorHandler=_.malformedUriErrorHandler),_.onSameUrlNavigation&&(E.onSameUrlNavigation=_.onSameUrlNavigation),_.paramsInheritanceStrategy&&(E.paramsInheritanceStrategy=_.paramsInheritanceStrategy),_.relativeLinkResolution&&(E.relativeLinkResolution=_.relativeLinkResolution),_.urlUpdateStrategy&&(E.urlUpdateStrategy=_.urlUpdateStrategy),_.canceledNavigationResolution&&(E.canceledNavigationResolution=_.canceledNavigationResolution)}(le,Ht),Ht}let Tr=(()=>{class _{constructor(m,T,O,W,le,ge,Je){this.rootComponentType=m,this.urlSerializer=T,this.rootContexts=O,this.location=W,this.config=Je,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new z.x,this.errorHandler=Js,this.malformedUriErrorHandler=sr,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>me(void 0),this.urlHandlingStrategy=new xi,this.routeReuseStrategy=new Ot,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=le.get(Un),this.configLoader.onLoadEndListener=$r=>this.triggerEvent(new Ao($r)),this.configLoader.onLoadStartListener=$r=>this.triggerEvent(new ls($r)),this.ngModule=le.get(f.h0i),this.console=le.get(f.c2e);const Ht=le.get(f.R0b);this.isNgZoneEnabled=Ht instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(Je),this.currentUrlTree=function Zr(){return new Tt(new dt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=cs(this.currentUrlTree,this.rootComponentType),this.transitions=new de({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(m){const T=this.events;return m.pipe((0,Rt.h)(O=>0!==O.id),(0,He.U)(O=>({...O,extractedUrl:this.urlHandlingStrategy.extract(O.rawUrl)})),Ae(O=>{let W=!1,le=!1;return me(O).pipe((0,Cn.b)(ge=>{this.currentNavigation={id:ge.id,initialUrl:ge.rawUrl,extractedUrl:ge.extractedUrl,trigger:ge.source,extras:ge.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ae(ge=>{const Je=this.browserUrlTree.toString(),Nt=!this.navigated||ge.extractedUrl.toString()!==Je||Je!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Nt)&&this.urlHandlingStrategy.shouldProcessUrl(ge.rawUrl))return Ts(ge.source)&&(this.browserUrlTree=ge.extractedUrl),me(ge).pipe(Ae(Ht=>{const $r=this.transitions.getValue();return T.next(new Ci(Ht.id,this.serializeUrl(Ht.extractedUrl),Ht.source,Ht.restoredState)),$r!==this.transitions.getValue()?st.E:Promise.resolve(Ht)}),function v(_,E,m,T){return Ae(O=>function bt(_,E,m,T,O){return new U(_,E,m,T,O).apply()}(_,E,m,O.extractedUrl,T).pipe((0,He.U)(W=>({...O,urlAfterRedirects:W}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Cn.b)(Ht=>{this.currentNavigation={...this.currentNavigation,finalUrl:Ht.urlAfterRedirects},O.urlAfterRedirects=Ht.urlAfterRedirects}),function Pr(_,E,m,T,O,W){return(0,en.z)(le=>function J(_,E,m,T,O,W,le="emptyOnly",ge="legacy"){return new re(_,E,m,T,O,le,ge,W).recognize().pipe(Ae(Je=>null===Je?function B(_){return new Ne.y(E=>E.error(_))}(new M):me(Je)))}(_,E,m,le.urlAfterRedirects,T.serialize(le.urlAfterRedirects),T,O,W).pipe((0,He.U)(ge=>({...le,targetSnapshot:ge}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Cn.b)(Ht=>{if(O.targetSnapshot=Ht.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Ht.extras.skipLocationChange){const xs=this.urlHandlingStrategy.merge(Ht.urlAfterRedirects,Ht.rawUrl);this.setBrowserUrl(xs,Ht)}this.browserUrlTree=Ht.urlAfterRedirects}const $r=new ea(Ht.id,this.serializeUrl(Ht.extractedUrl),this.serializeUrl(Ht.urlAfterRedirects),Ht.targetSnapshot);T.next($r)}));if(Nt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:$r,extractedUrl:xs,source:po,restoredState:eo,extras:is}=ge,Zi=new Ci($r,this.serializeUrl(xs),po,eo);T.next(Zi);const Qo=cs(xs,this.rootComponentType).snapshot;return me(O={...ge,targetSnapshot:Qo,urlAfterRedirects:xs,extras:{...is,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=ge.rawUrl,ge.resolve(null),st.E}),(0,Cn.b)(ge=>{const Je=new Os(ge.id,this.serializeUrl(ge.extractedUrl),this.serializeUrl(ge.urlAfterRedirects),ge.targetSnapshot);this.triggerEvent(Je)}),(0,He.U)(ge=>O={...ge,guards:fs(ge.targetSnapshot,ge.currentSnapshot,this.rootContexts)}),function $s(_,E){return(0,en.z)(m=>{const{targetSnapshot:T,currentSnapshot:O,guards:{canActivateChecks:W,canDeactivateChecks:le}}=m;return 0===le.length&&0===W.length?me({...m,guardsResult:!0}):function ho(_,E,m,T){return(0,j.D)(_).pipe((0,en.z)(O=>function A(_,E,m,T,O){const W=E&&E.routeConfig?E.routeConfig.canDeactivate:null;return W&&0!==W.length?me(W.map(ge=>{const Je=uo(E)??O,Nt=_n(ge,Je);return ur(function ts(_){return _&&x(_.canDeactivate)}(Nt)?Nt.canDeactivate(_,E,m,T):Je.runInContext(()=>Nt(_,E,m,T))).pipe(yn())})).pipe(Ti()):me(!0)}(O.component,O.route,m,E,T)),yn(O=>!0!==O,!0))}(le,T,O,_).pipe((0,en.z)(ge=>ge&&function Y(_){return"boolean"==typeof _}(ge)?function ba(_,E,m,T){return(0,j.D)(E).pipe(dn(O=>ce(function ia(_,E){return null!==_&&E&&E(new ma(_)),me(!0)}(O.route.parent,T),function ra(_,E){return null!==_&&E&&E(new no(_)),me(!0)}(O.route,T),function qo(_,E,m){const T=E[E.length-1],W=E.slice(0,E.length-1).reverse().map(le=>function mt(_){const E=_.routeConfig?_.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:_,guards:E}:null}(le)).filter(le=>null!==le).map(le=>_e(()=>me(le.guards.map(Je=>{const Nt=uo(le.node)??m,An=_n(Je,Nt);return ur(function zr(_){return _&&x(_.canActivateChild)}(An)?An.canActivateChild(T,_):Nt.runInContext(()=>An(T,_))).pipe(yn())})).pipe(Ti())));return me(W).pipe(Ti())}(_,O.path,m),function Do(_,E,m){const T=E.routeConfig?E.routeConfig.canActivate:null;if(!T||0===T.length)return me(!0);const O=T.map(W=>_e(()=>{const le=uo(E)??m,ge=_n(W,le);return ur(function Wt(_){return _&&x(_.canActivate)}(ge)?ge.canActivate(E,_):le.runInContext(()=>ge(E,_))).pipe(yn())}));return me(O).pipe(Ti())}(_,O.route,m))),yn(O=>!0!==O,!0))}(T,W,_,E):me(ge)),(0,He.U)(ge=>({...m,guardsResult:ge})))})}(this.ngModule.injector,ge=>this.triggerEvent(ge)),(0,Cn.b)(ge=>{if(O.guardsResult=ge.guardsResult,Ni(ge.guardsResult))throw Wi(0,ge.guardsResult);const Je=new to(ge.id,this.serializeUrl(ge.extractedUrl),this.serializeUrl(ge.urlAfterRedirects),ge.targetSnapshot,!!ge.guardsResult);this.triggerEvent(Je)}),(0,Rt.h)(ge=>!!ge.guardsResult||(this.restoreHistory(ge),this.cancelNavigationTransition(ge,"",3),!1)),rr(ge=>{if(ge.guards.canActivateChecks.length)return me(ge).pipe((0,Cn.b)(Je=>{const Nt=new Es(Je.id,this.serializeUrl(Je.extractedUrl),this.serializeUrl(Je.urlAfterRedirects),Je.targetSnapshot);this.triggerEvent(Nt)}),Ae(Je=>{let Nt=!1;return me(Je).pipe(function Vi(_,E){return(0,en.z)(m=>{const{targetSnapshot:T,guards:{canActivateChecks:O}}=m;if(!O.length)return me(m);let W=0;return(0,j.D)(O).pipe(dn(le=>function cr(_,E,m,T){const O=_.routeConfig,W=_._resolve;return void 0!==O?.title&&!ci(O)&&(W[Kn]=O.title),function li(_,E,m,T){const O=function In(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}(_);if(0===O.length)return me({});const W={};return(0,j.D)(O).pipe((0,en.z)(le=>function _i(_,E,m,T){const O=uo(E)??T,W=_n(_,O);return ur(W.resolve?W.resolve(E,m):O.runInContext(()=>W(E,m)))}(_[le],E,m,T).pipe(yn(),(0,Cn.b)(ge=>{W[le]=ge}))),kr(1),function wr(_){return(0,He.U)(()=>_)}(W),cn(le=>vi(le)?st.E:Re(le)))}(W,_,E,T).pipe((0,He.U)(le=>(_._resolvedData=le,_.data=wo(_,m).resolve,O&&ci(O)&&(_.data[Kn]=O.title),null)))}(le.route,T,_,E)),(0,Cn.b)(()=>W++),kr(1),(0,en.z)(le=>W===O.length?me(m):st.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Cn.b)({next:()=>Nt=!0,complete:()=>{Nt||(this.restoreHistory(Je),this.cancelNavigationTransition(Je,"",2))}}))}),(0,Cn.b)(Je=>{const Nt=new Oi(Je.id,this.serializeUrl(Je.extractedUrl),this.serializeUrl(Je.urlAfterRedirects),Je.targetSnapshot);this.triggerEvent(Nt)}))}),rr(ge=>{const Je=Nt=>{const An=[];Nt.routeConfig?.loadComponent&&!Nt.routeConfig._loadedComponent&&An.push(this.configLoader.loadComponent(Nt.routeConfig).pipe((0,Cn.b)(Ht=>{Nt.component=Ht}),(0,He.U)(()=>{})));for(const Ht of Nt.children)An.push(...Je(Ht));return An};return St(Je(ge.targetSnapshot.root)).pipe(bn(),(0,ot.q)(1))}),rr(()=>this.afterPreactivation()),(0,He.U)(ge=>{const Je=function Mo(_,E,m){const T=Is(_,E._root,m?m._root:void 0);return new ro(T,E)}(this.routeReuseStrategy,ge.targetSnapshot,ge.currentRouterState);return O={...ge,targetRouterState:Je}}),(0,Cn.b)(ge=>{this.currentUrlTree=ge.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ge.urlAfterRedirects,ge.rawUrl),this.routerState=ge.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ge.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ge),this.browserUrlTree=ge.urlAfterRedirects)}),((_,E,m)=>(0,He.U)(T=>(new ta(E,T.targetRouterState,T.currentRouterState,m).activate(_),T)))(this.rootContexts,this.routeReuseStrategy,ge=>this.triggerEvent(ge)),(0,Cn.b)({next(){W=!0},complete(){W=!0}}),Rr(()=>{W||le||this.cancelNavigationTransition(O,"",1),this.currentNavigation?.id===O.id&&(this.currentNavigation=null)}),cn(ge=>{if(le=!0,Ls(ge)){Ur(ge)||(this.navigated=!0,this.restoreHistory(O,!0));const Je=new _s(O.id,this.serializeUrl(O.extractedUrl),ge.message,ge.cancellationCode);if(T.next(Je),Ur(ge)){const Nt=this.urlHandlingStrategy.merge(ge.url,this.rawUrlTree),An={skipLocationChange:O.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ts(O.source)};this.scheduleNavigation(Nt,"imperative",null,An,{resolve:O.resolve,reject:O.reject,promise:O.promise})}else O.resolve(!1)}else{this.restoreHistory(O,!0);const Je=new mi(O.id,this.serializeUrl(O.extractedUrl),ge,O.targetSnapshot??void 0);T.next(Je);try{O.resolve(this.errorHandler(ge))}catch(Nt){O.reject(Nt)}}return st.E}))}))}resetRootComponentType(m){this.rootComponentType=m,this.routerState.root.component=this.rootComponentType}setTransition(m){this.transitions.next({...this.transitions.value,...m})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const T="popstate"===m.type?"popstate":"hashchange";"popstate"===T&&setTimeout(()=>{const O={replaceUrl:!0},W=m.state?.navigationId?m.state:null;if(W){const ge={...W};delete ge.navigationId,delete ge.\u0275routerPageId,0!==Object.keys(ge).length&&(O.state=ge)}const le=this.parseUrl(m.url);this.scheduleNavigation(le,T,W,O)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(m){this.events.next(m)}resetConfig(m){this.config=m.map($t),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,T={}){const{relativeTo:O,queryParams:W,fragment:le,queryParamsHandling:ge,preserveFragment:Je}=T,Nt=O||this.routerState.root,An=Je?this.currentUrlTree.fragment:le;let Ht=null;switch(ge){case"merge":Ht={...this.currentUrlTree.queryParams,...W};break;case"preserve":Ht=this.currentUrlTree.queryParams;break;default:Ht=W||null}return null!==Ht&&(Ht=this.removeEmptyProps(Ht)),bi(Nt,this.currentUrlTree,m,Ht,An??null)}navigateByUrl(m,T={skipLocationChange:!1}){const O=Ni(m)?m:this.parseUrl(m),W=this.urlHandlingStrategy.merge(O,this.rawUrlTree);return this.scheduleNavigation(W,"imperative",null,T)}navigate(m,T={skipLocationChange:!1}){return function We(_){for(let E=0;E<_.length;E++){if(null==_[E])throw new f.vHH(4008,false)}}(m),this.navigateByUrl(this.createUrlTree(m,T),T)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let T;try{T=this.urlSerializer.parse(m)}catch(O){T=this.malformedUriErrorHandler(O,this.urlSerializer,m)}return T}isActive(m,T){let O;if(O=!0===T?{...ka}:!1===T?{...Ko}:T,Ni(m))return tr(this.currentUrlTree,m,O);const W=this.parseUrl(m);return tr(this.currentUrlTree,W,O)}removeEmptyProps(m){return Object.keys(m).reduce((T,O)=>{const W=m[O];return null!=W&&(T[O]=W),T},{})}processNavigations(){this.navigations.subscribe(m=>{this.navigated=!0,this.lastSuccessfulId=m.id,this.currentPageId=m.targetPageId,this.events.next(new Kr(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),m.resolve(!0)},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}scheduleNavigation(m,T,O,W,le){if(this.disposed)return Promise.resolve(!1);let ge,Je,Nt;le?(ge=le.resolve,Je=le.reject,Nt=le.promise):Nt=new Promise(($r,xs)=>{ge=$r,Je=xs});const An=++this.navigationId;let Ht;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(O=this.location.getState()),Ht=O&&O.\u0275routerPageId?O.\u0275routerPageId:W.replaceUrl||W.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Ht=0,this.setTransition({id:An,targetPageId:Ht,source:T,restoredState:O,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:m,extras:W,resolve:ge,reject:Je,promise:Nt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Nt.catch($r=>Promise.reject($r))}setBrowserUrl(m,T){const O=this.urlSerializer.serialize(m),W={...T.extras.state,...this.generateNgRouterState(T.id,T.targetPageId)};this.location.isCurrentPathEqualTo(O)||T.extras.replaceUrl?this.location.replaceState(O,"",W):this.location.go(O,"",W)}restoreHistory(m,T=!1){if("computed"===this.canceledNavigationResolution){const O=this.currentPageId-m.targetPageId;"popstate"!==m.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===O?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===O&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(O)}else"replace"===this.canceledNavigationResolution&&(T&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(m,T,O){const W=new _s(m.id,this.serializeUrl(m.extractedUrl),T,O);this.triggerEvent(W),m.resolve(!1)}generateNgRouterState(m,T){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:T}:{navigationId:m}}}return _.\u0275fac=function(m){f.$Z()},_.\u0275prov=f.Yz7({token:_,factory:function(){return Ki()},providedIn:"root"}),_})();function Ts(_){return"imperative"!==_}class Hs{}let aa=(()=>{class _{constructor(m,T,O,W,le){this.router=m,this.injector=O,this.preloadingStrategy=W,this.loader=le}setUpPreloading(){this.subscription=this.router.events.pipe((0,Rt.h)(m=>m instanceof Kr),dn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,T){const O=[];for(const W of T){W.providers&&!W._injector&&(W._injector=(0,f.MMx)(W.providers,m,`Route: ${W.path}`));const le=W._injector??m,ge=W._loadedInjector??le;W.loadChildren&&!W._loadedRoutes&&void 0===W.canLoad||W.loadComponent&&!W._loadedComponent?O.push(this.preloadConfig(le,W)):(W.children||W._loadedRoutes)&&O.push(this.processRoutes(ge,W.children??W._loadedRoutes))}return(0,j.D)(O).pipe((0,Ft.J)())}preloadConfig(m,T){return this.preloadingStrategy.preload(T,()=>{let O;O=T.loadChildren&&void 0===T.canLoad?this.loader.loadChildren(m,T):me(null);const W=O.pipe((0,en.z)(le=>null===le?me(void 0):(T._loadedRoutes=le.routes,T._loadedInjector=le.injector,this.processRoutes(le.injector??m,le.routes))));if(T.loadComponent&&!T._loadedComponent){const le=this.loader.loadComponent(T);return(0,j.D)([W,le]).pipe((0,Ft.J)())}return W})}}return _.\u0275fac=function(m){return new(m||_)(f.LFG(Tr),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(Hs),f.LFG(Un))},_.\u0275prov=f.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const ko=new f.OlP("");let Iu=(()=>{class _{constructor(m,T,O={}){this.router=m,this.viewportScroller=T,this.options=O,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},O.scrollPositionRestoration=O.scrollPositionRestoration||"disabled",O.anchorScrolling=O.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(m=>{m instanceof Ci?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof Kr&&(this.lastId=m.id,this.scheduleScrollEvent(m,this.router.parseUrl(m.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(m=>{m instanceof Wo&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,T){this.router.triggerEvent(new Wo(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,T))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return _.\u0275fac=function(m){f.$Z()},_.\u0275prov=f.Yz7({token:_,factory:_.\u0275fac}),_})();function Ta(_,E){return{\u0275kind:_,\u0275providers:E}}function Rn(_){return[{provide:wn,multi:!0,useValue:_}]}function As(){const _=(0,f.f3M)(f.zs3);return E=>{const m=_.get(f.z2F);if(E!==m.components[0])return;const T=_.get(Tr),O=_.get(Jr);1===_.get(La)&&T.initialNavigation(),_.get(si,null,f.XFs.Optional)?.setUpPreloading(),_.get(ko,null,f.XFs.Optional)?.init(),T.resetRootComponentType(m.componentTypes[0]),O.next(),O.complete()}}const Jr=new f.OlP("",{factory:()=>new z.x}),La=new f.OlP("",{providedIn:"root",factory:()=>1});const si=new f.OlP("");function oc(_){return Ta(0,[{provide:si,useExisting:aa},{provide:Hs,useExisting:_}])}const la=new f.OlP("ROUTER_FORROOT_GUARD"),su=[je.Ye,{provide:Te,useClass:it},{provide:Tr,useFactory:Ki},Sn,{provide:Ks,useFactory:function Zo(_){return _.routerState.root},deps:[Tr]},Un];function Va(){return new f.PXZ("Router",Tr)}let wi=(()=>{class _{constructor(m){}static forRoot(m,T){return{ngModule:_,providers:[su,[],Rn(m),{provide:la,useFactory:Ua,deps:[[Tr,new f.FiY,new f.tp0]]},{provide:Zt,useValue:T||{}},T?.useHash?{provide:je.S$,useClass:je.Do}:{provide:je.S$,useClass:je.b0},{provide:ko,useFactory:()=>{const _=(0,f.f3M)(Tr),E=(0,f.f3M)(je.EM),m=(0,f.f3M)(Zt);return m.scrollOffset&&E.setOffset(m.scrollOffset),new Iu(_,E,m)}},T?.preloadingStrategy?oc(T.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:Va},T?.initialNavigation?bo(T):[],[{provide:Ya,useFactory:As},{provide:f.tb,multi:!0,useExisting:Ya}]]}}static forChild(m){return{ngModule:_,providers:[Rn(m)]}}}return _.\u0275fac=function(m){return new(m||_)(f.LFG(la,8))},_.\u0275mod=f.oAB({type:_}),_.\u0275inj=f.cJS({imports:[so]}),_})();function Ua(_){return"guarded"}function bo(_){return["disabled"===_.initialNavigation?Ta(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const E=(0,f.f3M)(Tr);return()=>{E.setUpLocationChangeListener()}}},{provide:La,useValue:2}]).\u0275providers:[],"enabledBlocking"===_.initialNavigation?Ta(2,[{provide:La,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:E=>{const m=E.get(je.V_,Promise.resolve());let T=!1;return()=>m.then(()=>new Promise(W=>{const le=E.get(Tr),ge=E.get(Jr);(function O(W){E.get(Tr).events.pipe((0,Rt.h)(ge=>ge instanceof Kr||ge instanceof _s||ge instanceof mi),(0,He.U)(ge=>ge instanceof Kr||ge instanceof _s&&(0===ge.code||1===ge.code)&&null),(0,Rt.h)(ge=>null!==ge),(0,ot.q)(1)).subscribe(()=>{W()})})(()=>{W(!0),T=!0}),le.afterPreactivation=()=>(W(!0),T||ge.closed?me(void 0):ge),le.initialNavigation()}))}}]).\u0275providers:[]]}const Ya=new f.OlP("")},9681:(fn,ut,X)=>{X.d(ut,{C6:()=>Rr,Jn:()=>vr,KN:()=>Kn,Mq:()=>wr,Xd:()=>yn,ZF:()=>ei,qX:()=>dn});var f=X(5861),j=X(4859),be=X(1877),me=X(2090),z=X(8766);class de{constructor(Ue){this.container=Ue}getPlatformInfoString(){return this.container.getProviders().map(Tt=>{if(function ie(Et){return"VERSION"===Et.getComponent()?.type}(Tt)){const dt=Tt.getImmediate();return`${dt.library}/${dt.version}`}return null}).filter(Tt=>Tt).join(" ")}}const he="@firebase/app",ne=new be.Yd("@firebase/app"),At="[DEFAULT]",Rt={[he]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},en=new Map,bn=new Map;function nn(Et,Ue){try{Et.container.addComponent(Ue)}catch(Tt){ne.debug(`Component ${Ue.name} failed to register with FirebaseApp ${Et.name}`,Tt)}}function yn(Et){const Ue=Et.name;if(bn.has(Ue))return ne.debug(`There were multiple attempts to register component ${Ue}.`),!1;bn.set(Ue,Et);for(const Tt of en.values())nn(Tt,Et);return!0}function dn(Et,Ue){const Tt=Et.container.getProvider("heartbeat").getImmediate({optional:!0});return Tt&&Tt.triggerHeartbeat(),Et.container.getProvider(Ue)}const or=new me.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class kr{constructor(Ue,Tt,dt){this._isDeleted=!1,this._options=Object.assign({},Ue),this._config=Object.assign({},Tt),this._name=Tt.name,this._automaticDataCollectionEnabled=Tt.automaticDataCollectionEnabled,this._container=dt,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ue){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ue}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ue){this._isDeleted=Ue}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}const vr="9.12.1";function ei(Et,Ue={}){let Tt=Et;"object"!=typeof Ue&&(Ue={name:Ue});const dt=Object.assign({name:At,automaticDataCollectionEnabled:!1},Ue),Mt=dt.name;if("string"!=typeof Mt||!Mt)throw or.create("bad-app-name",{appName:String(Mt)});if(Tt||(Tt=(0,me.aH)()),!Tt)throw or.create("no-options");const Tn=en.get(Mt);if(Tn){if((0,me.vZ)(Tt,Tn.options)&&(0,me.vZ)(dt,Tn.config))return Tn;throw or.create("duplicate-app",{appName:Mt})}const ye=new j.H0(Mt);for(const Te of bn.values())ye.addComponent(Te);const pe=new kr(Tt,dt,ye);return en.set(Mt,pe),pe}function wr(Et=At){const Ue=en.get(Et);if(!Ue&&Et===At)return ei();if(!Ue)throw or.create("no-app",{appName:Et});return Ue}function Rr(){return Array.from(en.values())}function Kn(Et,Ue,Tt){var dt;let Mt=null!==(dt=Rt[Et])&&void 0!==dt?dt:Et;Tt&&(Mt+=`-${Tt}`);const Tn=Mt.match(/\s|\//),ye=Ue.match(/\s|\//);if(Tn||ye){const pe=[`Unable to register library "${Mt}" with version "${Ue}":`];return Tn&&pe.push(`library name "${Mt}" contains illegal characters (whitespace or "/")`),Tn&&ye&&pe.push("and"),ye&&pe.push(`version name "${Ue}" contains illegal characters (whitespace or "/")`),void ne.warn(pe.join(" "))}yn(new j.wA(`${Mt}-version`,()=>({library:Mt,version:Ue}),"VERSION"))}const _r="firebase-heartbeat-store";let Mr=null;function xt(){return Mr||(Mr=(0,z.X3)("firebase-heartbeat-database",1,{upgrade:(Et,Ue)=>{0===Ue&&Et.createObjectStore(_r)}}).catch(Et=>{throw or.create("idb-open",{originalErrorMessage:Et.message})})),Mr}function un(){return(un=(0,f.Z)(function*(Et){var Ue;try{return(yield xt()).transaction(_r).objectStore(_r).get(Yn(Et))}catch(Tt){if(Tt instanceof me.ZR)ne.warn(Tt.message);else{const dt=or.create("idb-get",{originalErrorMessage:null===(Ue=Tt)||void 0===Ue?void 0:Ue.message});ne.warn(dt.message)}}})).apply(this,arguments)}function pn(Et,Ue){return ur.apply(this,arguments)}function ur(){return(ur=(0,f.Z)(function*(Et,Ue){var Tt;try{const Mt=(yield xt()).transaction(_r,"readwrite");return yield Mt.objectStore(_r).put(Ue,Yn(Et)),Mt.done}catch(dt){if(dt instanceof me.ZR)ne.warn(dt.message);else{const Mt=or.create("idb-set",{originalErrorMessage:null===(Tt=dt)||void 0===Tt?void 0:Tt.message});ne.warn(Mt.message)}}})).apply(this,arguments)}function Yn(Et){return`${Et.name}!${Et.options.appId}`}class fi{constructor(Ue){this.container=Ue,this._heartbeatsCache=null;const Tt=this.container.getProvider("app").getImmediate();this._storage=new ln(Tt),this._heartbeatsCachePromise=this._storage.read().then(dt=>(this._heartbeatsCache=dt,dt))}triggerHeartbeat(){var Ue=this;return(0,f.Z)(function*(){const dt=Ue.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Mt=tr();if(null===Ue._heartbeatsCache&&(Ue._heartbeatsCache=yield Ue._heartbeatsCachePromise),Ue._heartbeatsCache.lastSentHeartbeatDate!==Mt&&!Ue._heartbeatsCache.heartbeats.some(Tn=>Tn.date===Mt))return Ue._heartbeatsCache.heartbeats.push({date:Mt,agent:dt}),Ue._heartbeatsCache.heartbeats=Ue._heartbeatsCache.heartbeats.filter(Tn=>{const ye=new Date(Tn.date).valueOf();return Date.now()-ye<=2592e6}),Ue._storage.overwrite(Ue._heartbeatsCache)})()}getHeartbeatsHeader(){var Ue=this;return(0,f.Z)(function*(){if(null===Ue._heartbeatsCache&&(yield Ue._heartbeatsCachePromise),null===Ue._heartbeatsCache||0===Ue._heartbeatsCache.heartbeats.length)return"";const Tt=tr(),{heartbeatsToSend:dt,unsentEntries:Mt}=function ti(Et,Ue=1024){const Tt=[];let dt=Et.slice();for(const Mt of Et){const Tn=Tt.find(ye=>ye.agent===Mt.agent);if(Tn){if(Tn.dates.push(Mt.date),Ri(Tt)>Ue){Tn.dates.pop();break}}else if(Tt.push({agent:Mt.agent,dates:[Mt.date]}),Ri(Tt)>Ue){Tt.pop();break}dt=dt.slice(1)}return{heartbeatsToSend:Tt,unsentEntries:dt}}(Ue._heartbeatsCache.heartbeats),Tn=(0,me.L)(JSON.stringify({version:2,heartbeats:dt}));return Ue._heartbeatsCache.lastSentHeartbeatDate=Tt,Mt.length>0?(Ue._heartbeatsCache.heartbeats=Mt,yield Ue._storage.overwrite(Ue._heartbeatsCache)):(Ue._heartbeatsCache.heartbeats=[],Ue._storage.overwrite(Ue._heartbeatsCache)),Tn})()}}function tr(){return(new Date).toISOString().substring(0,10)}class ln{constructor(Ue){this.app=Ue,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,me.hl)()&&(0,me.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ue=this;return(0,f.Z)(function*(){return(yield Ue._canUseIndexedDBPromise)&&(yield function jt(Et){return un.apply(this,arguments)}(Ue.app))||{heartbeats:[]}})()}overwrite(Ue){var Tt=this;return(0,f.Z)(function*(){var dt;if(yield Tt._canUseIndexedDBPromise){const Tn=yield Tt.read();return pn(Tt.app,{lastSentHeartbeatDate:null!==(dt=Ue.lastSentHeartbeatDate)&&void 0!==dt?dt:Tn.lastSentHeartbeatDate,heartbeats:Ue.heartbeats})}})()}add(Ue){var Tt=this;return(0,f.Z)(function*(){var dt;if(yield Tt._canUseIndexedDBPromise){const Tn=yield Tt.read();return pn(Tt.app,{lastSentHeartbeatDate:null!==(dt=Ue.lastSentHeartbeatDate)&&void 0!==dt?dt:Tn.lastSentHeartbeatDate,heartbeats:[...Tn.heartbeats,...Ue.heartbeats]})}})()}}function Ri(Et){return(0,me.L)(JSON.stringify({version:2,heartbeats:Et})).length}!function ai(Et){yn(new j.wA("platform-logger",Ue=>new de(Ue),"PRIVATE")),yn(new j.wA("heartbeat",Ue=>new fi(Ue),"PRIVATE")),Kn(he,"0.8.2",Et),Kn(he,"0.8.2","esm2017"),Kn("fire-js","")}("")},4859:(fn,ut,X)=>{X.d(ut,{H0:()=>he,wA:()=>be});var f=X(5861),j=X(2090);class be{constructor(ne,ue,Oe){this.name=ne,this.instanceFactory=ue,this.type=Oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const me="[DEFAULT]";class z{constructor(ne,ue){this.name=ne,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const ue=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(ue)){const Oe=new j.BH;if(this.instancesDeferred.set(ue,Oe),this.isInitialized(ue)||this.shouldAutoInitialize())try{const tt=this.getOrInitializeService({instanceIdentifier:ue});tt&&Oe.resolve(tt)}catch{}}return this.instancesDeferred.get(ue).promise}getImmediate(ne){var ue;const Oe=this.normalizeInstanceIdentifier(ne?.identifier),tt=null!==(ue=ne?.optional)&&void 0!==ue&&ue;if(!this.isInitialized(Oe)&&!this.shouldAutoInitialize()){if(tt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Oe})}catch(Be){if(tt)return null;throw Be}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function ie(Ne){return"EAGER"===Ne.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:me})}catch{}for(const[ue,Oe]of this.instancesDeferred.entries()){const tt=this.normalizeInstanceIdentifier(ue);try{const Be=this.getOrInitializeService({instanceIdentifier:tt});Oe.resolve(Be)}catch{}}}}clearInstance(ne=me){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,f.Z)(function*(){const ue=Array.from(ne.instances.values());yield Promise.all([...ue.filter(Oe=>"INTERNAL"in Oe).map(Oe=>Oe.INTERNAL.delete()),...ue.filter(Oe=>"_delete"in Oe).map(Oe=>Oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=me){return this.instances.has(ne)}getOptions(ne=me){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:ue={}}=ne,Oe=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(Oe))throw Error(`${this.name}(${Oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const tt=this.getOrInitializeService({instanceIdentifier:Oe,options:ue});for(const[Be,pt]of this.instancesDeferred.entries())Oe===this.normalizeInstanceIdentifier(Be)&&pt.resolve(tt);return tt}onInit(ne,ue){var Oe;const tt=this.normalizeInstanceIdentifier(ue),Be=null!==(Oe=this.onInitCallbacks.get(tt))&&void 0!==Oe?Oe:new Set;Be.add(ne),this.onInitCallbacks.set(tt,Be);const pt=this.instances.get(tt);return pt&&ne(pt,tt),()=>{Be.delete(ne)}}invokeOnInitCallbacks(ne,ue){const Oe=this.onInitCallbacks.get(ue);if(Oe)for(const tt of Oe)try{tt(ne,ue)}catch{}}getOrInitializeService({instanceIdentifier:ne,options:ue={}}){let Oe=this.instances.get(ne);if(!Oe&&this.component&&(Oe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ne=ne,Ne===me?void 0:Ne),options:ue}),this.instances.set(ne,Oe),this.instancesOptions.set(ne,ue),this.invokeOnInitCallbacks(Oe,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,Oe)}catch{}var Ne;return Oe||null}normalizeInstanceIdentifier(ne=me){return this.component?this.component.multipleInstances?ne:me:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class he{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const ue=this.getProvider(ne.name);if(ue.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);ue.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const ue=new z(ne,this);return this.providers.set(ne,ue),ue}getProviders(){return Array.from(this.providers.values())}}},1877:(fn,ut,X)=>{X.d(ut,{Yd:()=>ie,in:()=>j});const f=[];var j=(()=>{return(ne=j||(j={}))[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",j;var ne})();const be={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},me=j.INFO,z={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},de=(ne,ue,...Oe)=>{if(ue<ne.logLevel)return;const tt=(new Date).toISOString(),Be=z[ue];if(!Be)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[Be](`[${tt}]  ${ne.name}:`,...Oe)};class ie{constructor(ue){this.name=ue,this._logLevel=me,this._logHandler=de,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in j))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?be[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...ue),this._logHandler(this,j.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...ue),this._logHandler(this,j.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,j.INFO,...ue),this._logHandler(this,j.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,j.WARN,...ue),this._logHandler(this,j.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...ue),this._logHandler(this,j.ERROR,...ue)}}},8766:(fn,ut,X)=>{X.d(ut,{Lj:()=>ce,X3:()=>_t});var f=X(5861);let be,me;const ie=new WeakMap,he=new WeakMap,Ne=new WeakMap,ne=new WeakMap,ue=new WeakMap;let Be={get(Re,st,Ce){if(Re instanceof IDBTransaction){if("done"===st)return he.get(Re);if("objectStoreNames"===st)return Re.objectStoreNames||Ne.get(Re);if("store"===st)return Ce.objectStoreNames[1]?void 0:Ce.objectStore(Ce.objectStoreNames[0])}return kt(Re[st])},set:(Re,st,Ce)=>(Re[st]=Ce,!0),has:(Re,st)=>Re instanceof IDBTransaction&&("done"===st||"store"===st)||st in Re};function Vt(Re){return"function"==typeof Re?function St(Re){return Re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return me||(me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Re)?function(...st){return Re.apply(Ft(this),st),kt(ie.get(this))}:function(...st){return kt(Re.apply(Ft(this),st))}:function(st,...Ce){const Pe=Re.call(Ft(this),st,...Ce);return Ne.set(Pe,st.sort?st.sort():[st]),kt(Pe)}}(Re):(Re instanceof IDBTransaction&&function tt(Re){if(he.has(Re))return;const st=new Promise((Ce,Pe)=>{const Ye=()=>{Re.removeEventListener("complete",Fe),Re.removeEventListener("error",je),Re.removeEventListener("abort",je)},Fe=()=>{Ce(),Ye()},je=()=>{Pe(Re.error||new DOMException("AbortError","AbortError")),Ye()};Re.addEventListener("complete",Fe),Re.addEventListener("error",je),Re.addEventListener("abort",je)});he.set(Re,st)}(Re),((Re,st)=>st.some(Ce=>Re instanceof Ce))(Re,function z(){return be||(be=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Re,Be):Re)}function kt(Re){if(Re instanceof IDBRequest)return function Oe(Re){const st=new Promise((Ce,Pe)=>{const Ye=()=>{Re.removeEventListener("success",Fe),Re.removeEventListener("error",je)},Fe=()=>{Ce(kt(Re.result)),Ye()},je=()=>{Pe(Re.error),Ye()};Re.addEventListener("success",Fe),Re.addEventListener("error",je)});return st.then(Ce=>{Ce instanceof IDBCursor&&ie.set(Ce,Re)}).catch(()=>{}),ue.set(st,Re),st}(Re);if(ne.has(Re))return ne.get(Re);const st=Vt(Re);return st!==Re&&(ne.set(Re,st),ue.set(st,Re)),st}const Ft=Re=>ue.get(Re);function _t(Re,st,{blocked:Ce,upgrade:Pe,blocking:Ye,terminated:Fe}={}){const je=indexedDB.open(Re,st),He=kt(je);return Pe&&je.addEventListener("upgradeneeded",Ae=>{Pe(kt(je.result),Ae.oldVersion,Ae.newVersion,kt(je.transaction))}),Ce&&je.addEventListener("blocked",()=>Ce()),He.then(Ae=>{Fe&&Ae.addEventListener("close",()=>Fe()),Ye&&Ae.addEventListener("versionchange",()=>Ye())}).catch(()=>{}),He}function ce(Re,{blocked:st}={}){const Ce=indexedDB.deleteDatabase(Re);return st&&Ce.addEventListener("blocked",()=>st()),kt(Ce).then(()=>{})}const De=["get","getKey","getAll","getAllKeys","count"],_e=["put","add","delete","clear"],lt=new Map;function Ie(Re,st){if(!(Re instanceof IDBDatabase)||st in Re||"string"!=typeof st)return;if(lt.get(st))return lt.get(st);const Ce=st.replace(/FromIndex$/,""),Pe=st!==Ce,Ye=_e.includes(Ce);if(!(Ce in(Pe?IDBIndex:IDBObjectStore).prototype)||!Ye&&!De.includes(Ce))return;const Fe=function(){var je=(0,f.Z)(function*(He,...Ae){const ot=this.transaction(He,Ye?"readwrite":"readonly");let At=ot.store;return Pe&&(At=At.index(Ae.shift())),(yield Promise.all([At[Ce](...Ae),Ye&&ot.done]))[0]});return function(Ae){return je.apply(this,arguments)}}();return lt.set(st,Fe),Fe}!function pt(Re){Be=Re(Be)}(Re=>({...Re,get:(st,Ce,Pe)=>Ie(st,Ce)||Re.get(st,Ce,Pe),has:(st,Ce)=>!!Ie(st,Ce)||Re.has(st,Ce)}))},805:(fn,ut,X)=>{X.d(ut,{$_:()=>Vt,F0:()=>tt,b4:()=>de,h4:()=>St,jx:()=>kt,m8:()=>Ft,ws:()=>ie});var f=X(8256),j=X(7579),be=X(6895);const me=["*"];let z=(()=>{class ce{}return ce.STARTS_WITH="startsWith",ce.CONTAINS="contains",ce.NOT_CONTAINS="notContains",ce.ENDS_WITH="endsWith",ce.EQUALS="equals",ce.NOT_EQUALS="notEquals",ce.IN="in",ce.LESS_THAN="lt",ce.LESS_THAN_OR_EQUAL_TO="lte",ce.GREATER_THAN="gt",ce.GREATER_THAN_OR_EQUAL_TO="gte",ce.BETWEEN="between",ce.IS="is",ce.IS_NOT="isNot",ce.BEFORE="before",ce.AFTER="after",ce.DATE_IS="dateIs",ce.DATE_IS_NOT="dateIsNot",ce.DATE_BEFORE="dateBefore",ce.DATE_AFTER="dateAfter",ce})(),de=(()=>{class ce{constructor(){this.ripple=!1,this.filterMatchModeOptions={text:[z.STARTS_WITH,z.CONTAINS,z.NOT_CONTAINS,z.ENDS_WITH,z.EQUALS,z.NOT_EQUALS],numeric:[z.EQUALS,z.NOT_EQUALS,z.LESS_THAN,z.LESS_THAN_OR_EQUAL_TO,z.GREATER_THAN,z.GREATER_THAN_OR_EQUAL_TO],date:[z.DATE_IS,z.DATE_IS_NOT,z.DATE_BEFORE,z.DATE_AFTER]},this.translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",emptyFilterMessage:"No results found"},this.zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100},this.translationSource=new j.x,this.translationObserver=this.translationSource.asObservable()}getTranslation(_e){return this.translation[_e]}setTranslation(_e){this.translation={...this.translation,..._e},this.translationSource.next(this.translation)}}return ce.\u0275fac=function(_e){return new(_e||ce)},ce.\u0275prov=f.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})(),ie=(()=>{class ce{}return ce.STARTS_WITH="startsWith",ce.CONTAINS="contains",ce.NOT_CONTAINS="notContains",ce.ENDS_WITH="endsWith",ce.EQUALS="equals",ce.NOT_EQUALS="notEquals",ce.NO_FILTER="noFilter",ce.LT="lt",ce.LTE="lte",ce.GT="gt",ce.GTE="gte",ce.IS="is",ce.IS_NOT="isNot",ce.BEFORE="before",ce.AFTER="after",ce.CLEAR="clear",ce.APPLY="apply",ce.MATCH_ALL="matchAll",ce.MATCH_ANY="matchAny",ce.ADD_RULE="addRule",ce.REMOVE_RULE="removeRule",ce.ACCEPT="accept",ce.REJECT="reject",ce.CHOOSE="choose",ce.UPLOAD="upload",ce.CANCEL="cancel",ce.DAY_NAMES="dayNames",ce.DAY_NAMES_SHORT="dayNamesShort",ce.DAY_NAMES_MIN="dayNamesMin",ce.MONTH_NAMES="monthNames",ce.MONTH_NAMES_SHORT="monthNamesShort",ce.FIRST_DAY_OF_WEEK="firstDayOfWeek",ce.TODAY="today",ce.WEEK_HEADER="weekHeader",ce.WEAK="weak",ce.MEDIUM="medium",ce.STRONG="strong",ce.PASSWORD_PROMPT="passwordPrompt",ce.EMPTY_MESSAGE="emptyMessage",ce.EMPTY_FILTER_MESSAGE="emptyFilterMessage",ce})(),tt=(()=>{class ce{constructor(){this.clickSource=new j.x,this.clickObservable=this.clickSource.asObservable()}add(_e){_e&&this.clickSource.next(_e)}}return ce.\u0275fac=function(_e){return new(_e||ce)},ce.\u0275prov=f.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})(),St=(()=>{class ce{}return ce.\u0275fac=function(_e){return new(_e||ce)},ce.\u0275cmp=f.Xpm({type:ce,selectors:[["p-header"]],ngContentSelectors:me,decls:1,vars:0,template:function(_e,lt){1&_e&&(f.F$t(),f.Hsn(0))},encapsulation:2}),ce})(),Vt=(()=>{class ce{}return ce.\u0275fac=function(_e){return new(_e||ce)},ce.\u0275cmp=f.Xpm({type:ce,selectors:[["p-footer"]],ngContentSelectors:me,decls:1,vars:0,template:function(_e,lt){1&_e&&(f.F$t(),f.Hsn(0))},encapsulation:2}),ce})(),kt=(()=>{class ce{constructor(_e){this.template=_e}getType(){return this.name}}return ce.\u0275fac=function(_e){return new(_e||ce)(f.Y36(f.Rgc))},ce.\u0275dir=f.lG2({type:ce,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}}),ce})(),Ft=(()=>{class ce{}return ce.\u0275fac=function(_e){return new(_e||ce)},ce.\u0275mod=f.oAB({type:ce}),ce.\u0275inj=f.cJS({imports:[be.ez]}),ce})()},9592:(fn,ut,X)=>{X.d(ut,{V:()=>j,p:()=>f});let f=(()=>{class be{static addClass(z,de){z.classList?z.classList.add(de):z.className+=" "+de}static addMultipleClasses(z,de){if(z.classList){let ie=de.trim().split(" ");for(let he=0;he<ie.length;he++)z.classList.add(ie[he])}else{let ie=de.split(" ");for(let he=0;he<ie.length;he++)z.className+=" "+ie[he]}}static removeClass(z,de){z.classList?z.classList.remove(de):z.className=z.className.replace(new RegExp("(^|\\b)"+de.split(" ").join("|")+"(\\b|$)","gi")," ")}static hasClass(z,de){return z.classList?z.classList.contains(de):new RegExp("(^| )"+de+"( |$)","gi").test(z.className)}static siblings(z){return Array.prototype.filter.call(z.parentNode.children,function(de){return de!==z})}static find(z,de){return Array.from(z.querySelectorAll(de))}static findSingle(z,de){return z?z.querySelector(de):null}static index(z){let de=z.parentNode.childNodes,ie=0;for(var he=0;he<de.length;he++){if(de[he]==z)return ie;1==de[he].nodeType&&ie++}return-1}static indexWithinGroup(z,de){let ie=z.parentNode?z.parentNode.childNodes:[],he=0;for(var Ne=0;Ne<ie.length;Ne++){if(ie[Ne]==z)return he;ie[Ne].attributes&&ie[Ne].attributes[de]&&1==ie[Ne].nodeType&&he++}return-1}static relativePosition(z,de){let ie=z.offsetParent?{width:z.offsetWidth,height:z.offsetHeight}:this.getHiddenElementDimensions(z);const he=de.offsetHeight,Ne=de.getBoundingClientRect(),ne=this.getViewport();let ue,Oe;Ne.top+he+ie.height>ne.height?(ue=-1*ie.height,z.style.transformOrigin="bottom",Ne.top+ue<0&&(ue=-1*Ne.top)):(ue=he,z.style.transformOrigin="top"),Oe=ie.width>ne.width?-1*Ne.left:Ne.left+ie.width>ne.width?-1*(Ne.left+ie.width-ne.width):0,z.style.top=ue+"px",z.style.left=Oe+"px"}static absolutePosition(z,de){let St,Vt,ie=z.offsetParent?{width:z.offsetWidth,height:z.offsetHeight}:this.getHiddenElementDimensions(z),he=ie.height,Ne=ie.width,ne=de.offsetHeight,ue=de.offsetWidth,Oe=de.getBoundingClientRect(),tt=this.getWindowScrollTop(),Be=this.getWindowScrollLeft(),pt=this.getViewport();Oe.top+ne+he>pt.height?(St=Oe.top+tt-he,z.style.transformOrigin="bottom",St<0&&(St=tt)):(St=ne+Oe.top+tt,z.style.transformOrigin="top"),Vt=Oe.left+Ne>pt.width?Math.max(0,Oe.left+Be+ue-Ne):Oe.left+Be,z.style.top=St+"px",z.style.left=Vt+"px"}static getParents(z,de=[]){return null===z.parentNode?de:this.getParents(z.parentNode,de.concat([z.parentNode]))}static getScrollableParents(z){let de=[];if(z){let ie=this.getParents(z);const he=/(auto|scroll)/,Ne=ne=>{let ue=window.getComputedStyle(ne,null);return he.test(ue.getPropertyValue("overflow"))||he.test(ue.getPropertyValue("overflowX"))||he.test(ue.getPropertyValue("overflowY"))};for(let ne of ie){let ue=1===ne.nodeType&&ne.dataset.scrollselectors;if(ue){let Oe=ue.split(",");for(let tt of Oe){let Be=this.findSingle(ne,tt);Be&&Ne(Be)&&de.push(Be)}}9!==ne.nodeType&&Ne(ne)&&de.push(ne)}}return de}static getHiddenElementOuterHeight(z){z.style.visibility="hidden",z.style.display="block";let de=z.offsetHeight;return z.style.display="none",z.style.visibility="visible",de}static getHiddenElementOuterWidth(z){z.style.visibility="hidden",z.style.display="block";let de=z.offsetWidth;return z.style.display="none",z.style.visibility="visible",de}static getHiddenElementDimensions(z){let de={};return z.style.visibility="hidden",z.style.display="block",de.width=z.offsetWidth,de.height=z.offsetHeight,z.style.display="none",z.style.visibility="visible",de}static scrollInView(z,de){let ie=getComputedStyle(z).getPropertyValue("borderTopWidth"),he=ie?parseFloat(ie):0,Ne=getComputedStyle(z).getPropertyValue("paddingTop"),ne=Ne?parseFloat(Ne):0,ue=z.getBoundingClientRect(),tt=de.getBoundingClientRect().top+document.body.scrollTop-(ue.top+document.body.scrollTop)-he-ne,Be=z.scrollTop,pt=z.clientHeight,St=this.getOuterHeight(de);tt<0?z.scrollTop=Be+tt:tt+St>pt&&(z.scrollTop=Be+tt-pt+St)}static fadeIn(z,de){z.style.opacity=0;let ie=+new Date,he=0,Ne=function(){he=+z.style.opacity.replace(",",".")+((new Date).getTime()-ie)/de,z.style.opacity=he,ie=+new Date,+he<1&&(window.requestAnimationFrame&&requestAnimationFrame(Ne)||setTimeout(Ne,16))};Ne()}static fadeOut(z,de){var ie=1,ne=50/de;let ue=setInterval(()=>{(ie-=ne)<=0&&(ie=0,clearInterval(ue)),z.style.opacity=ie},50)}static getWindowScrollTop(){let z=document.documentElement;return(window.pageYOffset||z.scrollTop)-(z.clientTop||0)}static getWindowScrollLeft(){let z=document.documentElement;return(window.pageXOffset||z.scrollLeft)-(z.clientLeft||0)}static matches(z,de){var ie=Element.prototype;return(ie.matches||ie.webkitMatchesSelector||ie.mozMatchesSelector||ie.msMatchesSelector||function(Ne){return-1!==[].indexOf.call(document.querySelectorAll(Ne),this)}).call(z,de)}static getOuterWidth(z,de){let ie=z.offsetWidth;if(de){let he=getComputedStyle(z);ie+=parseFloat(he.marginLeft)+parseFloat(he.marginRight)}return ie}static getHorizontalPadding(z){let de=getComputedStyle(z);return parseFloat(de.paddingLeft)+parseFloat(de.paddingRight)}static getHorizontalMargin(z){let de=getComputedStyle(z);return parseFloat(de.marginLeft)+parseFloat(de.marginRight)}static innerWidth(z){let de=z.offsetWidth,ie=getComputedStyle(z);return de+=parseFloat(ie.paddingLeft)+parseFloat(ie.paddingRight),de}static width(z){let de=z.offsetWidth,ie=getComputedStyle(z);return de-=parseFloat(ie.paddingLeft)+parseFloat(ie.paddingRight),de}static getInnerHeight(z){let de=z.offsetHeight,ie=getComputedStyle(z);return de+=parseFloat(ie.paddingTop)+parseFloat(ie.paddingBottom),de}static getOuterHeight(z,de){let ie=z.offsetHeight;if(de){let he=getComputedStyle(z);ie+=parseFloat(he.marginTop)+parseFloat(he.marginBottom)}return ie}static getHeight(z){let de=z.offsetHeight,ie=getComputedStyle(z);return de-=parseFloat(ie.paddingTop)+parseFloat(ie.paddingBottom)+parseFloat(ie.borderTopWidth)+parseFloat(ie.borderBottomWidth),de}static getWidth(z){let de=z.offsetWidth,ie=getComputedStyle(z);return de-=parseFloat(ie.paddingLeft)+parseFloat(ie.paddingRight)+parseFloat(ie.borderLeftWidth)+parseFloat(ie.borderRightWidth),de}static getViewport(){let z=window,de=document,ie=de.documentElement,he=de.getElementsByTagName("body")[0];return{width:z.innerWidth||ie.clientWidth||he.clientWidth,height:z.innerHeight||ie.clientHeight||he.clientHeight}}static getOffset(z){var de=z.getBoundingClientRect();return{top:de.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:de.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(z,de){let ie=z.parentNode;if(!ie)throw"Can't replace element";return ie.replaceChild(de,z)}static getUserAgent(){return navigator.userAgent}static isIE(){var z=window.navigator.userAgent;return z.indexOf("MSIE ")>0||(z.indexOf("Trident/")>0?(z.indexOf("rv:"),!0):z.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(z,de){if(this.isElement(de))de.appendChild(z);else{if(!de.el||!de.el.nativeElement)throw"Cannot append "+de+" to "+z;de.el.nativeElement.appendChild(z)}}static removeChild(z,de){if(this.isElement(de))de.removeChild(z);else{if(!de.el||!de.el.nativeElement)throw"Cannot remove "+z+" from "+de;de.el.nativeElement.removeChild(z)}}static removeElement(z){"remove"in Element.prototype?z.remove():z.parentNode.removeChild(z)}static isElement(z){return"object"==typeof HTMLElement?z instanceof HTMLElement:z&&"object"==typeof z&&null!==z&&1===z.nodeType&&"string"==typeof z.nodeName}static calculateScrollbarWidth(z){if(z){let de=getComputedStyle(z);return z.offsetWidth-z.clientWidth-parseFloat(de.borderLeftWidth)-parseFloat(de.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let de=document.createElement("div");de.className="p-scrollbar-measure",document.body.appendChild(de);let ie=de.offsetWidth-de.clientWidth;return document.body.removeChild(de),this.calculatedScrollbarWidth=ie,ie}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let z=document.createElement("div");z.className="p-scrollbar-measure",document.body.appendChild(z);let de=z.offsetHeight-z.clientHeight;return document.body.removeChild(z),this.calculatedScrollbarWidth=de,de}static invokeElementMethod(z,de,ie){z[de].apply(z,ie)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let z=this.resolveUserAgent();this.browser={},z.browser&&(this.browser[z.browser]=!0,this.browser.version=z.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let z=navigator.userAgent.toLowerCase(),de=/(chrome)[ \/]([\w.]+)/.exec(z)||/(webkit)[ \/]([\w.]+)/.exec(z)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(z)||/(msie) ([\w.]+)/.exec(z)||z.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(z)||[];return{browser:de[1]||"",version:de[2]||"0"}}static isInteger(z){return Number.isInteger?Number.isInteger(z):"number"==typeof z&&isFinite(z)&&Math.floor(z)===z}static isHidden(z){return null===z.offsetParent}static getFocusableElements(z){let de=be.find(z,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),ie=[];for(let he of de)"none"!=getComputedStyle(he).display&&"hidden"!=getComputedStyle(he).visibility&&ie.push(he);return ie}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}}return be.zindex=1e3,be.calculatedScrollbarWidth=null,be.calculatedScrollbarHeight=null,be})();class j{constructor(me,z=(()=>{})){this.element=me,this.listener=z}bindScrollListener(){this.scrollableParents=f.getScrollableParents(this.element);for(let me=0;me<this.scrollableParents.length;me++)this.scrollableParents[me].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let me=0;me<this.scrollableParents.length;me++)this.scrollableParents[me].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}}},4325:(fn,ut,X)=>{X.d(ut,{DL:()=>Pe,E7:()=>Ie,S:()=>lt,xA:()=>Fe});var f=X(8256),j=X(7340),be=X(6895),me=X(9592),z=X(982),de=X(7579),ie=X(805);const he=["mask"],Ne=["content"],ne=["titlebar"];function ue(je,He){if(1&je){const Ae=f.EpF();f.TgZ(0,"div",11),f.NdJ("mousedown",function(At){f.CHM(Ae);const Rt=f.oxw(2);return f.KtG(Rt.initResize(At))}),f.qZA()}}const Oe=function(){return{"p-dialog-header-icon p-dialog-header-maximize p-link":!0}};function tt(je,He){if(1&je){const Ae=f.EpF();f.TgZ(0,"button",18),f.NdJ("click",function(){f.CHM(Ae);const At=f.oxw(3);return f.KtG(At.maximize())})("keydown.enter",function(){f.CHM(Ae);const At=f.oxw(3);return f.KtG(At.maximize())}),f._UZ(1,"span",19),f.qZA()}if(2&je){const Ae=f.oxw(3);f.Q6J("ngClass",f.DdM(2,Oe)),f.xp6(1),f.Q6J("ngClass",Ae.maximized?Ae.minimizeIcon:Ae.maximizeIcon)}}function Be(je,He){if(1&je){const Ae=f.EpF();f.TgZ(0,"button",20),f.NdJ("click",function(){f.CHM(Ae);const At=f.oxw(3);return f.KtG(At.hide())})("keydown.enter",function(){f.CHM(Ae);const At=f.oxw(3);return f.KtG(At.hide())}),f._UZ(1,"span",21),f.qZA()}2&je&&f.Q6J("ngClass","p-dialog-header-icon p-dialog-header-maximize p-link")}function pt(je,He){if(1&je){const Ae=f.EpF();f.TgZ(0,"div",12,13),f.NdJ("mousedown",function(At){f.CHM(Ae);const Rt=f.oxw(2);return f.KtG(Rt.initDrag(At))}),f.TgZ(2,"span",14),f._uU(3),f.qZA(),f.TgZ(4,"div",15),f.YNc(5,tt,2,3,"button",16),f.YNc(6,Be,2,1,"button",17),f.qZA()()}if(2&je){const Ae=f.oxw(2);f.xp6(3),f.Oqu(Ae.config.header),f.xp6(2),f.Q6J("ngIf",Ae.config.maximizable),f.xp6(1),f.Q6J("ngIf",!1!==Ae.config.closable)}}function St(je,He){}function Vt(je,He){if(1&je&&(f.TgZ(0,"div",22),f._uU(1),f.qZA()),2&je){const Ae=f.oxw(2);f.xp6(1),f.hij(" ",Ae.config.footer," ")}}const kt=function(je,He,Ae,ot){return{"p-dialog p-dynamic-dialog p-component":!0,"p-dialog-rtl":je,"p-dialog-resizable":He,"p-dialog-draggable":Ae,"p-dialog-maximized":ot}},Ft=function(je,He){return{transform:je,transition:He}},_t=function(je){return{value:"visible",params:je}};function ce(je,He){if(1&je){const Ae=f.EpF();f.TgZ(0,"div",3,4),f.NdJ("@animation.start",function(At){f.CHM(Ae);const Rt=f.oxw();return f.KtG(Rt.onAnimationStart(At))})("@animation.done",function(At){f.CHM(Ae);const Rt=f.oxw();return f.KtG(Rt.onAnimationEnd(At))}),f.YNc(2,ue,1,0,"div",5),f.YNc(3,pt,7,3,"div",6),f.TgZ(4,"div",7,8),f.YNc(6,St,0,0,"ng-template",9),f.qZA(),f.YNc(7,Vt,2,1,"div",10),f.qZA()}if(2&je){const Ae=f.oxw();f.Tol(Ae.config.styleClass),f.Udp("width",Ae.config.width)("height",Ae.config.height),f.Q6J("ngClass",f.l5B(13,kt,Ae.config.rtl,Ae.config.resizable,Ae.config.draggable,Ae.maximized))("ngStyle",Ae.config.style)("@animation",f.VKq(21,_t,f.WLB(18,Ft,Ae.transformOptions,Ae.config.transitionOptions||"150ms cubic-bezier(0, 0, 0.2, 1)"))),f.xp6(2),f.Q6J("ngIf",Ae.config.resizable),f.xp6(1),f.Q6J("ngIf",!1!==Ae.config.showHeader),f.xp6(1),f.Q6J("ngStyle",Ae.config.contentStyle),f.xp6(3),f.Q6J("ngIf",Ae.config.footer)}}const De=function(je,He,Ae,ot,At,Rt,en,bn,nn){return{"p-dialog-mask":!0,"p-component-overlay p-component-overlay-enter p-dialog-mask-scrollblocker":je,"p-dialog-left":He,"p-dialog-right":Ae,"p-dialog-top":ot,"p-dialog-bottom":At,"p-dialog-top-left":Rt,"p-dialog-top-right":en,"p-dialog-bottom-left":bn,"p-dialog-bottom-right":nn}};let _e=(()=>{class je{constructor(Ae){this.viewContainerRef=Ae}}return je.\u0275fac=function(Ae){return new(Ae||je)(f.Y36(f.s_b))},je.\u0275dir=f.lG2({type:je,selectors:[["","pDynamicDialogContent",""]],hostAttrs:[1,"p-element"]}),je})();class lt{}class Ie{constructor(){this._onClose=new de.x,this.onClose=this._onClose.asObservable(),this._onDestroy=new de.x,this.onDestroy=this._onDestroy.asObservable(),this._onDragStart=new de.x,this.onDragStart=this._onDragStart.asObservable(),this._onDragEnd=new de.x,this.onDragEnd=this._onDragEnd.asObservable(),this._onResizeInit=new de.x,this.onResizeInit=this._onResizeInit.asObservable(),this._onResizeEnd=new de.x,this.onResizeEnd=this._onResizeEnd.asObservable(),this._onMaximize=new de.x,this.onMaximize=this._onMaximize.asObservable()}close(He){this._onClose.next(He)}destroy(){this._onDestroy.next(null)}dragStart(He){this._onDragStart.next(He)}dragEnd(He){this._onDragEnd.next(He)}resizeInit(He){this._onResizeInit.next(He)}resizeEnd(He){this._onResizeEnd.next(He)}maximize(He){this._onMaximize.next(He)}}const Re=(0,j.oQ)([(0,j.oB)({transform:"{{transform}}",opacity:0}),(0,j.jt)("{{transition}}",(0,j.oB)({transform:"none",opacity:1}))]),st=(0,j.oQ)([(0,j.jt)("{{transition}}",(0,j.oB)({transform:"{{transform}}",opacity:0}))]);let Ce=(()=>{class je{constructor(Ae,ot,At,Rt,en,bn,nn){this.componentFactoryResolver=Ae,this.cd=ot,this.renderer=At,this.config=Rt,this.dialogRef=en,this.zone=bn,this.primeNGConfig=nn,this.visible=!0,this._style={},this.transformOptions="scale(0.7)"}get minX(){return this.config.minX?this.config.minX:0}get minY(){return this.config.minY?this.config.minY:0}get keepInViewport(){return this.config.keepInViewport}get maximizable(){return this.config.maximizable}get maximizeIcon(){return this.config.maximizeIcon?this.config.maximizeIcon:"pi pi-window-maximize"}get minimizeIcon(){return this.config.minimizeIcon?this.config.minimizeIcon:"pi pi-window-minimize"}get style(){return this._style}get position(){return this.config.position}set style(Ae){Ae&&(this._style={...Ae},this.originalStyle=Ae)}ngAfterViewInit(){this.loadChildComponent(this.childComponentType),this.cd.detectChanges()}loadChildComponent(Ae){let ot=this.componentFactoryResolver.resolveComponentFactory(Ae),At=this.insertionPoint.viewContainerRef;At.clear(),this.componentRef=At.createComponent(ot)}moveOnTop(){!1!==this.config.autoZIndex&&(z.P9.set("modal",this.container,(this.config.baseZIndex||0)+this.primeNGConfig.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}onAnimationStart(Ae){switch(Ae.toState){case"visible":this.container=Ae.element,this.wrapper=this.container.parentElement,this.moveOnTop(),this.bindGlobalListeners(),!1!==this.config.modal&&this.enableModality(),this.focus();break;case"void":this.wrapper&&!1!==this.config.modal&&me.p.addClass(this.wrapper,"p-component-overlay-leave")}}onAnimationEnd(Ae){"void"===Ae.toState&&(this.onContainerDestroy(),this.dialogRef.destroy())}onContainerDestroy(){this.unbindGlobalListeners(),this.container&&!1!==this.config.autoZIndex&&z.P9.clear(this.container),!1!==this.config.modal&&this.disableModality(),this.container=null}close(){this.visible=!1,this.cd.markForCheck()}hide(){this.dialogRef&&this.dialogRef.close()}enableModality(){!1!==this.config.closable&&this.config.dismissableMask&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",Ae=>{this.wrapper&&this.wrapper.isSameNode(Ae.target)&&this.hide()})),!1!==this.config.modal&&me.p.addClass(document.body,"p-overflow-hidden")}disableModality(){this.wrapper&&(this.config.dismissableMask&&this.unbindMaskClickListener(),!1!==this.config.modal&&me.p.removeClass(document.body,"p-overflow-hidden"),this.cd.destroyed||this.cd.detectChanges())}onKeydown(Ae){if(9===Ae.which){Ae.preventDefault();let ot=me.p.getFocusableElements(this.container);if(ot&&ot.length>0)if(ot[0].ownerDocument.activeElement){let At=ot.indexOf(ot[0].ownerDocument.activeElement);Ae.shiftKey?-1==At||0===At?ot[ot.length-1].focus():ot[At-1].focus():-1==At||At===ot.length-1?ot[0].focus():ot[At+1].focus()}else ot[0].focus()}}focus(){let Ae=me.p.findSingle(this.container,"[autofocus]");Ae&&this.zone.runOutsideAngular(()=>{setTimeout(()=>Ae.focus(),5)})}maximize(){this.maximized=!this.maximized,this.maximized?me.p.addClass(document.body,"p-overflow-hidden"):me.p.removeClass(document.body,"p-overflow-hidden"),this.dialogRef.maximize({maximized:this.maximized})}initResize(Ae){this.config.resizable&&(this.resizing=!0,this.lastPageX=Ae.pageX,this.lastPageY=Ae.pageY,me.p.addClass(document.body,"p-unselectable-text"),this.dialogRef.resizeInit(Ae))}onResize(Ae){if(this.resizing){let ot=Ae.pageX-this.lastPageX,At=Ae.pageY-this.lastPageY,Rt=me.p.getOuterWidth(this.container),en=me.p.getOuterHeight(this.container),bn=me.p.getOuterHeight(this.contentViewChild.nativeElement),nn=Rt+ot,Wn=en+At,yn=this.container.style.minWidth,dn=this.container.style.minHeight,Cn=this.container.getBoundingClientRect(),cn=me.p.getViewport();(!parseInt(this.container.style.top)||!parseInt(this.container.style.left))&&(nn+=ot,Wn+=At),(!yn||nn>parseInt(yn))&&Cn.left+nn<cn.width&&(this._style.width=nn+"px",this.container.style.width=this._style.width),(!dn||Wn>parseInt(dn))&&Cn.top+Wn<cn.height&&(this.contentViewChild.nativeElement.style.height=bn+Wn-en+"px",this._style.height&&(this._style.height=Wn+"px",this.container.style.height=this._style.height)),this.lastPageX=Ae.pageX,this.lastPageY=Ae.pageY}}resizeEnd(Ae){this.resizing&&(this.resizing=!1,me.p.removeClass(document.body,"p-unselectable-text"),this.dialogRef.resizeEnd(Ae))}initDrag(Ae){me.p.hasClass(Ae.target,"p-dialog-header-icon")||me.p.hasClass(Ae.target.parentElement,"p-dialog-header-icon")||this.config.draggable&&(this.dragging=!0,this.lastPageX=Ae.pageX,this.lastPageY=Ae.pageY,this.container.style.margin="0",me.p.addClass(document.body,"p-unselectable-text"),this.dialogRef.dragStart(Ae))}onDrag(Ae){if(this.dragging){let ot=me.p.getOuterWidth(this.container),At=me.p.getOuterHeight(this.container),Rt=Ae.pageX-this.lastPageX,en=Ae.pageY-this.lastPageY,bn=this.container.getBoundingClientRect(),nn=bn.left+Rt,Wn=bn.top+en,yn=me.p.getViewport();this.container.style.position="fixed",this.keepInViewport?(nn>=this.minX&&nn+ot<yn.width&&(this._style.left=nn+"px",this.lastPageX=Ae.pageX,this.container.style.left=nn+"px"),Wn>=this.minY&&Wn+At<yn.height&&(this._style.top=Wn+"px",this.lastPageY=Ae.pageY,this.container.style.top=Wn+"px")):(this.lastPageX=Ae.pageX,this.container.style.left=nn+"px",this.lastPageY=Ae.pageY,this.container.style.top=Wn+"px")}}endDrag(Ae){this.dragging&&(this.dragging=!1,me.p.removeClass(document.body,"p-unselectable-text"),this.dialogRef.dragEnd(Ae),this.cd.detectChanges())}resetPosition(){this.container.style.position="",this.container.style.left="",this.container.style.top="",this.container.style.margin=""}bindDocumentDragListener(){this.zone.runOutsideAngular(()=>{this.documentDragListener=this.onDrag.bind(this),window.document.addEventListener("mousemove",this.documentDragListener)})}bindDocumentDragEndListener(){this.zone.runOutsideAngular(()=>{this.documentDragEndListener=this.endDrag.bind(this),window.document.addEventListener("mouseup",this.documentDragEndListener)})}unbindDocumentDragEndListener(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}unbindDocumentDragListener(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)}bindDocumentResizeListeners(){this.zone.runOutsideAngular(()=>{this.documentResizeListener=this.onResize.bind(this),this.documentResizeEndListener=this.resizeEnd.bind(this),window.document.addEventListener("mousemove",this.documentResizeListener),window.document.addEventListener("mouseup",this.documentResizeEndListener)})}unbindDocumentResizeListeners(){this.documentResizeListener&&this.documentResizeEndListener&&(window.document.removeEventListener("mousemove",this.documentResizeListener),window.document.removeEventListener("mouseup",this.documentResizeEndListener),this.documentResizeListener=null,this.documentResizeEndListener=null)}bindGlobalListeners(){this.bindDocumentKeydownListener(),!1!==this.config.closeOnEscape&&!1!==this.config.closable&&this.bindDocumentEscapeListener(),this.config.resizable&&this.bindDocumentResizeListeners(),this.config.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener())}unbindGlobalListeners(){this.unbindDocumentKeydownListener(),this.unbindDocumentEscapeListener(),this.unbindDocumentResizeListeners(),this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener()}bindDocumentKeydownListener(){this.zone.runOutsideAngular(()=>{this.documentKeydownListener=this.onKeydown.bind(this),window.document.addEventListener("keydown",this.documentKeydownListener)})}unbindDocumentKeydownListener(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)}bindDocumentEscapeListener(){this.documentEscapeListener=this.renderer.listen(this.maskViewChild?this.maskViewChild.nativeElement.ownerDocument:"document","keydown",ot=>{27==ot.which&&parseInt(this.container.style.zIndex)==z.P9.getCurrent()&&this.hide()})}unbindDocumentEscapeListener(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}ngOnDestroy(){this.onContainerDestroy(),this.componentRef&&this.componentRef.destroy()}}return je.\u0275fac=function(Ae){return new(Ae||je)(f.Y36(f._Vd),f.Y36(f.sBO),f.Y36(f.Qsj),f.Y36(lt),f.Y36(Ie),f.Y36(f.R0b),f.Y36(ie.b4))},je.\u0275cmp=f.Xpm({type:je,selectors:[["p-dynamicDialog"]],viewQuery:function(Ae,ot){if(1&Ae&&(f.Gf(_e,5),f.Gf(he,5),f.Gf(Ne,5),f.Gf(ne,5)),2&Ae){let At;f.iGM(At=f.CRH())&&(ot.insertionPoint=At.first),f.iGM(At=f.CRH())&&(ot.maskViewChild=At.first),f.iGM(At=f.CRH())&&(ot.contentViewChild=At.first),f.iGM(At=f.CRH())&&(ot.headerViewChild=At.first)}},hostAttrs:[1,"p-element"],decls:3,vars:14,consts:[[3,"ngClass"],["mask",""],["role","dialog",3,"ngClass","ngStyle","class","width","height",4,"ngIf"],["role","dialog",3,"ngClass","ngStyle"],["container",""],["class","p-resizable-handle","style","z-index: 90;",3,"mousedown",4,"ngIf"],["class","p-dialog-header",3,"mousedown",4,"ngIf"],[1,"p-dialog-content",3,"ngStyle"],["content",""],["pDynamicDialogContent",""],["class","p-dialog-footer",4,"ngIf"],[1,"p-resizable-handle",2,"z-index","90",3,"mousedown"],[1,"p-dialog-header",3,"mousedown"],["titlebar",""],[1,"p-dialog-title"],[1,"p-dialog-header-icons"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button",3,"ngClass","click","keydown.enter",4,"ngIf"],["type","button","tabindex","-1","pRipple","",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-maximize-icon",3,"ngClass"],["type","button",3,"ngClass","click","keydown.enter"],[1,"p-dialog-header-close-icon","pi","pi-times"],[1,"p-dialog-footer"]],template:function(Ae,ot){1&Ae&&(f.TgZ(0,"div",0,1),f.YNc(2,ce,8,23,"div",2),f.qZA()),2&Ae&&(f.Tol(ot.config.maskStyleClass),f.Q6J("ngClass",f.rFY(4,De,[!1!==ot.config.modal,"left"===ot.position,"right"===ot.position,"top"===ot.position,"bottom"===ot.position,"topleft"===ot.position||"top-left"===ot.position,"topright"===ot.position||"top-right"===ot.position,"bottomleft"===ot.position||"bottom-left"===ot.position,"bottomright"===ot.position||"bottom-right"===ot.position])),f.xp6(2),f.Q6J("ngIf",ot.visible))},dependencies:function(){return[be.mk,be.O5,be.PC,_e]},styles:[".p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translate(0)}.p-dialog-maximized{transition:none;transform:none;width:100vw!important;height:100vh!important;top:0px!important;left:0px!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}\n"],encapsulation:2,data:{animation:[(0,j.X$)("animation",[(0,j.eR)("void => visible",[(0,j._7)(Re)]),(0,j.eR)("visible => void",[(0,j._7)(st)])])]}}),je})(),Pe=(()=>{class je{}return je.\u0275fac=function(Ae){return new(Ae||je)},je.\u0275mod=f.oAB({type:je}),je.\u0275inj=f.cJS({imports:[be.ez]}),je})();class Ye{constructor(He,Ae){this._parentInjector=He,this._additionalTokens=Ae}get(He,Ae,ot){return this._additionalTokens.get(He)||this._parentInjector.get(He,Ae)}}let Fe=(()=>{class je{constructor(Ae,ot,At){this.componentFactoryResolver=Ae,this.appRef=ot,this.injector=At,this.dialogComponentRefMap=new Map}open(Ae,ot){const At=this.appendDialogComponentToBody(ot);return this.dialogComponentRefMap.get(At).instance.childComponentType=Ae,At}appendDialogComponentToBody(Ae){const ot=new WeakMap;ot.set(lt,Ae);const At=new Ie;ot.set(Ie,At);const Rt=At.onClose.subscribe(()=>{this.dialogComponentRefMap.get(At).instance.close()}),en=At.onDestroy.subscribe(()=>{this.removeDialogComponentFromBody(At),en.unsubscribe(),Rt.unsubscribe()}),nn=this.componentFactoryResolver.resolveComponentFactory(Ce).create(new Ye(this.injector,ot));return this.appRef.attachView(nn.hostView),document.body.appendChild(nn.hostView.rootNodes[0]),this.dialogComponentRefMap.set(At,nn),At}removeDialogComponentFromBody(Ae){if(!Ae||!this.dialogComponentRefMap.has(Ae))return;const ot=this.dialogComponentRefMap.get(Ae);this.appRef.detachView(ot.hostView),ot.destroy(),this.dialogComponentRefMap.delete(Ae)}}return je.\u0275fac=function(Ae){return new(Ae||je)(f.LFG(f._Vd),f.LFG(f.z2F),f.LFG(f.zs3))},je.\u0275prov=f.Yz7({token:je,factory:je.\u0275fac}),je})()},982:(fn,ut,X)=>{X.d(ut,{P9:()=>z,Th:()=>be,gb:()=>f});class f{static equals(ie,he,Ne){return Ne?this.resolveFieldData(ie,Ne)===this.resolveFieldData(he,Ne):this.equalsByValue(ie,he)}static equalsByValue(ie,he){if(ie===he)return!0;if(ie&&he&&"object"==typeof ie&&"object"==typeof he){var ue,Oe,tt,Ne=Array.isArray(ie),ne=Array.isArray(he);if(Ne&&ne){if((Oe=ie.length)!=he.length)return!1;for(ue=Oe;0!=ue--;)if(!this.equalsByValue(ie[ue],he[ue]))return!1;return!0}if(Ne!=ne)return!1;var Be=ie instanceof Date,pt=he instanceof Date;if(Be!=pt)return!1;if(Be&&pt)return ie.getTime()==he.getTime();var St=ie instanceof RegExp,Vt=he instanceof RegExp;if(St!=Vt)return!1;if(St&&Vt)return ie.toString()==he.toString();var kt=Object.keys(ie);if((Oe=kt.length)!==Object.keys(he).length)return!1;for(ue=Oe;0!=ue--;)if(!Object.prototype.hasOwnProperty.call(he,kt[ue]))return!1;for(ue=Oe;0!=ue--;)if(!this.equalsByValue(ie[tt=kt[ue]],he[tt]))return!1;return!0}return ie!=ie&&he!=he}static resolveFieldData(ie,he){if(ie&&he){if(this.isFunction(he))return he(ie);if(-1==he.indexOf("."))return ie[he];{let Ne=he.split("."),ne=ie;for(let ue=0,Oe=Ne.length;ue<Oe;++ue){if(null==ne)return null;ne=ne[Ne[ue]]}return ne}}return null}static isFunction(ie){return!!(ie&&ie.constructor&&ie.call&&ie.apply)}static reorderArray(ie,he,Ne){ie&&he!==Ne&&(Ne>=ie.length&&(Ne%=ie.length,he%=ie.length),ie.splice(Ne,0,ie.splice(he,1)[0]))}static insertIntoOrderedArray(ie,he,Ne,ne){if(Ne.length>0){let ue=!1;for(let Oe=0;Oe<Ne.length;Oe++)if(this.findIndexInList(Ne[Oe],ne)>he){Ne.splice(Oe,0,ie),ue=!0;break}ue||Ne.push(ie)}else Ne.push(ie)}static findIndexInList(ie,he){let Ne=-1;if(he)for(let ne=0;ne<he.length;ne++)if(he[ne]==ie){Ne=ne;break}return Ne}static contains(ie,he){if(null!=ie&&he&&he.length)for(let Ne of he)if(this.equals(ie,Ne))return!0;return!1}static removeAccents(ie){return ie&&ie.search(/[\xC0-\xFF]/g)>-1&&(ie=ie.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),ie}static isEmpty(ie){return null==ie||""===ie||Array.isArray(ie)&&0===ie.length||!(ie instanceof Date)&&"object"==typeof ie&&0===Object.keys(ie).length}static isNotEmpty(ie){return!this.isEmpty(ie)}}var j=0;function be(){return"pr_id_"+ ++j}var z=function me(){let de=[];const ne=ue=>ue&&parseInt(ue.style.zIndex,10)||0;return{get:ne,set:(ue,Oe,tt)=>{Oe&&(Oe.style.zIndex=String(((ue,Oe)=>{let tt=de.length>0?de[de.length-1]:{key:ue,value:Oe},Be=tt.value+(tt.key===ue?0:Oe)+1;return de.push({key:ue,value:Be}),Be})(ue,tt)))},clear:ue=>{ue&&((ue=>{de=de.filter(Oe=>Oe.value!==ue)})(ne(ue)),ue.style.zIndex="")},getCurrent:()=>de.length>0?de[de.length-1].value:0}}()},5861:(fn,ut,X)=>{function f(be,me,z,de,ie,he,Ne){try{var ne=be[he](Ne),ue=ne.value}catch(Oe){return void z(Oe)}ne.done?me(ue):Promise.resolve(ue).then(de,ie)}function j(be){return function(){var me=this,z=arguments;return new Promise(function(de,ie){var he=be.apply(me,z);function Ne(ue){f(he,de,ie,Ne,ne,"next",ue)}function ne(ue){f(he,de,ie,Ne,ne,"throw",ue)}Ne(void 0)})}}X.d(ut,{Z:()=>j})}},fn=>{fn(fn.s=6009)}]);