"use strict";(self.webpackChunkmetrics=self.webpackChunkmetrics||[]).push([[179],{7128:(yn,ct,Q)=>{Q.d(ct,{nm:()=>br});var y=Q(8321),Re=(Q(8256),Q(3692),Q(5867),Q(5861)),nt=Q(9681),We=Q(4859),Ve=Q(2090),tt=Q(1877);const oe=new Map,pe={activated:!1,tokenObservers:[]},qe={initialized:!1,enabled:!1};function lt(Ce){return oe.get(Ce)||pe}function Ue(Ce,we){oe.set(Ce,we)}function Et(){return qe}class Te{constructor(we,Oe,et,yt,kt){if(this.operation=we,this.retryPolicy=Oe,this.getWaitDuration=et,this.lowerBound=yt,this.upperBound=kt,this.pending=null,this.nextErrorWaitInterval=yt,yt>kt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(we){var Oe=this;return(0,Re.Z)(function*(){Oe.stop();try{Oe.pending=new Ve.BH,yield function xe(Ce){return new Promise(we=>{setTimeout(we,Ce)})}(Oe.getNextRun(we)),Oe.pending.resolve(),yield Oe.pending.promise,Oe.pending=new Ve.BH,yield Oe.operation(),Oe.pending.resolve(),yield Oe.pending.promise,Oe.process(!0).catch(()=>{})}catch(et){Oe.retryPolicy(et)?Oe.process(!1).catch(()=>{}):Oe.stop()}})()}getNextRun(we){if(we)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Oe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Oe}}}const Ee=new Ve.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function rt(Ce){if(!lt(Ce).activated)throw Ee.create("use-before-activation",{appName:Ce.name})}function He(Ce,we){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,Re.Z)(function*({url:Ce,body:we},Oe){var et,yt;const kt={"Content-Type":"application/json"},Cn=Oe.getImmediate({optional:!0});if(Cn){const Kn=yield Cn.getHeartbeatsHeader();Kn&&(kt["X-Firebase-Client"]=Kn)}const hr={method:"POST",body:JSON.stringify(we),headers:kt};let qn,Br;try{qn=yield fetch(Ce,hr)}catch(Kn){throw Ee.create("fetch-network-error",{originalErrorMessage:null===(et=Kn)||void 0===et?void 0:et.message})}if(200!==qn.status)throw Ee.create("fetch-status-error",{httpStatus:qn.status});try{Br=yield qn.json()}catch(Kn){throw Ee.create("fetch-parse-error",{originalErrorMessage:null===(yt=Kn)||void 0===yt?void 0:yt.message})}const kr=Br.ttl.match(/^([\d.]+)(s)$/);if(!kr||!kr[2]||isNaN(Number(kr[1])))throw Ee.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Br.ttl}`});const ms=1e3*Number(kr[1]),$r=Date.now();return{token:Br.token,expireTimeMillis:$r+ms,issuedAtTimeMillis:$r}})).apply(this,arguments)}function Mt(Ce,we){const{projectId:Oe,appId:et,apiKey:yt}=Ce.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Oe}/apps/${et}:exchangeDebugToken?key=${yt}`,body:{debug_token:we}}}const Wt="firebase-app-check-store";let $n=null;function Rn(){return $n||($n=new Promise((Ce,we)=>{var Oe;try{const et=indexedDB.open("firebase-app-check-database",1);et.onsuccess=yt=>{Ce(yt.target.result)},et.onerror=yt=>{var kt;we(Ee.create("storage-open",{originalErrorMessage:null===(kt=yt.target.error)||void 0===kt?void 0:kt.message}))},et.onupgradeneeded=yt=>{0===yt.oldVersion&&yt.target.result.createObjectStore(Wt,{keyPath:"compositeKey"})}}catch(et){we(Ee.create("storage-open",{originalErrorMessage:null===(Oe=et)||void 0===Oe?void 0:Oe.message}))}}),$n)}function qr(){return(qr=(0,Re.Z)(function*(Ce,we){const et=(yield Rn()).transaction(Wt,"readwrite"),kt=et.objectStore(Wt).put({compositeKey:Ce,value:we});return new Promise((Cn,hr)=>{kt.onsuccess=qn=>{Cn()},et.onerror=qn=>{var Br;hr(Ee.create("storage-set",{originalErrorMessage:null===(Br=qn.target.error)||void 0===Br?void 0:Br.message}))}})})).apply(this,arguments)}const ei=new tt.Yd("@firebase/app-check");function rr(Ce,we){return(0,Ve.hl)()?function Dn(Ce,we){return function fn(Ce,we){return qr.apply(this,arguments)}(function fr(Ce){return`${Ce.options.appId}-${Ce.name}`}(Ce),we)}(Ce,we).catch(Oe=>{ei.warn(`Failed to write token to IndexedDB. Error: ${Oe}`)}):Promise.resolve()}function Ir(){return Et().enabled}function Er(){return dr.apply(this,arguments)}function dr(){return(dr=(0,Re.Z)(function*(){const Ce=Et();if(Ce.enabled&&Ce.token)return Ce.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const pr={error:"UNKNOWN_ERROR"};function Dr(Ce){return Ve.US.encodeString(JSON.stringify(Ce),!1)}function Tt(Ce){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,Re.Z)(function*(Ce,we=!1){const Oe=Ce.app;rt(Oe);const et=lt(Oe);let kt,yt=et.token;if(yt&&!Vn(yt)&&(Ue(Oe,Object.assign(Object.assign({},et),{token:void 0})),yt=void 0),!yt){const qn=yield et.cachedTokenPromise;qn&&(Vn(qn)?yt=qn:yield rr(Oe,void 0))}if(!we&&yt&&Vn(yt))return{token:yt.token};let hr,Cn=!1;if(Ir()){et.exchangeTokenPromise||(et.exchangeTokenPromise=He(Mt(Oe,yield Er()),Ce.heartbeatServiceProvider).finally(()=>{et.exchangeTokenPromise=void 0}),Cn=!0);const qn=yield et.exchangeTokenPromise;return yield rr(Oe,qn),Ue(Oe,Object.assign(Object.assign({},et),{token:qn})),{token:qn.token}}try{et.exchangeTokenPromise||(et.exchangeTokenPromise=et.provider.getToken().finally(()=>{et.exchangeTokenPromise=void 0}),Cn=!0),yt=yield et.exchangeTokenPromise}catch(qn){"appCheck/throttled"===qn.code?ei.warn(qn.message):ei.error(qn),kt=qn}return yt?kt?hr=Vn(yt)?{token:yt.token,internalError:kt}:fi(kt):(hr={token:yt.token},Ue(Oe,Object.assign(Object.assign({},et),{token:yt})),yield rr(Oe,yt)):hr=fi(kt),Cn&&Yr(Oe,hr),hr})).apply(this,arguments)}function un(Ce,we){const Oe=lt(Ce),et=Oe.tokenObservers.filter(yt=>yt.next!==we);0===et.length&&Oe.tokenRefresher&&Oe.tokenRefresher.isRunning()&&Oe.tokenRefresher.stop(),Ue(Ce,Object.assign(Object.assign({},Oe),{tokenObservers:et}))}function ir(Ce){const{app:we}=Ce,Oe=lt(we);let et=Oe.tokenRefresher;et||(et=function Wn(Ce){const{app:we}=Ce;return new Te((0,Re.Z)(function*(){let et;if(et=lt(we).token?yield Tt(Ce,!0):yield Tt(Ce),et.error)throw et.error;if(et.internalError)throw et.internalError}),()=>!0,()=>{const Oe=lt(we);if(Oe.token){let et=Oe.token.issuedAtTimeMillis+.5*(Oe.token.expireTimeMillis-Oe.token.issuedAtTimeMillis)+3e5;return et=Math.min(et,Oe.token.expireTimeMillis-3e5),Math.max(0,et-Date.now())}return 0},3e4,96e4)}(Ce),Ue(we,Object.assign(Object.assign({},Oe),{tokenRefresher:et}))),!et.isRunning()&&Oe.isTokenAutoRefreshEnabled&&et.start()}function Yr(Ce,we){const Oe=lt(Ce).tokenObservers;for(const et of Oe)try{"EXTERNAL"===et.type&&null!=we.error?et.error(we.error):et.next(we)}catch{}}function Vn(Ce){return Ce.expireTimeMillis-Date.now()>0}function fi(Ce){return{token:Dr(pr),error:Ce}}class Qn{constructor(we,Oe){this.app=we,this.heartbeatServiceProvider=Oe}_delete(){const{tokenObservers:we}=lt(this.app);for(const Oe of we)un(this.app,Oe.next);return Promise.resolve()}}const $t="app-check-internal";!function dt(){(0,nt.Xd)(new We.wA("app-check",Ce=>function ti(Ce,we){return new Qn(Ce,we)}(Ce.getProvider("app").getImmediate(),Ce.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ce,we,Oe)=>{Ce.getProvider($t).initialize()})),(0,nt.Xd)(new We.wA($t,Ce=>function rn(Ce){return{getToken:we=>Tt(Ce,we),addTokenListener:we=>function nn(Ce,we,Oe,et){const{app:yt}=Ce,kt=lt(yt),Cn={next:Oe,error:et,type:we};if(Ue(yt,Object.assign(Object.assign({},kt),{tokenObservers:[...kt.tokenObservers,Cn]})),kt.token&&Vn(kt.token)){const hr=kt.token;Promise.resolve().then(()=>{Oe({token:hr.token}),ir(Ce)}).catch(()=>{})}kt.cachedTokenPromise.then(()=>ir(Ce))}(Ce,"INTERNAL",we),removeTokenListener:we=>un(Ce.app,we)}}(Ce.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,nt.KN)("@firebase/app-check","0.5.15")}();class br{constructor(){return(0,y.vb)("app-check")}}typeof window<"u"&&window},3692:(yn,ct,Q)=>{Q.d(ct,{Ot:()=>me,ZF:()=>Yt,hX:()=>lt,z6:()=>Re});var y=Q(5867),G=Q(8256),De=Q(8321);class me{constructor(Te){return Te}}class Re{constructor(){return(0,y.C6)()}}const Ve=new G.OlP("angularfire2._apps"),tt={provide:me,useFactory:function We(Be){return Be&&1===Be.length?Be[0]:new me((0,y.Mq)())},deps:[[new G.FiY,Ve]]},oe={provide:Re,deps:[[new G.FiY,Ve]]};function pe(Be){return(Te,xe)=>{const Dt=Te.runOutsideAngular(()=>Be(xe));return new me(Dt)}}let qe=(()=>{class Be{constructor(xe){(0,y.KN)("angularfire",De.q4.full,"core"),(0,y.KN)("angularfire",De.q4.full,"app"),(0,y.KN)("angular",G.q4F.full,xe.toString())}}return Be.\u0275fac=function(xe){return new(xe||Be)(G.LFG(G.Lbi))},Be.\u0275mod=G.oAB({type:Be}),Be.\u0275inj=G.cJS({providers:[tt,oe]}),Be})();function lt(Be,...Te){return{ngModule:qe,providers:[{provide:Ve,useFactory:pe(Be),multi:!0,deps:[G.R0b,G.zs3,De.HU,...Te]}]}}const Yt=(0,De.u3)(y.ZF,!0)},7323:(yn,ct,Q)=>{Q.d(ct,{gx:()=>qe,dh:()=>lt,v0:()=>Mt,AR:()=>Be,EA:()=>xe});var y=Q(8321),G=Q(8256),De=Q(3692),me=Q(5867),Re=Q(7128),nt=Q(270),We=Q(9751);function tt(gt){return new We.y(function(Pe){return{unsubscribe:(0,nt.MX)(gt,Pe.next.bind(Pe),Pe.error.bind(Pe),Pe.complete.bind(Pe))}})}class qe{constructor(Pe){return Pe}}class lt{constructor(){return(0,y.vb)("auth")}}const Et=new G.OlP("angularfire2.auth-instances");function Yt(gt){return(Pe,It)=>{const st=Pe.runOutsideAngular(()=>gt(It));return new qe(st)}}const Ut={provide:lt,deps:[[new G.FiY,Et]]},Ot={provide:qe,useFactory:function Nt(gt,Pe){const It=(0,y.JM)("auth",gt,Pe);return It&&new qe(It)},deps:[[new G.FiY,Et],De.Ot]};let _t=(()=>{class gt{constructor(){(0,me.KN)("angularfire",y.q4.full,"auth")}}return gt.\u0275fac=function(It){return new(It||gt)},gt.\u0275mod=G.oAB({type:gt}),gt.\u0275inj=G.cJS({providers:[Ot,Ut]}),gt})();function Be(gt,...Pe){return{ngModule:_t,providers:[{provide:Et,useFactory:Yt(gt),multi:!0,deps:[G.R0b,G.zs3,y.HU,De.z6,[new G.FiY,Re.nm],...Pe]}]}}const xe=(0,y.u3)(tt,!0),Mt=(0,y.u3)(nt.v0,!0)},3562:(yn,ct,Q)=>{Q.d(ct,{gg:()=>ye,ET:()=>Rr,hJ:()=>Sr,BS:()=>pn,JU:()=>dr,ad:()=>Qn,Cm:()=>hn,pl:()=>je});var y=Q(8321),G=Q(8256),De=Q(7323),me=Q(3692),Re=Q(5867),nt=Q(7128),We=Q(3209),Ve=Q(9751),tt=Q(4004),oe={includeMetadataChanges:!1};function rt(Ie,Qe){return void 0===Qe&&(Qe={}),function Dt(Ie){return function pe(Ie,Qe){return void 0===Qe&&(Qe=oe),new Ve.y(function(mt){return{unsubscribe:(0,We.cf)(Ie,Qe,{next:mt.next.bind(mt),error:mt.error.bind(mt),complete:mt.complete.bind(mt)})}})}(Ie,{includeMetadataChanges:!0}).pipe((0,tt.U)(function(Qe){return Qe.docs}))}(Ie).pipe((0,tt.U)(function(mt){return mt.map(function($t){return function Ue(Ie,Qe){void 0===Qe&&(Qe={});var mt=Ie.data();return!Ie.exists()||"object"!=typeof mt||null===mt||Qe.idField&&(mt[Qe.idField]=Ie.id),mt}($t,Qe)})}))}class ye{constructor(Qe){return Qe}}const be="firestore",it=new G.OlP("angularfire2.firestore-instances");function Mt(Ie){return(Qe,mt)=>{const $t=Qe.runOutsideAngular(()=>Ie(mt));return new ye($t)}}const an={provide:class He{constructor(){return(0,y.vb)(be)}},deps:[[new G.FiY,it]]},tr={provide:ye,useFactory:function Xe(Ie,Qe){const mt=(0,y.JM)(be,Ie,Qe);return mt&&new ye(mt)},deps:[[new G.FiY,it],me.Ot]};let Wt=(()=>{class Ie{constructor(){(0,Re.KN)("angularfire",y.q4.full,"fst")}}return Ie.\u0275fac=function(mt){return new(mt||Ie)},Ie.\u0275mod=G.oAB({type:Ie}),Ie.\u0275inj=G.cJS({providers:[tr,an]}),Ie})();function hn(Ie,...Qe){return{ngModule:Wt,providers:[{provide:it,useFactory:Mt(Ie),multi:!0,deps:[G.R0b,G.zs3,y.HU,me.z6,[new G.FiY,De.dh],[new G.FiY,nt.nm],...Qe]}]}}const pn=(0,y.u3)(rt,!0),Rr=(0,y.u3)(We.ET,!0),Sr=(0,y.u3)(We.hJ,!0),dr=(0,y.u3)(We.JU,!0),Qn=(0,y.u3)(We.ad,!0),je=(0,y.u3)(We.pl,!0)},8321:(yn,ct,Q)=>{Q.d(ct,{q4:()=>m,HU:()=>Yo,vb:()=>go,JM:()=>Ss,u3:()=>ou});var y=Q(8256),G=Q(5867),De=Q(5861),me=Q(9681),Re=Q(2090),nt=Q(4859),We=Q(1877),Ve=Q(8766);const tt="@firebase/installations",oe="0.5.15",qe=`w:${oe}`,lt="FIS_v2",Ot=new Re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function _t(x){return x instanceof Re.ZR&&x.code.includes("request-failed")}function Be({projectId:x}){return`https://firebaseinstallations.googleapis.com/v1/projects/${x}/installations`}function Te(x){return{token:x.token,requestStatus:2,expiresIn:be(x.expiresIn),creationTime:Date.now()}}function xe(x,R){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,De.Z)(function*(x,R){const ie=(yield R.json()).error;return Ot.create("request-failed",{requestName:x,serverCode:ie.code,serverMessage:ie.message,serverStatus:ie.status})})).apply(this,arguments)}function Ee({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function Se(x,{refreshToken:R}){const H=Ee(x);return H.append("Authorization",function He(x){return`${lt} ${x}`}(R)),H}function rt(x){return ye.apply(this,arguments)}function ye(){return(ye=(0,De.Z)(function*(x){const R=yield x();return R.status>=500&&R.status<600?x():R})).apply(this,arguments)}function be(x){return Number(x.replace("s","000"))}function Ne(x,R){return it.apply(this,arguments)}function it(){return(it=(0,De.Z)(function*({appConfig:x,heartbeatServiceProvider:R},{fid:H}){const ie=Be(x),Ae=Ee(x),Ke=R.getImmediate({optional:!0});if(Ke){const Un=yield Ke.getHeartbeatsHeader();Un&&Ae.append("x-firebase-client",Un)}const Pt={method:"POST",headers:Ae,body:JSON.stringify({fid:H,authVersion:lt,appId:x.appId,sdkVersion:qe})},xn=yield rt(()=>fetch(ie,Pt));if(xn.ok){const Un=yield xn.json();return{fid:Un.fid||H,registrationStatus:2,refreshToken:Un.refreshToken,authToken:Te(Un.authToken)}}throw yield xe("Create Installation",xn)})).apply(this,arguments)}function Xe(x){return new Promise(R=>{setTimeout(R,x)})}const an=/^[cdef][\w-]{21}$/;function Wt(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const H=function hn(x){return function Mt(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return an.test(H)?H:""}catch{return""}}function $n(x){return`${x.appName}!${x.appId}`}const Rn=new Map;function Wr(x,R){const H=$n(x);An(H,R),function fn(x,R){const H=function nr(){return!qr&&"BroadcastChannel"in self&&(qr=new BroadcastChannel("[Firebase] FID Change"),qr.onmessage=x=>{An(x.data.key,x.data.fid)}),qr}();H&&H.postMessage({key:x,fid:R}),function Rr(){0===Rn.size&&qr&&(qr.close(),qr=null)}()}(H,R)}function An(x,R){const H=Rn.get(x);if(H)for(const ie of H)ie(R)}let qr=null;const vr="firebase-installations-store";let Sr=null;function rr(){return Sr||(Sr=(0,Ve.X3)("firebase-installations-database",1,{upgrade:(x,R)=>{0===R&&x.createObjectStore(vr)}})),Sr}function Bt(x,R){return zn.apply(this,arguments)}function zn(){return(zn=(0,De.Z)(function*(x,R){const H=$n(x),Ae=(yield rr()).transaction(vr,"readwrite"),Ke=Ae.objectStore(vr),vt=yield Ke.get(H);return yield Ke.put(R,H),yield Ae.done,(!vt||vt.fid!==R.fid)&&Wr(x,R.fid),R})).apply(this,arguments)}function Ir(x){return Er.apply(this,arguments)}function Er(){return(Er=(0,De.Z)(function*(x){const R=$n(x),ie=(yield rr()).transaction(vr,"readwrite");yield ie.objectStore(vr).delete(R),yield ie.done})).apply(this,arguments)}function dr(x,R){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,De.Z)(function*(x,R){const H=$n(x),Ae=(yield rr()).transaction(vr,"readwrite"),Ke=Ae.objectStore(vr),vt=yield Ke.get(H),Pt=R(vt);return void 0===Pt?yield Ke.delete(H):yield Ke.put(Pt,H),yield Ae.done,Pt&&(!vt||vt.fid!==Pt.fid)&&Wr(x,Pt.fid),Pt})).apply(this,arguments)}function pr(x){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,De.Z)(function*(x){let R;const H=yield dr(x.appConfig,ie=>{const Ae=Tt(ie),Ke=Vt(x,Ae);return R=Ke.registrationPromise,Ke.installationEntry});return""===H.fid?{installationEntry:yield R}:{installationEntry:H,registrationPromise:R}})).apply(this,arguments)}function Tt(x){return Vn(x||{fid:Wt(),registrationStatus:0})}function Vt(x,R){if(0===R.registrationStatus){if(!navigator.onLine)return{installationEntry:R,registrationPromise:Promise.reject(Ot.create("app-offline"))};const H={fid:R.fid,registrationStatus:1,registrationTime:Date.now()},ie=function nn(x,R){return un.apply(this,arguments)}(x,H);return{installationEntry:H,registrationPromise:ie}}return 1===R.registrationStatus?{installationEntry:R,registrationPromise:ir(x)}:{installationEntry:R}}function un(){return(un=(0,De.Z)(function*(x,R){try{const H=yield Ne(x,R);return Bt(x.appConfig,H)}catch(H){throw _t(H)&&409===H.customData.serverCode?yield Ir(x.appConfig):yield Bt(x.appConfig,{fid:R.fid,registrationStatus:0}),H}})).apply(this,arguments)}function ir(x){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,De.Z)(function*(x){let R=yield Yr(x.appConfig);for(;1===R.registrationStatus;)yield Xe(100),R=yield Yr(x.appConfig);if(0===R.registrationStatus){const{installationEntry:H,registrationPromise:ie}=yield pr(x);return ie||H}return R})).apply(this,arguments)}function Yr(x){return dr(x,R=>{if(!R)throw Ot.create("installation-not-found");return Vn(R)})}function Vn(x){return function fi(x){return 1===x.registrationStatus&&x.registrationTime+1e4<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function Qn(x,R){return ti.apply(this,arguments)}function ti(){return(ti=(0,De.Z)(function*({appConfig:x,heartbeatServiceProvider:R},H){const ie=rn(x,H),Ae=Se(x,H),Ke=R.getImmediate({optional:!0});if(Ke){const Un=yield Ke.getHeartbeatsHeader();Un&&Ae.append("x-firebase-client",Un)}const Pt={method:"POST",headers:Ae,body:JSON.stringify({installation:{sdkVersion:qe,appId:x.appId}})},xn=yield rt(()=>fetch(ie,Pt));if(xn.ok)return Te(yield xn.json());throw yield xe("Generate Auth Token",xn)})).apply(this,arguments)}function rn(x,{fid:R}){return`${Be(x)}/${R}/authTokens:generate`}function Ri(x){return ui.apply(this,arguments)}function ui(){return(ui=(0,De.Z)(function*(x,R=!1){let H;const ie=yield dr(x.appConfig,Ke=>{if(!En(Ke))throw Ot.create("not-registered");const vt=Ke.authToken;if(!R&&le(vt))return Ke;if(1===vt.requestStatus)return H=gt(x,R),Ke;{if(!navigator.onLine)throw Ot.create("app-offline");const Pt=ve(Ke);return H=st(x,Pt),Pt}});return H?yield H:ie.authToken})).apply(this,arguments)}function gt(x,R){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,De.Z)(function*(x,R){let H=yield It(x.appConfig);for(;1===H.authToken.requestStatus;)yield Xe(100),H=yield It(x.appConfig);const ie=H.authToken;return 0===ie.requestStatus?Ri(x,R):ie})).apply(this,arguments)}function It(x){return dr(x,R=>{if(!En(R))throw Ot.create("not-registered");return function Je(x){return 1===x.requestStatus&&x.requestTime+1e4<Date.now()}(R.authToken)?Object.assign(Object.assign({},R),{authToken:{requestStatus:0}}):R})}function st(x,R){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,De.Z)(function*(x,R){try{const H=yield Qn(x,R),ie=Object.assign(Object.assign({},R),{authToken:H});return yield Bt(x.appConfig,ie),H}catch(H){if(!_t(H)||401!==H.customData.serverCode&&404!==H.customData.serverCode){const ie=Object.assign(Object.assign({},R),{authToken:{requestStatus:0}});yield Bt(x.appConfig,ie)}else yield Ir(x.appConfig);throw H}})).apply(this,arguments)}function En(x){return void 0!==x&&2===x.registrationStatus}function le(x){return 2===x.requestStatus&&!function ae(x){const R=Date.now();return R<x.creationTime||x.creationTime+x.expiresIn<R+36e5}(x)}function ve(x){const R={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:R})}function Rt(){return(Rt=(0,De.Z)(function*(x){const R=x,{installationEntry:H,registrationPromise:ie}=yield pr(R);return ie?ie.catch(console.error):Ri(R).catch(console.error),H.fid})).apply(this,arguments)}function On(){return(On=(0,De.Z)(function*(x,R=!1){const H=x;return yield Pr(H),(yield Ri(H,R)).token})).apply(this,arguments)}function Pr(x){return jn.apply(this,arguments)}function jn(){return(jn=(0,De.Z)(function*(x){const{registrationPromise:R}=yield pr(x);R&&(yield R)})).apply(this,arguments)}function dt(x){return Ot.create("missing-app-config-values",{valueName:x})}const Xt="installations",br=x=>{const R=x.getProvider("app").getImmediate(),H=function $t(x){if(!x||!x.options)throw dt("App Configuration");if(!x.name)throw dt("App Name");const R=["projectId","apiKey","appId"];for(const H of R)if(!x.options[H])throw dt(H);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(R);return{app:R,appConfig:H,heartbeatServiceProvider:(0,me.qX)(R,"heartbeat"),_delete:()=>Promise.resolve()}},Ar=x=>{const R=x.getProvider("app").getImmediate(),H=(0,me.qX)(R,Xt).getImmediate();return{getId:()=>function je(x){return Rt.apply(this,arguments)}(H),getToken:Ae=>function en(x){return On.apply(this,arguments)}(H,Ae)}};(function _r(){(0,me.Xd)(new nt.wA(Xt,br,"PUBLIC")),(0,me.Xd)(new nt.wA("installations-internal",Ar,"PRIVATE"))})(),(0,me.KN)(tt,oe),(0,me.KN)(tt,oe,"esm2017");const Or="@firebase/remote-config",ni=new Re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class $r{constructor(R,H,ie,Ae){this.client=R,this.storage=H,this.storageCache=ie,this.logger=Ae}isCachedDataFresh(R,H){if(!H)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ie=Date.now()-H,Ae=ie<=R;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ie}. Cache max age millis (minimumFetchIntervalMillis setting): ${R}. Is cache hit: ${Ae}.`),Ae}fetch(R){var H=this;return(0,De.Z)(function*(){const[ie,Ae]=yield Promise.all([H.storage.getLastSuccessfulFetchTimestampMillis(),H.storage.getLastSuccessfulFetchResponse()]);if(Ae&&H.isCachedDataFresh(R.cacheMaxAgeMillis,ie))return Ae;R.eTag=Ae&&Ae.eTag;const Ke=yield H.client.fetch(R),vt=[H.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ke.status&&vt.push(H.storage.setLastSuccessfulFetchResponse(Ke)),yield Promise.all(vt),Ke})()}}function Kn(x=navigator){return x.languages&&x.languages[0]||x.language}class Ti{constructor(R,H,ie,Ae,Ke,vt){this.firebaseInstallations=R,this.sdkVersion=H,this.namespace=ie,this.projectId=Ae,this.apiKey=Ke,this.appId=vt}fetch(R){var H=this;return(0,De.Z)(function*(){var ie,Ae,Ke;const[vt,Pt]=yield Promise.all([H.firebaseInstallations.getId(),H.firebaseInstallations.getToken()]),Un=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${H.projectId}/namespaces/${H.namespace}:fetch?key=${H.apiKey}`,Ln={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":R.eTag||"*"},vn={sdk_version:H.sdkVersion,app_instance_id:vt,app_instance_id_token:Pt,app_id:H.appId,language_code:Kn()},rs={method:"POST",headers:Ln,body:JSON.stringify(vn)},As=fetch(Un,rs),Ma=new Promise((Na,Ea)=>{R.signal.addEventListener(()=>{const Ba=new Error("The operation was aborted.");Ba.name="AbortError",Ea(Ba)})});let So;try{yield Promise.race([As,Ma]),So=yield As}catch(Na){let Ea="fetch-client-network";throw"AbortError"===(null===(ie=Na)||void 0===ie?void 0:ie.name)&&(Ea="fetch-timeout"),ni.create(Ea,{originalErrorMessage:null===(Ae=Na)||void 0===Ae?void 0:Ae.message})}let Ua=So.status;const Lo=So.headers.get("ETag")||void 0;let xa,da;if(200===So.status){let Na;try{Na=yield So.json()}catch(Ea){throw ni.create("fetch-client-parse",{originalErrorMessage:null===(Ke=Ea)||void 0===Ke?void 0:Ke.message})}xa=Na.entries,da=Na.state}if("INSTANCE_STATE_UNSPECIFIED"===da?Ua=500:"NO_CHANGE"===da?Ua=304:("NO_TEMPLATE"===da||"EMPTY_CONFIG"===da)&&(xa={}),304!==Ua&&200!==Ua)throw ni.create("fetch-status",{httpStatus:Ua});return{status:Ua,eTag:Lo,config:xa}})()}}class _i{constructor(R,H){this.client=R,this.storage=H}fetch(R){var H=this;return(0,De.Z)(function*(){const ie=(yield H.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return H.attemptFetch(R,ie)})()}attemptFetch(R,{throttleEndTimeMillis:H,backoffCount:ie}){var Ae=this;return(0,De.Z)(function*(){yield function Gr(x,R){return new Promise((H,ie)=>{const Ae=Math.max(R-Date.now(),0),Ke=setTimeout(H,Ae);x.addEventListener(()=>{clearTimeout(Ke),ie(ni.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}(R.signal,H);try{const Ke=yield Ae.client.fetch(R);return yield Ae.storage.deleteThrottleMetadata(),Ke}catch(Ke){if(!function ys(x){if(!(x instanceof Re.ZR&&x.customData))return!1;const R=Number(x.customData.httpStatus);return 429===R||500===R||503===R||504===R}(Ke))throw Ke;const vt={throttleEndTimeMillis:Date.now()+(0,Re.$s)(ie),backoffCount:ie+1};return yield Ae.storage.setThrottleMetadata(vt),Ae.attemptFetch(R,vt)}})()}}class eo{constructor(R,H,ie,Ae,Ke){this.app=R,this._client=H,this._storageCache=ie,this._storage=Ae,this._logger=Ke,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function vs(x,R){var H;const ie=x.target.error||void 0;return ni.create(R,{originalErrorMessage:ie&&(null===(H=ie)||void 0===H?void 0:H.message)})}const Oi="app_namespace_store";class zo{constructor(R,H,ie,Ae=function ga(){return new Promise((x,R)=>{var H;try{const ie=indexedDB.open("firebase_remote_config",1);ie.onerror=Ae=>{R(vs(Ae,"storage-open"))},ie.onsuccess=Ae=>{x(Ae.target.result)},ie.onupgradeneeded=Ae=>{0===Ae.oldVersion&&Ae.target.result.createObjectStore(Oi,{keyPath:"compositeKey"})}}catch(ie){R(ni.create("storage-open",{originalErrorMessage:null===(H=ie)||void 0===H?void 0:H.message}))}})}()){this.appId=R,this.appName=H,this.namespace=ie,this.openDbPromise=Ae}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(R){return this.set("last_fetch_status",R)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(R){return this.set("last_successful_fetch_timestamp_millis",R)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(R){return this.set("last_successful_fetch_response",R)}getActiveConfig(){return this.get("active_config")}setActiveConfig(R){return this.set("active_config",R)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(R){return this.set("active_config_etag",R)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(R){return this.set("throttle_metadata",R)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(R){var H=this;return(0,De.Z)(function*(){const ie=yield H.openDbPromise;return new Promise((Ae,Ke)=>{var vt;const xn=ie.transaction([Oi],"readonly").objectStore(Oi),Un=H.createCompositeKey(R);try{const Ln=xn.get(Un);Ln.onerror=vn=>{Ke(vs(vn,"storage-get"))},Ln.onsuccess=vn=>{const rs=vn.target.result;Ae(rs?rs.value:void 0)}}catch(Ln){Ke(ni.create("storage-get",{originalErrorMessage:null===(vt=Ln)||void 0===vt?void 0:vt.message}))}})})()}set(R,H){var ie=this;return(0,De.Z)(function*(){const Ae=yield ie.openDbPromise;return new Promise((Ke,vt)=>{var Pt;const Un=Ae.transaction([Oi],"readwrite").objectStore(Oi),Ln=ie.createCompositeKey(R);try{const vn=Un.put({compositeKey:Ln,value:H});vn.onerror=rs=>{vt(vs(rs,"storage-set"))},vn.onsuccess=()=>{Ke()}}catch(vn){vt(ni.create("storage-set",{originalErrorMessage:null===(Pt=vn)||void 0===Pt?void 0:Pt.message}))}})})()}delete(R){var H=this;return(0,De.Z)(function*(){const ie=yield H.openDbPromise;return new Promise((Ae,Ke)=>{var vt;const xn=ie.transaction([Oi],"readwrite").objectStore(Oi),Un=H.createCompositeKey(R);try{const Ln=xn.delete(Un);Ln.onerror=vn=>{Ke(vs(vn,"storage-delete"))},Ln.onsuccess=()=>{Ae()}}catch(Ln){Ke(ni.create("storage-delete",{originalErrorMessage:null===(vt=Ln)||void 0===vt?void 0:vt.message}))}})})()}createCompositeKey(R){return[this.appId,this.appName,this.namespace,R].join()}}class to{constructor(R){this.storage=R}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var R=this;return(0,De.Z)(function*(){const H=R.storage.getLastFetchStatus(),ie=R.storage.getLastSuccessfulFetchTimestampMillis(),Ae=R.storage.getActiveConfig(),Ke=yield H;Ke&&(R.lastFetchStatus=Ke);const vt=yield ie;vt&&(R.lastSuccessfulFetchTimestampMillis=vt);const Pt=yield Ae;Pt&&(R.activeConfig=Pt)})()}setLastFetchStatus(R){return this.lastFetchStatus=R,this.storage.setLastFetchStatus(R)}setLastSuccessfulFetchTimestampMillis(R){return this.lastSuccessfulFetchTimestampMillis=R,this.storage.setLastSuccessfulFetchTimestampMillis(R)}setActiveConfig(R){return this.activeConfig=R,this.storage.setActiveConfig(R)}}function Rs(){return _s.apply(this,arguments)}function _s(){return(_s=(0,De.Z)(function*(){if(!(0,Re.hl)())return!1;try{return yield(0,Re.eu)()}catch{return!1}})).apply(this,arguments)}!function Da(){(0,me.Xd)(new nt.wA("remote-config",function x(R,{instanceIdentifier:H}){const ie=R.getProvider("app").getImmediate(),Ae=R.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ni.create("registration-window");if(!(0,Re.hl)())throw ni.create("indexed-db-unavailable");const{projectId:Ke,apiKey:vt,appId:Pt}=ie.options;if(!Ke)throw ni.create("registration-project-id");if(!vt)throw ni.create("registration-api-key");if(!Pt)throw ni.create("registration-app-id");const xn=new zo(Pt,ie.name,H=H||"firebase"),Un=new to(xn),Ln=new We.Yd(Or);Ln.logLevel=We.in.ERROR;const vn=new Ti(Ae,me.Jn,H,Ke,vt,Pt),rs=new _i(vn,xn),As=new $r(rs,xn,Un,Ln),Ma=new eo(ie,As,Un,xn,Ln);return function Oe(x){const R=(0,Re.m9)(x);R._initializePromise||(R._initializePromise=R._storageCache.loadFromStorage().then(()=>{R._isInitializationComplete=!0}))}(Ma),Ma},"PUBLIC").setMultipleInstances(!0)),(0,me.KN)(Or,"0.3.14"),(0,me.KN)(Or,"0.3.14","esm2017")}();const ki="/firebase-messaging-sw.js",Fi="/firebase-cloud-messaging-push-scope",Jn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ls="google.c.a.c_id",Ws="google.c.a.c_l",qs="google.c.a.ts",Io="google.c.a.e";var Zi=(()=>{return(x=Zi||(Zi={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",Zi;var x})();function ji(x){const R=new Uint8Array(x);return btoa(String.fromCharCode(...R)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Do(x){const H=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ie=atob(H),Ae=new Uint8Array(ie.length);for(let Ke=0;Ke<ie.length;++Ke)Ae[Ke]=ie.charCodeAt(Ke);return Ae}const Yi="fcm_token_details_db",ro="fcm_token_object_Store";function No(x){return Es.apply(this,arguments)}function Es(){return Es=(0,De.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ke=>Ke.name).includes(Yi))return null;let R=null;return(yield(0,Ve.X3)(Yi,5,{upgrade:(ie=(0,De.Z)(function*(Ae,Ke,vt,Pt){var xn;if(Ke<2||!Ae.objectStoreNames.contains(ro))return;const Un=Pt.objectStore(ro),Ln=yield Un.index("fcmSenderId").get(x);if(yield Un.clear(),Ln)if(2===Ke){const vn=Ln;if(!vn.auth||!vn.p256dh||!vn.endpoint)return;R={token:vn.fcmToken,createTime:null!==(xn=vn.createTime)&&void 0!==xn?xn:Date.now(),subscriptionOptions:{auth:vn.auth,p256dh:vn.p256dh,endpoint:vn.endpoint,swScope:vn.swScope,vapidKey:"string"==typeof vn.vapidKey?vn.vapidKey:ji(vn.vapidKey)}}}else if(3===Ke){const vn=Ln;R={token:vn.fcmToken,createTime:vn.createTime,subscriptionOptions:{auth:ji(vn.auth),p256dh:ji(vn.p256dh),endpoint:vn.endpoint,swScope:vn.swScope,vapidKey:ji(vn.vapidKey)}}}else if(4===Ke){const vn=Ln;R={token:vn.fcmToken,createTime:vn.createTime,subscriptionOptions:{auth:ji(vn.auth),p256dh:ji(vn.p256dh),endpoint:vn.endpoint,swScope:vn.swScope,vapidKey:ji(vn.vapidKey)}}}}),function(Ke,vt,Pt,xn){return ie.apply(this,arguments)})})).close(),yield(0,Ve.Lj)(Yi),yield(0,Ve.Lj)("fcm_vapid_details_db"),yield(0,Ve.Lj)("undefined"),ws(R)?R:null;var ie}),Es.apply(this,arguments)}function ws(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:R}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof R.auth&&R.auth.length>0&&"string"==typeof R.p256dh&&R.p256dh.length>0&&"string"==typeof R.endpoint&&R.endpoint.length>0&&"string"==typeof R.swScope&&R.swScope.length>0&&"string"==typeof R.vapidKey&&R.vapidKey.length>0}const Hi="firebase-messaging-store";let Ks=null;function Fr(){return Ks||(Ks=(0,Ve.X3)("firebase-messaging-database",1,{upgrade:(x,R)=>{0===R&&x.createObjectStore(Hi)}})),Ks}function Os(x){return is.apply(this,arguments)}function is(){return(is=(0,De.Z)(function*(x){const R=pi(x),ie=yield(yield Fr()).transaction(Hi).objectStore(Hi).get(R);if(ie)return ie;{const Ae=yield No(x.appConfig.senderId);if(Ae)return yield wn(x,Ae),Ae}})).apply(this,arguments)}function wn(x,R){return ks.apply(this,arguments)}function ks(){return(ks=(0,De.Z)(function*(x,R){const H=pi(x),Ae=(yield Fr()).transaction(Hi,"readwrite");return yield Ae.objectStore(Hi).put(R,H),yield Ae.done,R})).apply(this,arguments)}function Zs(x){return cs.apply(this,arguments)}function cs(){return(cs=(0,De.Z)(function*(x){const R=pi(x),ie=(yield Fr()).transaction(Hi,"readwrite");yield ie.objectStore(Hi).delete(R),yield ie.done})).apply(this,arguments)}function pi({appConfig:x}){return x.appId}const Lr=new Re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Fs(x,R){return ii.apply(this,arguments)}function ii(){return(ii=(0,De.Z)(function*(x,R){var H;const ie=yield so(x),Ae=Mi(R),Ke={method:"POST",headers:ie,body:JSON.stringify(Ae)};let vt;try{vt=yield(yield fetch(ss(x.appConfig),Ke)).json()}catch(Pt){throw Lr.create("token-subscribe-failed",{errorInfo:null===(H=Pt)||void 0===H?void 0:H.toString()})}if(vt.error)throw Lr.create("token-subscribe-failed",{errorInfo:vt.error.message});if(!vt.token)throw Lr.create("token-subscribe-no-token");return vt.token})).apply(this,arguments)}function Po(x,R){return ds.apply(this,arguments)}function ds(){return(ds=(0,De.Z)(function*(x,R){var H;const ie=yield so(x),Ae=Mi(R.subscriptionOptions),Ke={method:"PATCH",headers:ie,body:JSON.stringify(Ae)};let vt;try{vt=yield(yield fetch(`${ss(x.appConfig)}/${R.token}`,Ke)).json()}catch(Pt){throw Lr.create("token-update-failed",{errorInfo:null===(H=Pt)||void 0===H?void 0:H.toString()})}if(vt.error)throw Lr.create("token-update-failed",{errorInfo:vt.error.message});if(!vt.token)throw Lr.create("token-update-no-token");return vt.token})).apply(this,arguments)}function Ei(x,R){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,De.Z)(function*(x,R){var H;const Ae={method:"DELETE",headers:yield so(x)};try{const vt=yield(yield fetch(`${ss(x.appConfig)}/${R}`,Ae)).json();if(vt.error)throw Lr.create("token-unsubscribe-failed",{errorInfo:vt.error.message})}catch(Ke){throw Lr.create("token-unsubscribe-failed",{errorInfo:null===(H=Ke)||void 0===H?void 0:H.toString()})}})).apply(this,arguments)}function ss({projectId:x}){return`https://fcmregistrations.googleapis.com/v1/projects/${x}/registrations`}function so(x){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,De.Z)(function*({appConfig:x,installations:R}){const H=yield R.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${H}`})})).apply(this,arguments)}function Mi({p256dh:x,auth:R,endpoint:H,vapidKey:ie}){const Ae={web:{endpoint:H,auth:R,p256dh:x}};return ie!==Jn&&(Ae.web.applicationPubKey=ie),Ae}const oo=6048e5;function ao(x){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,De.Z)(function*(x){const R=yield uo(x.swRegistration,x.vapidKey),H={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:R.endpoint,auth:ji(R.getKey("auth")),p256dh:ji(R.getKey("p256dh"))},ie=yield Os(x.firebaseDependencies);if(ie){if(F(ie.subscriptionOptions,H))return Date.now()>=ie.createTime+oo?ta(x,{token:ie.token,createTime:Date.now(),subscriptionOptions:H}):ie.token;try{yield Ei(x.firebaseDependencies,ie.token)}catch(Ae){console.warn(Ae)}return ht(x.firebaseDependencies,H)}return ht(x.firebaseDependencies,H)})).apply(this,arguments)}function ea(x){return Is.apply(this,arguments)}function Is(){return(Is=(0,De.Z)(function*(x){const R=yield Os(x.firebaseDependencies);R&&(yield Ei(x.firebaseDependencies,R.token),yield Zs(x.firebaseDependencies));const H=yield x.swRegistration.pushManager.getSubscription();return!H||H.unsubscribe()})).apply(this,arguments)}function ta(x,R){return hs.apply(this,arguments)}function hs(){return(hs=(0,De.Z)(function*(x,R){try{const H=yield Po(x.firebaseDependencies,R),ie=Object.assign(Object.assign({},R),{token:H,createTime:Date.now()});return yield wn(x.firebaseDependencies,ie),H}catch(H){throw yield ea(x),H}})).apply(this,arguments)}function ht(x,R){return mn.apply(this,arguments)}function mn(){return(mn=(0,De.Z)(function*(x,R){const ie={token:yield Fs(x,R),createTime:Date.now(),subscriptionOptions:R};return yield wn(x,ie),ie.token})).apply(this,arguments)}function uo(x,R){return lo.apply(this,arguments)}function lo(){return(lo=(0,De.Z)(function*(x,R){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Do(R)})})).apply(this,arguments)}function F(x,R){return R.vapidKey===x.vapidKey&&R.endpoint===x.endpoint&&R.auth===x.auth&&R.p256dh===x.p256dh}function k(x){const R={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function M(x,R){if(!R.notification)return;x.notification={};const H=R.notification.title;H&&(x.notification.title=H);const ie=R.notification.body;ie&&(x.notification.body=ie);const Ae=R.notification.image;Ae&&(x.notification.image=Ae)}(R,x),function Z(x,R){!R.data||(x.data=R.data)}(R,x),function Ge(x,R){var H,ie,Ae,Ke,vt;if(!(R.fcmOptions||null!==(H=R.notification)&&void 0!==H&&H.click_action))return;x.fcmOptions={};const Pt=null!==(Ae=null===(ie=R.fcmOptions)||void 0===ie?void 0:ie.link)&&void 0!==Ae?Ae:null===(Ke=R.notification)||void 0===Ke?void 0:Ke.click_action;Pt&&(x.fcmOptions.link=Pt);const xn=null===(vt=R.fcmOptions)||void 0===vt?void 0:vt.analytics_label;xn&&(x.fcmOptions.analyticsLabel=xn)}(R,x),R}function jt(x){return"object"==typeof x&&!!x&&ls in x}function jr(x,R){const H=[];for(let ie=0;ie<x.length;ie++)H.push(x.charAt(ie)),ie<R.length&&H.push(R.charAt(ie));return H.join("")}function Ls(x){return Lr.create("missing-app-config-values",{valueName:x})}jr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),jr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class os{constructor(R,H,ie){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ae=function Qi(x){if(!x||!x.options)throw Ls("App Configuration Object");if(!x.name)throw Ls("App Name");const R=["projectId","apiKey","appId","messagingSenderId"],{options:H}=x;for(const ie of R)if(!H[ie])throw Ls(ie);return{appName:x.name,projectId:H.projectId,apiKey:H.apiKey,appId:H.appId,senderId:H.messagingSenderId}}(R);this.firebaseDependencies={app:R,appConfig:Ae,installations:H,analyticsProvider:ie}}_delete(){return Promise.resolve()}}function gi(x){return wi.apply(this,arguments)}function wi(){return(wi=(0,De.Z)(function*(x){var R;try{x.swRegistration=yield navigator.serviceWorker.register(ki,{scope:Fi}),x.swRegistration.update().catch(()=>{})}catch(H){throw Lr.create("failed-service-worker-registration",{browserErrorMessage:null===(R=H)||void 0===R?void 0:R.message})}})).apply(this,arguments)}function Qs(x,R){return Si.apply(this,arguments)}function Si(){return(Si=(0,De.Z)(function*(x,R){if(!R&&!x.swRegistration&&(yield gi(x)),R||!x.swRegistration){if(!(R instanceof ServiceWorkerRegistration))throw Lr.create("invalid-sw-registration");x.swRegistration=R}})).apply(this,arguments)}function Vs(x,R){return co.apply(this,arguments)}function co(){return(co=(0,De.Z)(function*(x,R){R?x.vapidKey=R:x.vapidKey||(x.vapidKey=Jn)})).apply(this,arguments)}function na(){return(na=(0,De.Z)(function*(x,R){if(!navigator)throw Lr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Lr.create("permission-blocked");return yield Vs(x,R?.vapidKey),yield Qs(x,R?.serviceWorkerRegistration),ao(x)})).apply(this,arguments)}function ra(x,R,H){return Us.apply(this,arguments)}function Us(){return(Us=(0,De.Z)(function*(x,R,H){const ie=ma(R);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(ie,{message_id:H[ls],message_name:H[Ws],message_time:H[qs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ma(x){switch(x){case Zi.NOTIFICATION_CLICKED:return"notification_open";case Zi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function $(){return($=(0,De.Z)(function*(x,R){const H=R.data;if(!H.isFirebaseMessaging)return;x.onMessageHandler&&H.messageType===Zi.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(k(H)):x.onMessageHandler.next(k(H)));const ie=H.data;jt(ie)&&"1"===ie[Io]&&(yield ra(x,H.messageType,ie))})).apply(this,arguments)}const N="@firebase/messaging",q="0.9.19",de=x=>{const R=new os(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",H=>function S(x,R){return $.apply(this,arguments)}(R,H)),R},Ye=x=>{const R=x.getProvider("messaging").getImmediate();return{getToken:ie=>function ba(x,R){return na.apply(this,arguments)}(R,ie)}};function zt(){return gr.apply(this,arguments)}function gr(){return(gr=(0,De.Z)(function*(){try{yield(0,Re.eu)()}catch{return!1}return typeof window<"u"&&(0,Re.hl)()&&(0,Re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ot(){(0,me.Xd)(new nt.wA("messaging",de,"PUBLIC")),(0,me.Xd)(new nt.wA("messaging-internal",Ye,"PRIVATE")),(0,me.KN)(N,q),(0,me.KN)(N,q,"esm2017")}();const Mr="analytics",xi="firebase_id",qo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",L="https://www.googletagmanager.com/gtag/js",g=new We.Yd("@firebase/analytics");function w(x){return Promise.all(x.map(R=>R.catch(H=>H)))}function O(x,R){const H=document.createElement("script");H.src=`${L}?l=${x}&id=${R}`,H.async=!0,document.head.appendChild(H)}function K(x,R,H,ie,Ae,Ke){return fe.apply(this,arguments)}function fe(){return(fe=(0,De.Z)(function*(x,R,H,ie,Ae,Ke){const vt=ie[Ae];try{if(vt)yield R[vt];else{const xn=(yield w(H)).find(Un=>Un.measurementId===Ae);xn&&(yield R[xn.appId])}}catch(Pt){g.error(Pt)}x("config",Ae,Ke)})).apply(this,arguments)}function ee(x,R,H,ie,Ae){return te.apply(this,arguments)}function te(){return(te=(0,De.Z)(function*(x,R,H,ie,Ae){try{let Ke=[];if(Ae&&Ae.send_to){let vt=Ae.send_to;Array.isArray(vt)||(vt=[vt]);const Pt=yield w(H);for(const xn of vt){const Un=Pt.find(vn=>vn.measurementId===xn),Ln=Un&&R[Un.appId];if(!Ln){Ke=[];break}Ke.push(Ln)}}0===Ke.length&&(Ke=Object.values(R)),yield Promise.all(Ke),x("event",ie,Ae||{})}catch(Ke){g.error(Ke)}})).apply(this,arguments)}function Qt(x){const R=window.document.getElementsByTagName("script");for(const H of Object.values(R))if(H.src&&H.src.includes(L)&&H.src.includes(x))return H;return null}const _n=new Re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),xr=new class Tr{constructor(R={},H=1e3){this.throttleMetadata=R,this.intervalMillis=H}getThrottleMetadata(R){return this.throttleMetadata[R]}setThrottleMetadata(R,H){this.throttleMetadata[R]=H}deleteThrottleMetadata(R){delete this.throttleMetadata[R]}};function ci(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function as(x){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,De.Z)(function*(x){var R;const{appId:H,apiKey:ie}=x,Ae={method:"GET",headers:ci(ie)},Ke=qo.replace("{app-id}",H),vt=yield fetch(Ke,Ae);if(200!==vt.status&&304!==vt.status){let Pt="";try{const xn=yield vt.json();null!==(R=xn.error)&&void 0!==R&&R.message&&(Pt=xn.error.message)}catch{}throw _n.create("config-fetch-failed",{httpStatus:vt.status,responseMessage:Pt})}return vt.json()})).apply(this,arguments)}function Bs(x){return ln.apply(this,arguments)}function ln(){return(ln=(0,De.Z)(function*(x,R=xr,H){const{appId:ie,apiKey:Ae,measurementId:Ke}=x.options;if(!ie)throw _n.create("no-app-id");if(!Ae){if(Ke)return{measurementId:Ke,appId:ie};throw _n.create("no-api-key")}const vt=R.getThrottleMetadata(ie)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Pt=new bo;return setTimeout((0,De.Z)(function*(){Pt.abort()}),void 0!==H?H:6e4),Kr({appId:ie,apiKey:Ae,measurementId:Ke},vt,Pt,R)})).apply(this,arguments)}function Kr(x,R,H){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,De.Z)(function*(x,{throttleEndTimeMillis:R,backoffCount:H},ie,Ae=xr){var Ke,vt;const{appId:Pt,measurementId:xn}=x;try{yield er(ie,R)}catch(Un){if(xn)return g.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xn} provided in the "measurementId" field in the local Firebase config. [${null===(Ke=Un)||void 0===Ke?void 0:Ke.message}]`),{appId:Pt,measurementId:xn};throw Un}try{const Un=yield as(x);return Ae.deleteThrottleMetadata(Pt),Un}catch(Un){const Ln=Un;if(!cn(Ln)){if(Ae.deleteThrottleMetadata(Pt),xn)return g.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xn} provided in the "measurementId" field in the local Firebase config. [${Ln?.message}]`),{appId:Pt,measurementId:xn};throw Un}const vn=503===Number(null===(vt=Ln?.customData)||void 0===vt?void 0:vt.httpStatus)?(0,Re.$s)(H,Ae.intervalMillis,30):(0,Re.$s)(H,Ae.intervalMillis),rs={throttleEndTimeMillis:Date.now()+vn,backoffCount:H+1};return Ae.setThrottleMetadata(Pt,rs),g.debug(`Calling attemptFetch again in ${vn} millis`),Kr(x,rs,ie,Ae)}})).apply(this,arguments)}function er(x,R){return new Promise((H,ie)=>{const Ae=Math.max(R-Date.now(),0),Ke=setTimeout(H,Ae);x.addEventListener(()=>{clearTimeout(Ke),ie(_n.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}function cn(x){if(!(x instanceof Re.ZR&&x.customData))return!1;const R=Number(x.customData.httpStatus);return 429===R||500===R||503===R||504===R}class bo{constructor(){this.listeners=[]}addEventListener(R){this.listeners.push(R)}abort(){this.listeners.forEach(R=>R())}}let Hn,Ji;function yr(){return(yr=(0,De.Z)(function*(x,R,H,ie,Ae){if(Ae&&Ae.global)x("event",H,ie);else{const Ke=yield R;x("event",H,Object.assign(Object.assign({},ie),{send_to:Ke}))}})).apply(this,arguments)}function Zr(x){Ji=x}function es(x){Hn=x}function Ka(){return yi.apply(this,arguments)}function yi(){return(yi=(0,De.Z)(function*(){var x;if(!(0,Re.hl)())return g.warn(_n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Re.eu)()}catch(R){return g.warn(_n.create("indexeddb-unavailable",{errorInfo:null===(x=R)||void 0===x?void 0:x.toString()}).message),!1}return!0})).apply(this,arguments)}function vi(){return(vi=(0,De.Z)(function*(x,R,H,ie,Ae,Ke,vt){var Pt;const xn=Bs(x);xn.then(As=>{H[As.measurementId]=As.appId,x.options.measurementId&&As.measurementId!==x.options.measurementId&&g.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${As.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(As=>g.error(As)),R.push(xn);const Un=Ka().then(As=>{if(As)return ie.getId()}),[Ln,vn]=yield Promise.all([xn,Un]);Qt(Ke)||O(Ke,Ln.measurementId),Ji&&(Ae("consent","default",Ji),Zr(void 0)),Ae("js",new Date);const rs=null!==(Pt=vt?.config)&&void 0!==Pt?Pt:{};return rs.origin="firebase",rs.update=!0,null!=vn&&(rs[xi]=vn),Ae("config",Ln.measurementId,rs),Hn&&(Ae("set",Hn),es(void 0)),Ln.measurementId})).apply(this,arguments)}class si{constructor(R){this.app=R}_delete(){return delete Le[this.app.options.appId],Promise.resolve()}}let Le={},Co=[];const bs={};let Ko,$s,ia="dataLayer",Oo=!1;function ko(x,R,H){!function oa(){const x=[];if((0,Re.ru)()&&x.push("This is a browser extension environment."),(0,Re.zI)()||x.push("Cookies are not available."),x.length>0){const R=x.map((ie,Ae)=>`(${Ae+1}) ${ie}`).join(" "),H=_n.create("invalid-analytics-context",{errorInfo:R});g.warn(H.message)}}();const ie=x.options.appId;if(!ie)throw _n.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw _n.create("no-api-key");g.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Le[ie])throw _n.create("already-exists",{id:ie});if(!Oo){!function B(x){let R=[];Array.isArray(window[x])?R=window[x]:window[x]=R}(ia);const{wrappedGtag:Ke,gtagCore:vt}=function bt(x,R,H,ie,Ae){let Ke=function(...vt){window[ie].push(arguments)};return window[Ae]&&"function"==typeof window[Ae]&&(Ke=window[Ae]),window[Ae]=function ge(x,R,H,ie){function Ke(){return(Ke=(0,De.Z)(function*(vt,Pt,xn){try{"event"===vt?yield ee(x,R,H,Pt,xn):"config"===vt?yield K(x,R,H,ie,Pt,xn):"consent"===vt?x("consent","update",xn):x("set",Pt)}catch(Un){g.error(Un)}})).apply(this,arguments)}return function Ae(vt,Pt,xn){return Ke.apply(this,arguments)}}(Ke,x,R,H),{gtagCore:Ke,wrappedGtag:window[Ae]}}(Le,Co,bs,ia,"gtag");$s=Ke,Ko=vt,Oo=!0}return Le[ie]=function Xs(x,R,H,ie,Ae,Ke,vt){return vi.apply(this,arguments)}(x,Co,bs,R,Ko,ia,H),new si(x)}function Ca(){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,De.Z)(function*(){if((0,Re.ru)()||!(0,Re.zI)()||!(0,Re.hl)())return!1;try{return yield(0,Re.eu)()}catch{return!1}})).apply(this,arguments)}const Ts="@firebase/analytics";!function oi(){(0,me.Xd)(new nt.wA(Mr,(R,{options:H})=>ko(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),H),"PUBLIC")),(0,me.Xd)(new nt.wA("analytics-internal",function x(R){try{const H=R.getProvider(Mr).getImmediate();return{logEvent:(ie,Ae,Ke)=>function Fa(x,R,H,ie){x=(0,Re.m9)(x),function fo(x,R,H,ie,Ae){return yr.apply(this,arguments)}($s,Le[x.app.options.appId],R,H,ie).catch(Ae=>g.error(Ae))}(H,ie,Ae,Ke)}}catch(H){throw _n.create("interop-component-reg-failed",{reason:H})}},"PRIVATE")),(0,me.KN)(Ts,"0.8.3"),(0,me.KN)(Ts,"0.8.3","esm2017")}();var oc=Q(727);class aa extends oc.w0{constructor(R,H){super()}schedule(R,H=0){return this}}const Pn={setInterval(x,R,...H){const{delegate:ie}=Pn;return ie?.setInterval?ie.setInterval(x,R,...H):setInterval(x,R,...H)},clearInterval(x){const{delegate:R}=Pn;return(R?.clearInterval||clearInterval)(x)},delegate:void 0};var Fo=Q(8737);class ua extends aa{constructor(R,H){super(R,H),this.scheduler=R,this.work=H,this.pending=!1}schedule(R,H=0){var ie;if(this.closed)return this;this.state=R;const Ae=this.id,Ke=this.scheduler;return null!=Ae&&(this.id=this.recycleAsyncId(Ke,Ae,H)),this.pending=!0,this.delay=H,this.id=null!==(ie=this.id)&&void 0!==ie?ie:this.requestAsyncId(Ke,this.id,H),this}requestAsyncId(R,H,ie=0){return Pn.setInterval(R.flush.bind(R,this),ie)}recycleAsyncId(R,H,ie=0){if(null!=ie&&this.delay===ie&&!1===this.pending)return H;null!=H&&Pn.clearInterval(H)}execute(R,H){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ie=this._execute(R,H);if(ie)return ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(R,H){let Ae,ie=!1;try{this.work(R)}catch(Ke){ie=!0,Ae=Ke||new Error("Scheduled action threw falsy error")}if(ie)return this.unsubscribe(),Ae}unsubscribe(){if(!this.closed){const{id:R,scheduler:H}=this,{actions:ie}=H;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Fo.P)(ie,this),null!=R&&(this.id=this.recycleAsyncId(H,R,null)),this.delay=null,super.unsubscribe()}}}const La={now:()=>(La.delegate||Date).now(),delegate:void 0};class Ii{constructor(R,H=Ii.now){this.schedulerActionCtor=R,this.now=H}schedule(R,H=0,ie){return new this.schedulerActionCtor(this,R).schedule(ie,H)}}Ii.now=La.now;class ts extends Ii{constructor(R,H=Ii.now){super(R,H),this.actions=[],this._active=!1}flush(R){const{actions:H}=this;if(this._active)return void H.push(R);let ie;this._active=!0;do{if(ie=R.execute(R.state,R.delay))break}while(R=H.shift());if(this._active=!1,ie){for(;R=H.shift();)R.unsubscribe();throw ie}}}const la=new class Sa extends ts{}(class su extends ua{constructor(R,H){super(R,H),this.scheduler=R,this.work=H}schedule(R,H=0){return H>0?super.schedule(R,H):(this.delay=H,this.state=R,this.scheduler.flush(this),this)}execute(R,H){return H>0||this.closed?super.execute(R,H):this._execute(R,H)}requestAsyncId(R,H,ie=0){return null!=ie&&ie>0||null==ie&&this.delay>0?super.requestAsyncId(R,H,ie):(R.flush(this),0)}}),To=new ts(ua);var ya=Q(9751),va=Q(8505),_=Q(9468),E=Q(5363);const m=new y.GfV("7.4.1"),T="__angularfire_symbol__analyticsIsSupportedValue",P="__angularfire_symbol__analyticsIsSupported",z="__angularfire_symbol__remoteConfigIsSupportedValue",se="__angularfire_symbol__remoteConfigIsSupported",ue="__angularfire_symbol__messagingIsSupportedValue",Ze="__angularfire_symbol__messagingIsSupported";function Ss(x,R,H){if(R){if(1===R.length)return R[0];const Ke=R.filter(vt=>vt.app===H);if(1===Ke.length)return Ke[0]}return H.container.getProvider(x).getImmediate({optional:!0})}globalThis[P]||(globalThis[P]=Ca().then(x=>globalThis[T]=x).catch(()=>globalThis[T]=!1)),globalThis[Ze]||(globalThis[Ze]=zt().then(x=>globalThis[ue]=x).catch(()=>globalThis[ue]=!1)),globalThis[se]||(globalThis[se]=Rs().then(x=>globalThis[z]=x).catch(()=>globalThis[z]=!1));const go=(x,R)=>{const H=R?[R]:(0,G.C6)(),ie=[];return H.forEach(Ae=>{Ae.container.getProvider(x).instances.forEach(vt=>{ie.includes(vt)||ie.push(vt)})}),ie};function Js(){}class ns{constructor(R,H=la){this.zone=R,this.delegate=H}now(){return this.delegate.now()}schedule(R,H,ie){const Ae=this.zone;return this.delegate.schedule(function(vt){Ae.runGuarded(()=>{R.apply(this,[vt])})},H,ie)}}class Wi{constructor(R){this.zone=R,this.task=null}call(R,H){const ie=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Js,{},Js,Js)),H.pipe((0,va.b)({next:ie,complete:ie,error:ie})).subscribe(R).add(ie)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Yo=(()=>{class x{constructor(H){this.ngZone=H,this.outsideAngular=H.runOutsideAngular(()=>new ns(Zone.current)),this.insideAngular=H.run(()=>new ns(Zone.current,To)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(H){return new(H||x)(y.LFG(y.R0b))},x.\u0275prov=y.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function wr(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function nd(x){return wr().ngZone.runOutsideAngular(()=>x())}function Aa(x){return wr().ngZone.run(()=>x())}function ca(x){return wr(),function Ya(x){return function(H){return(H=H.lift(new Wi(x.ngZone))).pipe((0,_.R)(x.outsideAngular),(0,E.Q)(x.insideAngular))}}(wr())(x)}const Li=(x,R)=>function(){const ie=arguments;return R&&setTimeout(()=>{"scheduled"===R.state&&R.invoke()},10),Aa(()=>x.apply(void 0,ie))},ou=(x,R)=>function(){let H;const ie=arguments;for(let Ke=0;Ke<arguments.length;Ke++)"function"==typeof ie[Ke]&&(R&&(H||(H=Aa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Js,{},Js,Js)))),ie[Ke]=Li(ie[Ke],H));const Ae=nd(()=>x.apply(this,ie));if(!R){if(Ae instanceof ya.y){const Ke=wr();return Ae.pipe((0,_.R)(Ke.outsideAngular),(0,E.Q)(Ke.insideAngular))}return Aa(()=>Ae)}return Ae instanceof ya.y?Ae.pipe(ca):Ae instanceof Promise?Aa(()=>new Promise((Ke,vt)=>Ae.then(Pt=>Aa(()=>Ke(Pt)),Pt=>Aa(()=>vt(Pt))))):"function"==typeof Ae&&H?function(){return setTimeout(()=>{H&&"scheduled"===H.state&&H.invoke()},10),Ae.apply(this,arguments)}:Aa(()=>Ae)}},2090:(yn,ct,Q)=>{Q.d(ct,{$s:()=>It,BH:()=>tr,L:()=>Ve,LL:()=>Rn,P0:()=>Xe,Pz:()=>an,Sg:()=>Wt,US:()=>nt,ZR:()=>$n,aH:()=>Mt,b$:()=>Ut,eu:()=>Ee,hl:()=>Dt,m9:()=>En,ne:()=>Dr,pd:()=>Ui,q4:()=>it,ru:()=>Yt,tV:()=>tt,uI:()=>Ue,vZ:()=>Bt,w1:()=>_t,xO:()=>Er,xb:()=>Sr,z$:()=>lt,zI:()=>Se,zd:()=>dr});const me=function(le){const ae=[];let ve=0;for(let Je=0;Je<le.length;Je++){let je=le.charCodeAt(Je);je<128?ae[ve++]=je:je<2048?(ae[ve++]=je>>6|192,ae[ve++]=63&je|128):55296==(64512&je)&&Je+1<le.length&&56320==(64512&le.charCodeAt(Je+1))?(je=65536+((1023&je)<<10)+(1023&le.charCodeAt(++Je)),ae[ve++]=je>>18|240,ae[ve++]=je>>12&63|128,ae[ve++]=je>>6&63|128,ae[ve++]=63&je|128):(ae[ve++]=je>>12|224,ae[ve++]=je>>6&63|128,ae[ve++]=63&je|128)}return ae},nt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(le,ae){if(!Array.isArray(le))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ve=ae?this.byteToCharMapWebSafe_:this.byteToCharMap_,Je=[];for(let je=0;je<le.length;je+=3){const Rt=le[je],en=je+1<le.length,On=en?le[je+1]:0,Pr=je+2<le.length,jn=Pr?le[je+2]:0;let ne=(15&On)<<2|jn>>6,ke=63&jn;Pr||(ke=64,en||(ne=64)),Je.push(ve[Rt>>2],ve[(3&Rt)<<4|On>>4],ve[ne],ve[ke])}return Je.join("")},encodeString(le,ae){return this.HAS_NATIVE_SUPPORT&&!ae?btoa(le):this.encodeByteArray(me(le),ae)},decodeString(le,ae){return this.HAS_NATIVE_SUPPORT&&!ae?atob(le):function(le){const ae=[];let ve=0,Je=0;for(;ve<le.length;){const je=le[ve++];if(je<128)ae[Je++]=String.fromCharCode(je);else if(je>191&&je<224){const Rt=le[ve++];ae[Je++]=String.fromCharCode((31&je)<<6|63&Rt)}else if(je>239&&je<365){const Pr=((7&je)<<18|(63&le[ve++])<<12|(63&le[ve++])<<6|63&le[ve++])-65536;ae[Je++]=String.fromCharCode(55296+(Pr>>10)),ae[Je++]=String.fromCharCode(56320+(1023&Pr))}else{const Rt=le[ve++],en=le[ve++];ae[Je++]=String.fromCharCode((15&je)<<12|(63&Rt)<<6|63&en)}}return ae.join("")}(this.decodeStringToByteArray(le,ae))},decodeStringToByteArray(le,ae){this.init_();const ve=ae?this.charToByteMapWebSafe_:this.charToByteMap_,Je=[];for(let je=0;je<le.length;){const Rt=ve[le.charAt(je++)],On=je<le.length?ve[le.charAt(je)]:0;++je;const jn=je<le.length?ve[le.charAt(je)]:64;++je;const ce=je<le.length?ve[le.charAt(je)]:64;if(++je,null==Rt||null==On||null==jn||null==ce)throw Error();Je.push(Rt<<2|On>>4),64!==jn&&(Je.push(On<<4&240|jn>>2),64!==ce&&Je.push(jn<<6&192|ce))}return Je},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let le=0;le<this.ENCODED_VALS.length;le++)this.byteToCharMap_[le]=this.ENCODED_VALS.charAt(le),this.charToByteMap_[this.byteToCharMap_[le]]=le,this.byteToCharMapWebSafe_[le]=this.ENCODED_VALS_WEBSAFE.charAt(le),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[le]]=le,le>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(le)]=le,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(le)]=le)}}},Ve=function(le){return function(le){const ae=me(le);return nt.encodeByteArray(ae,!0)}(le).replace(/\./g,"")},tt=function(le){try{return nt.decodeString(le,!0)}catch(ae){console.error("base64Decode failed: ",ae)}return null};function lt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function Yt(){const le="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof le&&void 0!==le.id}function Ut(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _t(){const le=lt();return le.indexOf("MSIE ")>=0||le.indexOf("Trident/")>=0}function Dt(){return"object"==typeof indexedDB}function Ee(){return new Promise((le,ae)=>{try{let ve=!0;const Je="validate-browser-context-for-indexeddb-analytics-module",je=self.indexedDB.open(Je);je.onsuccess=()=>{je.result.close(),ve||self.indexedDB.deleteDatabase(Je),le(!0)},je.onupgradeneeded=()=>{ve=!1},je.onerror=()=>{var Rt;ae((null===(Rt=je.error)||void 0===Rt?void 0:Rt.message)||"")}}catch(ve){ae(ve)}})}function Se(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Ne=()=>{try{return function rt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const le=process.env.__FIREBASE_DEFAULTS__;return le?JSON.parse(le):void 0})()||(()=>{if(typeof document>"u")return;let le;try{le=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ae=le&&tt(le[1]);return ae&&JSON.parse(ae)})()}catch(le){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${le}`)}},it=le=>{var ae,ve;return null===(ve=null===(ae=Ne())||void 0===ae?void 0:ae.emulatorHosts)||void 0===ve?void 0:ve[le]},Xe=le=>{const ae=it(le);if(!ae)return;const ve=ae.lastIndexOf(":");if(ve<=0||ve+1===ae.length)throw new Error(`Invalid host ${ae} with no separate hostname and port!`);const Je=parseInt(ae.substring(ve+1),10);return"["===ae[0]?[ae.substring(1,ve-1),Je]:[ae.substring(0,ve),Je]},Mt=()=>{var le;return null===(le=Ne())||void 0===le?void 0:le.config},an=le=>{var ae;return null===(ae=Ne())||void 0===ae?void 0:ae[`_${le}`]};class tr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ae,ve)=>{this.resolve=ae,this.reject=ve})}wrapCallback(ae){return(ve,Je)=>{ve?this.reject(ve):this.resolve(Je),"function"==typeof ae&&(this.promise.catch(()=>{}),1===ae.length?ae(ve):ae(ve,Je))}}}function Wt(le,ae){if(le.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Je=ae||"demo-project",je=le.iat||0,Rt=le.sub||le.user_id;if(!Rt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const en=Object.assign({iss:`https://securetoken.google.com/${Je}`,aud:Je,iat:je,exp:je+3600,auth_time:je,sub:Rt,user_id:Rt,firebase:{sign_in_provider:"custom",identities:{}}},le);return[Ve(JSON.stringify({alg:"none",type:"JWT"})),Ve(JSON.stringify(en)),""].join(".")}class $n extends Error{constructor(ae,ve,Je){super(ve),this.code=ae,this.customData=Je,this.name="FirebaseError",Object.setPrototypeOf(this,$n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rn.prototype.create)}}class Rn{constructor(ae,ve,Je){this.service=ae,this.serviceName=ve,this.errors=Je}create(ae,...ve){const Je=ve[0]||{},je=`${this.service}/${ae}`,Rt=this.errors[ae],en=Rt?function Wr(le,ae){return le.replace(Dn,(ve,Je)=>{const je=ae[Je];return null!=je?String(je):`<${Je}?>`})}(Rt,Je):"Error";return new $n(je,`${this.serviceName}: ${en} (${je}).`,Je)}}const Dn=/\{\$([^}]+)}/g;function Sr(le){for(const ae in le)if(Object.prototype.hasOwnProperty.call(le,ae))return!1;return!0}function Bt(le,ae){if(le===ae)return!0;const ve=Object.keys(le),Je=Object.keys(ae);for(const je of ve){if(!Je.includes(je))return!1;const Rt=le[je],en=ae[je];if(zn(Rt)&&zn(en)){if(!Bt(Rt,en))return!1}else if(Rt!==en)return!1}for(const je of Je)if(!ve.includes(je))return!1;return!0}function zn(le){return null!==le&&"object"==typeof le}function Er(le){const ae=[];for(const[ve,Je]of Object.entries(le))Array.isArray(Je)?Je.forEach(je=>{ae.push(encodeURIComponent(ve)+"="+encodeURIComponent(je))}):ae.push(encodeURIComponent(ve)+"="+encodeURIComponent(Je));return ae.length?"&"+ae.join("&"):""}function dr(le){const ae={};return le.replace(/^\?/,"").split("&").forEach(Je=>{if(Je){const[je,Rt]=Je.split("=");ae[decodeURIComponent(je)]=decodeURIComponent(Rt)}}),ae}function Ui(le){const ae=le.indexOf("?");if(!ae)return"";const ve=le.indexOf("#",ae);return le.substring(ae,ve>0?ve:void 0)}function Dr(le,ae){const ve=new Tt(le,ae);return ve.subscribe.bind(ve)}class Tt{constructor(ae,ve){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ve,this.task.then(()=>{ae(this)}).catch(Je=>{this.error(Je)})}next(ae){this.forEachObserver(ve=>{ve.next(ae)})}error(ae){this.forEachObserver(ve=>{ve.error(ae)}),this.close(ae)}complete(){this.forEachObserver(ae=>{ae.complete()}),this.close()}subscribe(ae,ve,Je){let je;if(void 0===ae&&void 0===ve&&void 0===Je)throw new Error("Missing Observer.");je=function nn(le,ae){if("object"!=typeof le||null===le)return!1;for(const ve of ae)if(ve in le&&"function"==typeof le[ve])return!0;return!1}(ae,["next","error","complete"])?ae:{next:ae,error:ve,complete:Je},void 0===je.next&&(je.next=un),void 0===je.error&&(je.error=un),void 0===je.complete&&(je.complete=un);const Rt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?je.error(this.finalError):je.complete()}catch{}}),this.observers.push(je),Rt}unsubscribeOne(ae){void 0===this.observers||void 0===this.observers[ae]||(delete this.observers[ae],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ae){if(!this.finalized)for(let ve=0;ve<this.observers.length;ve++)this.sendOne(ve,ae)}sendOne(ae,ve){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ae])try{ve(this.observers[ae])}catch(Je){typeof console<"u"&&console.error&&console.error(Je)}})}close(ae){this.finalized||(this.finalized=!0,void 0!==ae&&(this.finalError=ae),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function un(){}function It(le,ae=1e3,ve=2){const Je=ae*Math.pow(ve,le),je=Math.round(.5*Je*(Math.random()-.5)*2);return Math.min(144e5,Je+je)}function En(le){return le&&le._delegate?le._delegate:le}},6009:(yn,ct,Q)=>{var y=Q(1481),G=Q(8256),De=Q(3692),me=Q(7323),Re=Q(3562),nt=Q(433),We=Q(7340);function tt(L){return new G.vHH(3e3,!1)}function qr(){return typeof window<"u"&&typeof window.document<"u"}function nr(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Rr(L){switch(L.length){case 0:return new We.ZN;case 1:return L[0];default:return new We.ZE(L)}}function fr(L,g,w,O,B=new Map,K=new Map){const fe=[],ee=[];let te=-1,ge=null;if(O.forEach(bt=>{const Qt=bt.get("offset"),ur=Qt==te,_n=ur&&ge||new Map;bt.forEach((Tn,bn)=>{let Tr=bn,xr=Tn;if("offset"!==bn)switch(Tr=g.normalizePropertyName(Tr,fe),xr){case We.k1:xr=B.get(bn);break;case We.l3:xr=K.get(bn);break;default:xr=g.normalizeStyleValue(bn,Tr,xr,fe)}_n.set(Tr,xr)}),ur||ee.push(_n),ge=_n,te=Qt}),fe.length)throw function Xe(L){return new G.vHH(3502,!1)}();return ee}function ei(L,g,w,O){switch(g){case"start":L.onStart(()=>O(w&&vr(w,"start",L)));break;case"done":L.onDone(()=>O(w&&vr(w,"done",L)));break;case"destroy":L.onDestroy(()=>O(w&&vr(w,"destroy",L)))}}function vr(L,g,w){const K=Sr(L.element,L.triggerName,L.fromState,L.toState,g||L.phaseName,w.totalTime??L.totalTime,!!w.disabled),fe=L._data;return null!=fe&&(K._data=fe),K}function Sr(L,g,w,O,B="",K=0,fe){return{element:L,triggerName:g,fromState:w,toState:O,phaseName:B,totalTime:K,disabled:!!fe}}function rr(L,g,w){let O=L.get(g);return O||L.set(g,O=w),O}function Bt(L){const g=L.indexOf(":");return[L.substring(1,g),L.slice(g+1)]}let zn=(L,g)=>!1,Ir=(L,g,w)=>[],Er=null;function dr(L){const g=L.parentNode||L.host;return g===Er?null:g}(nr()||typeof Element<"u")&&(qr()?(Er=(()=>document.documentElement)(),zn=(L,g)=>{for(;g;){if(g===L)return!0;g=dr(g)}return!1}):zn=(L,g)=>L.contains(g),Ir=(L,g,w)=>{if(w)return Array.from(L.querySelectorAll(g));const O=L.querySelector(g);return O?[O]:[]});let Dr=null,Tt=!1;const ir=zn,Wn=Ir;let Vn=(()=>{class L{validateStyleProperty(w){return function Vt(L){Dr||(Dr=function un(){return typeof document<"u"?document.body:null}()||{},Tt=!!Dr.style&&"WebkitAppearance"in Dr.style);let g=!0;return Dr.style&&!function pr(L){return"ebkit"==L.substring(1,6)}(L)&&(g=L in Dr.style,!g&&Tt&&(g="Webkit"+L.charAt(0).toUpperCase()+L.slice(1)in Dr.style)),g}(w)}matchesElement(w,O){return!1}containsElement(w,O){return ir(w,O)}getParentElement(w){return dr(w)}query(w,O,B){return Wn(w,O,B)}computeStyle(w,O,B){return B||""}animate(w,O,B,K,fe,ee=[],te){return new We.ZN(B,K)}}return L.\u0275fac=function(w){return new(w||L)},L.\u0275prov=G.Yz7({token:L,factory:L.\u0275fac}),L})(),fi=(()=>{class L{}return L.NOOP=new Vn,L})();const Ri="ng-enter",ui="ng-leave",gt="ng-trigger",Pe=".ng-trigger",It="ng-animating",st=".ng-animating";function Ct(L){if("number"==typeof L)return L;const g=L.match(/^(-?[\.\d]+)(m?s)/);return!g||g.length<2?0:En(parseFloat(g[1]),g[2])}function En(L,g){return"s"===g?1e3*L:L}function le(L,g,w){return L.hasOwnProperty("duration")?L:function ae(L,g,w){let B,K=0,fe="";if("string"==typeof L){const ee=L.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ee)return g.push(tt()),{duration:0,delay:0,easing:""};B=En(parseFloat(ee[1]),ee[2]);const te=ee[3];null!=te&&(K=En(parseFloat(te),ee[4]));const ge=ee[5];ge&&(fe=ge)}else B=L;if(!w){let ee=!1,te=g.length;B<0&&(g.push(function oe(){return new G.vHH(3100,!1)}()),ee=!0),K<0&&(g.push(function pe(){return new G.vHH(3101,!1)}()),ee=!0),ee&&g.splice(te,0,tt())}return{duration:B,delay:K,easing:fe}}(L,g,w)}function ve(L,g={}){return Object.keys(L).forEach(w=>{g[w]=L[w]}),g}function Je(L){const g=new Map;return Object.keys(L).forEach(w=>{g.set(w,L[w])}),g}function en(L,g=new Map,w){if(w)for(let[O,B]of w)g.set(O,B);for(let[O,B]of L)g.set(O,B);return g}function On(L,g,w){return w?g+":"+w+";":""}function Pr(L){let g="";for(let w=0;w<L.style.length;w++){const O=L.style.item(w);g+=On(0,O,L.style.getPropertyValue(O))}for(const w in L.style)L.style.hasOwnProperty(w)&&!w.startsWith("_")&&(g+=On(0,Xt(w),L.style[w]));L.setAttribute("style",g)}function jn(L,g,w){L.style&&(g.forEach((O,B)=>{const K=dt(B);w&&!w.has(B)&&w.set(B,L.style[K]),L.style[K]=O}),nr()&&Pr(L))}function Me(L,g){L.style&&(g.forEach((w,O)=>{const B=dt(O);L.style[B]=""}),nr()&&Pr(L))}function ce(L){return Array.isArray(L)?1==L.length?L[0]:(0,We.vP)(L):L}const ke=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ie(L){let g=[];if("string"==typeof L){let w;for(;w=ke.exec(L);)g.push(w[1]);ke.lastIndex=0}return g}function Qe(L,g,w){const O=L.toString(),B=O.replace(ke,(K,fe)=>{let ee=g[fe];return null==ee&&(w.push(function lt(L){return new G.vHH(3003,!1)}()),ee=""),ee.toString()});return B==O?L:B}function mt(L){const g=[];let w=L.next();for(;!w.done;)g.push(w.value),w=L.next();return g}const $t=/-+([a-z0-9])/g;function dt(L){return L.replace($t,(...g)=>g[1].toUpperCase())}function Xt(L){return L.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ar(L,g,w){switch(g.type){case 7:return L.visitTrigger(g,w);case 0:return L.visitState(g,w);case 1:return L.visitTransition(g,w);case 2:return L.visitSequence(g,w);case 3:return L.visitGroup(g,w);case 4:return L.visitAnimate(g,w);case 5:return L.visitKeyframes(g,w);case 6:return L.visitStyle(g,w);case 8:return L.visitReference(g,w);case 9:return L.visitAnimateChild(g,w);case 10:return L.visitAnimateRef(g,w);case 11:return L.visitQuery(g,w);case 12:return L.visitStagger(g,w);default:throw function Ue(L){return new G.vHH(3004,!1)}()}}function _r(L,g){return window.getComputedStyle(L)[g]}function Ki(L,g){const w=[];return"string"==typeof L?L.split(/\s*,\s*/).forEach(O=>function kn(L,g,w){if(":"==L[0]){const te=function Bi(L,g){switch(L){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(w,O)=>parseFloat(O)>parseFloat(w);case":decrement":return(w,O)=>parseFloat(O)<parseFloat(w);default:return g.push(function be(L){return new G.vHH(3016,!1)}()),"* => *"}}(L,w);if("function"==typeof te)return void g.push(te);L=te}const O=L.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==O||O.length<4)return w.push(function ye(L){return new G.vHH(3015,!1)}()),g;const B=O[1],K=O[2],fe=O[3];g.push(Ce(B,fe));"<"==K[0]&&!("*"==B&&"*"==fe)&&g.push(Ce(fe,B))}(O,w,g)):w.push(L),w}const ri=new Set(["true","1"]),Ur=new Set(["false","0"]);function Ce(L,g){const w=ri.has(L)||Ur.has(L),O=ri.has(g)||Ur.has(g);return(B,K)=>{let fe="*"==L||L==B,ee="*"==g||g==K;return!fe&&w&&"boolean"==typeof B&&(fe=B?ri.has(L):Ur.has(L)),!ee&&O&&"boolean"==typeof K&&(ee=K?ri.has(g):Ur.has(g)),fe&&ee}}const Oe=new RegExp("s*:selfs*,?","g");function et(L,g,w,O){return new kt(L).build(g,w,O)}class kt{constructor(g){this._driver=g}build(g,w,O){const B=new qn(w);return this._resetContextStyleTimingState(B),Ar(this,ce(g),B)}_resetContextStyleTimingState(g){g.currentQuerySelector="",g.collectedStyles=new Map,g.collectedStyles.set("",new Map),g.currentTime=0}visitTrigger(g,w){let O=w.queryCount=0,B=w.depCount=0;const K=[],fe=[];return"@"==g.name.charAt(0)&&w.errors.push(function Nt(){return new G.vHH(3006,!1)}()),g.definitions.forEach(ee=>{if(this._resetContextStyleTimingState(w),0==ee.type){const te=ee,ge=te.name;ge.toString().split(/\s*,\s*/).forEach(bt=>{te.name=bt,K.push(this.visitState(te,w))}),te.name=ge}else if(1==ee.type){const te=this.visitTransition(ee,w);O+=te.queryCount,B+=te.depCount,fe.push(te)}else w.errors.push(function Yt(){return new G.vHH(3007,!1)}())}),{type:7,name:g.name,states:K,transitions:fe,queryCount:O,depCount:B,options:null}}visitState(g,w){const O=this.visitStyle(g.styles,w),B=g.options&&g.options.params||null;if(O.containsDynamicStyles){const K=new Set,fe=B||{};O.styles.forEach(ee=>{ee instanceof Map&&ee.forEach(te=>{Ie(te).forEach(ge=>{fe.hasOwnProperty(ge)||K.add(ge)})})}),K.size&&(mt(K.values()),w.errors.push(function Ut(L,g){return new G.vHH(3008,!1)}()))}return{type:0,name:g.name,style:O,options:B?{params:B}:null}}visitTransition(g,w){w.queryCount=0,w.depCount=0;const O=Ar(this,ce(g.animation),w);return{type:1,matchers:Ki(g.expr,w.errors),animation:O,queryCount:w.queryCount,depCount:w.depCount,options:ms(g.options)}}visitSequence(g,w){return{type:2,steps:g.steps.map(O=>Ar(this,O,w)),options:ms(g.options)}}visitGroup(g,w){const O=w.currentTime;let B=0;const K=g.steps.map(fe=>{w.currentTime=O;const ee=Ar(this,fe,w);return B=Math.max(B,w.currentTime),ee});return w.currentTime=B,{type:3,steps:K,options:ms(g.options)}}visitAnimate(g,w){const O=function kr(L,g){if(L.hasOwnProperty("duration"))return L;if("number"==typeof L)return $r(le(L,g).duration,0,"");const w=L;if(w.split(/\s+/).some(K=>"{"==K.charAt(0)&&"{"==K.charAt(1))){const K=$r(0,0,"");return K.dynamic=!0,K.strValue=w,K}const B=le(w,g);return $r(B.duration,B.delay,B.easing)}(g.timings,w.errors);w.currentAnimateTimings=O;let B,K=g.styles?g.styles:(0,We.oB)({});if(5==K.type)B=this.visitKeyframes(K,w);else{let fe=g.styles,ee=!1;if(!fe){ee=!0;const ge={};O.easing&&(ge.easing=O.easing),fe=(0,We.oB)(ge)}w.currentTime+=O.duration+O.delay;const te=this.visitStyle(fe,w);te.isEmptyStep=ee,B=te}return w.currentAnimateTimings=null,{type:4,timings:O,style:B,options:null}}visitStyle(g,w){const O=this._makeStyleAst(g,w);return this._validateStyleAst(O,w),O}_makeStyleAst(g,w){const O=[],B=Array.isArray(g.styles)?g.styles:[g.styles];for(let ee of B)"string"==typeof ee?ee===We.l3?O.push(ee):w.errors.push(new G.vHH(3002,!1)):O.push(Je(ee));let K=!1,fe=null;return O.forEach(ee=>{if(ee instanceof Map&&(ee.has("easing")&&(fe=ee.get("easing"),ee.delete("easing")),!K))for(let te of ee.values())if(te.toString().indexOf("{{")>=0){K=!0;break}}),{type:6,styles:O,easing:fe,offset:g.offset,containsDynamicStyles:K,options:null}}_validateStyleAst(g,w){const O=w.currentAnimateTimings;let B=w.currentTime,K=w.currentTime;O&&K>0&&(K-=O.duration+O.delay),g.styles.forEach(fe=>{"string"!=typeof fe&&fe.forEach((ee,te)=>{const ge=w.collectedStyles.get(w.currentQuerySelector),bt=ge.get(te);let Qt=!0;bt&&(K!=B&&K>=bt.startTime&&B<=bt.endTime&&(w.errors.push(function Be(L,g,w,O,B){return new G.vHH(3010,!1)}()),Qt=!1),K=bt.startTime),Qt&&ge.set(te,{startTime:K,endTime:B}),w.options&&function ne(L,g,w){const O=g.params||{},B=Ie(L);B.length&&B.forEach(K=>{O.hasOwnProperty(K)||w.push(function qe(L){return new G.vHH(3001,!1)}())})}(ee,w.options,w.errors)})})}visitKeyframes(g,w){const O={type:5,styles:[],options:null};if(!w.currentAnimateTimings)return w.errors.push(function Te(){return new G.vHH(3011,!1)}()),O;let K=0;const fe=[];let ee=!1,te=!1,ge=0;const bt=g.steps.map(xr=>{const ci=this._makeStyleAst(xr,w);let as=null!=ci.offset?ci.offset:function Br(L){if("string"==typeof L)return null;let g=null;if(Array.isArray(L))L.forEach(w=>{if(w instanceof Map&&w.has("offset")){const O=w;g=parseFloat(O.get("offset")),O.delete("offset")}});else if(L instanceof Map&&L.has("offset")){const w=L;g=parseFloat(w.get("offset")),w.delete("offset")}return g}(ci.styles),Xn=0;return null!=as&&(K++,Xn=ci.offset=as),te=te||Xn<0||Xn>1,ee=ee||Xn<ge,ge=Xn,fe.push(Xn),ci});te&&w.errors.push(function xe(){return new G.vHH(3012,!1)}()),ee&&w.errors.push(function Dt(){return new G.vHH(3200,!1)}());const Qt=g.steps.length;let ur=0;K>0&&K<Qt?w.errors.push(function Ee(){return new G.vHH(3202,!1)}()):0==K&&(ur=1/(Qt-1));const _n=Qt-1,Tn=w.currentTime,bn=w.currentAnimateTimings,Tr=bn.duration;return bt.forEach((xr,ci)=>{const as=ur>0?ci==_n?1:ur*ci:fe[ci],Xn=as*Tr;w.currentTime=Tn+bn.delay+Xn,bn.duration=Xn,this._validateStyleAst(xr,w),xr.offset=as,O.styles.push(xr)}),O}visitReference(g,w){return{type:8,animation:Ar(this,ce(g.animation),w),options:ms(g.options)}}visitAnimateChild(g,w){return w.depCount++,{type:9,options:ms(g.options)}}visitAnimateRef(g,w){return{type:10,animation:this.visitReference(g.animation,w),options:ms(g.options)}}visitQuery(g,w){const O=w.currentQuerySelector,B=g.options||{};w.queryCount++,w.currentQuery=g;const[K,fe]=function Cn(L){const g=!!L.split(/\s*,\s*/).find(w=>":self"==w);return g&&(L=L.replace(Oe,"")),L=L.replace(/@\*/g,Pe).replace(/@\w+/g,w=>Pe+"-"+w.slice(1)).replace(/:animating/g,st),[L,g]}(g.selector);w.currentQuerySelector=O.length?O+" "+K:K,rr(w.collectedStyles,w.currentQuerySelector,new Map);const ee=Ar(this,ce(g.animation),w);return w.currentQuery=null,w.currentQuerySelector=O,{type:11,selector:K,limit:B.limit||0,optional:!!B.optional,includeSelf:fe,animation:ee,originalSelector:g.selector,options:ms(g.options)}}visitStagger(g,w){w.currentQuery||w.errors.push(function Se(){return new G.vHH(3013,!1)}());const O="full"===g.timings?{duration:0,delay:0,easing:"full"}:le(g.timings,w.errors,!0);return{type:12,animation:Ar(this,ce(g.animation),w),timings:O,options:null}}}class qn{constructor(g){this.errors=g,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ms(L){return L?(L=ve(L)).params&&(L.params=function hr(L){return L?ve(L):null}(L.params)):L={},L}function $r(L,g,w){return{duration:L,delay:g,easing:w}}function Kn(L,g,w,O,B,K,fe=null,ee=!1){return{type:1,element:L,keyframes:g,preStyleProps:w,postStyleProps:O,duration:B,delay:K,totalTime:B+K,easing:fe,subTimeline:ee}}class Ti{constructor(){this._map=new Map}get(g){return this._map.get(g)||[]}append(g,w){let O=this._map.get(g);O||this._map.set(g,O=[]),O.push(...w)}has(g){return this._map.has(g)}clear(){this._map.clear()}}const _i=new RegExp(":enter","g"),Ns=new RegExp(":leave","g");function eo(L,g,w,O,B,K=new Map,fe=new Map,ee,te,ge=[]){return(new vs).buildKeyframes(L,g,w,O,B,K,fe,ee,te,ge)}class vs{buildKeyframes(g,w,O,B,K,fe,ee,te,ge,bt=[]){ge=ge||new Ti;const Qt=new us(g,w,ge,B,K,bt,[]);Qt.options=te;const ur=te.delay?Ct(te.delay):0;Qt.currentTimeline.delayNextStep(ur),Qt.currentTimeline.setStyles([fe],null,Qt.errors,te),Ar(this,O,Qt);const _n=Qt.timelines.filter(Tn=>Tn.containsAnimation());if(_n.length&&ee.size){let Tn;for(let bn=_n.length-1;bn>=0;bn--){const Tr=_n[bn];if(Tr.element===w){Tn=Tr;break}}Tn&&!Tn.allowOnlyTimelineStyles()&&Tn.setStyles([ee],null,Qt.errors,te)}return _n.length?_n.map(Tn=>Tn.buildKeyframes()):[Kn(w,[],[],[],0,ur,"",!1)]}visitTrigger(g,w){}visitState(g,w){}visitTransition(g,w){}visitAnimateChild(g,w){const O=w.subInstructions.get(w.element);if(O){const B=w.createSubContext(g.options),K=w.currentTimeline.currentTime,fe=this._visitSubInstructions(O,B,B.options);K!=fe&&w.transformIntoNewTimeline(fe)}w.previousNode=g}visitAnimateRef(g,w){const O=w.createSubContext(g.options);O.transformIntoNewTimeline(),this._applyAnimationRefDelays([g.options,g.animation.options],w,O),this.visitReference(g.animation,O),w.transformIntoNewTimeline(O.currentTimeline.currentTime),w.previousNode=g}_applyAnimationRefDelays(g,w,O){for(const B of g){const K=B?.delay;if(K){const fe="number"==typeof K?K:Ct(Qe(K,B?.params??{},w.errors));O.delayNextStep(fe)}}}_visitSubInstructions(g,w,O){let K=w.currentTimeline.currentTime;const fe=null!=O.duration?Ct(O.duration):null,ee=null!=O.delay?Ct(O.delay):null;return 0!==fe&&g.forEach(te=>{const ge=w.appendInstructionToTimeline(te,fe,ee);K=Math.max(K,ge.duration+ge.delay)}),K}visitReference(g,w){w.updateOptions(g.options,!0),Ar(this,g.animation,w),w.previousNode=g}visitSequence(g,w){const O=w.subContextCount;let B=w;const K=g.options;if(K&&(K.params||K.delay)&&(B=w.createSubContext(K),B.transformIntoNewTimeline(),null!=K.delay)){6==B.previousNode.type&&(B.currentTimeline.snapshotCurrentStyles(),B.previousNode=Oi);const fe=Ct(K.delay);B.delayNextStep(fe)}g.steps.length&&(g.steps.forEach(fe=>Ar(this,fe,B)),B.currentTimeline.applyStylesToKeyframe(),B.subContextCount>O&&B.transformIntoNewTimeline()),w.previousNode=g}visitGroup(g,w){const O=[];let B=w.currentTimeline.currentTime;const K=g.options&&g.options.delay?Ct(g.options.delay):0;g.steps.forEach(fe=>{const ee=w.createSubContext(g.options);K&&ee.delayNextStep(K),Ar(this,fe,ee),B=Math.max(B,ee.currentTimeline.currentTime),O.push(ee.currentTimeline)}),O.forEach(fe=>w.currentTimeline.mergeTimelineCollectedStyles(fe)),w.transformIntoNewTimeline(B),w.previousNode=g}_visitTiming(g,w){if(g.dynamic){const O=g.strValue;return le(w.params?Qe(O,w.params,w.errors):O,w.errors)}return{duration:g.duration,delay:g.delay,easing:g.easing}}visitAnimate(g,w){const O=w.currentAnimateTimings=this._visitTiming(g.timings,w),B=w.currentTimeline;O.delay&&(w.incrementTime(O.delay),B.snapshotCurrentStyles());const K=g.style;5==K.type?this.visitKeyframes(K,w):(w.incrementTime(O.duration),this.visitStyle(K,w),B.applyStylesToKeyframe()),w.currentAnimateTimings=null,w.previousNode=g}visitStyle(g,w){const O=w.currentTimeline,B=w.currentAnimateTimings;!B&&O.hasCurrentStyleProperties()&&O.forwardFrame();const K=B&&B.easing||g.easing;g.isEmptyStep?O.applyEmptyStep(K):O.setStyles(g.styles,K,w.errors,w.options),w.previousNode=g}visitKeyframes(g,w){const O=w.currentAnimateTimings,B=w.currentTimeline.duration,K=O.duration,ee=w.createSubContext().currentTimeline;ee.easing=O.easing,g.styles.forEach(te=>{ee.forwardTime((te.offset||0)*K),ee.setStyles(te.styles,te.easing,w.errors,w.options),ee.applyStylesToKeyframe()}),w.currentTimeline.mergeTimelineCollectedStyles(ee),w.transformIntoNewTimeline(B+K),w.previousNode=g}visitQuery(g,w){const O=w.currentTimeline.currentTime,B=g.options||{},K=B.delay?Ct(B.delay):0;K&&(6===w.previousNode.type||0==O&&w.currentTimeline.hasCurrentStyleProperties())&&(w.currentTimeline.snapshotCurrentStyles(),w.previousNode=Oi);let fe=O;const ee=w.invokeQuery(g.selector,g.originalSelector,g.limit,g.includeSelf,!!B.optional,w.errors);w.currentQueryTotal=ee.length;let te=null;ee.forEach((ge,bt)=>{w.currentQueryIndex=bt;const Qt=w.createSubContext(g.options,ge);K&&Qt.delayNextStep(K),ge===w.element&&(te=Qt.currentTimeline),Ar(this,g.animation,Qt),Qt.currentTimeline.applyStylesToKeyframe(),fe=Math.max(fe,Qt.currentTimeline.currentTime)}),w.currentQueryIndex=0,w.currentQueryTotal=0,w.transformIntoNewTimeline(fe),te&&(w.currentTimeline.mergeTimelineCollectedStyles(te),w.currentTimeline.snapshotCurrentStyles()),w.previousNode=g}visitStagger(g,w){const O=w.parentContext,B=w.currentTimeline,K=g.timings,fe=Math.abs(K.duration),ee=fe*(w.currentQueryTotal-1);let te=fe*w.currentQueryIndex;switch(K.duration<0?"reverse":K.easing){case"reverse":te=ee-te;break;case"full":te=O.currentStaggerTime}const bt=w.currentTimeline;te&&bt.delayNextStep(te);const Qt=bt.currentTime;Ar(this,g.animation,w),w.previousNode=g,O.currentStaggerTime=B.currentTime-Qt+(B.startTime-O.currentTimeline.startTime)}}const Oi={};class us{constructor(g,w,O,B,K,fe,ee,te){this._driver=g,this.element=w,this.subInstructions=O,this._enterClassName=B,this._leaveClassName=K,this.errors=fe,this.timelines=ee,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Oi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=te||new xo(this._driver,w,0),ee.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(g,w){if(!g)return;const O=g;let B=this.options;null!=O.duration&&(B.duration=Ct(O.duration)),null!=O.delay&&(B.delay=Ct(O.delay));const K=O.params;if(K){let fe=B.params;fe||(fe=this.options.params={}),Object.keys(K).forEach(ee=>{(!w||!fe.hasOwnProperty(ee))&&(fe[ee]=Qe(K[ee],fe,this.errors))})}}_copyOptions(){const g={};if(this.options){const w=this.options.params;if(w){const O=g.params={};Object.keys(w).forEach(B=>{O[B]=w[B]})}}return g}createSubContext(g=null,w,O){const B=w||this.element,K=new us(this._driver,B,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(B,O||0));return K.previousNode=this.previousNode,K.currentAnimateTimings=this.currentAnimateTimings,K.options=this._copyOptions(),K.updateOptions(g),K.currentQueryIndex=this.currentQueryIndex,K.currentQueryTotal=this.currentQueryTotal,K.parentContext=this,this.subContextCount++,K}transformIntoNewTimeline(g){return this.previousNode=Oi,this.currentTimeline=this.currentTimeline.fork(this.element,g),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(g,w,O){const B={duration:w??g.duration,delay:this.currentTimeline.currentTime+(O??0)+g.delay,easing:""},K=new ga(this._driver,g.element,g.keyframes,g.preStyleProps,g.postStyleProps,B,g.stretchStartingKeyframe);return this.timelines.push(K),B}incrementTime(g){this.currentTimeline.forwardTime(this.currentTimeline.duration+g)}delayNextStep(g){g>0&&this.currentTimeline.delayNextStep(g)}invokeQuery(g,w,O,B,K,fe){let ee=[];if(B&&ee.push(this.element),g.length>0){g=(g=g.replace(_i,"."+this._enterClassName)).replace(Ns,"."+this._leaveClassName);let ge=this._driver.query(this.element,g,1!=O);0!==O&&(ge=O<0?ge.slice(ge.length+O,ge.length):ge.slice(0,O)),ee.push(...ge)}return!K&&0==ee.length&&fe.push(function rt(L){return new G.vHH(3014,!1)}()),ee}}class xo{constructor(g,w,O,B){this._driver=g,this.element=w,this.startTime=O,this._elementTimelineStylesLookup=B,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(w),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(w,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(g){const w=1===this._keyframes.size&&this._pendingStyles.size;this.duration||w?(this.forwardTime(this.currentTime+g),w&&this.snapshotCurrentStyles()):this.startTime+=g}fork(g,w){return this.applyStylesToKeyframe(),new xo(this._driver,g,w||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(g){this.applyStylesToKeyframe(),this.duration=g,this._loadKeyframe()}_updateStyle(g,w){this._localTimelineStyles.set(g,w),this._globalTimelineStyles.set(g,w),this._styleSummary.set(g,{time:this.currentTime,value:w})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(g){g&&this._previousKeyframe.set("easing",g);for(let[w,O]of this._globalTimelineStyles)this._backFill.set(w,O||We.l3),this._currentKeyframe.set(w,We.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(g,w,O,B){w&&this._previousKeyframe.set("easing",w);const K=B&&B.params||{},fe=function to(L,g){const w=new Map;let O;return L.forEach(B=>{if("*"===B){O=O||g.keys();for(let K of O)w.set(K,We.l3)}else en(B,w)}),w}(g,this._globalTimelineStyles);for(let[ee,te]of fe){const ge=Qe(te,K,O);this._pendingStyles.set(ee,ge),this._localTimelineStyles.has(ee)||this._backFill.set(ee,this._globalTimelineStyles.get(ee)??We.l3),this._updateStyle(ee,ge)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((g,w)=>{this._currentKeyframe.set(w,g)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((g,w)=>{this._currentKeyframe.has(w)||this._currentKeyframe.set(w,g)}))}snapshotCurrentStyles(){for(let[g,w]of this._localTimelineStyles)this._pendingStyles.set(g,w),this._updateStyle(g,w)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const g=[];for(let w in this._currentKeyframe)g.push(w);return g}mergeTimelineCollectedStyles(g){g._styleSummary.forEach((w,O)=>{const B=this._styleSummary.get(O);(!B||w.time>B.time)&&this._updateStyle(O,w.value)})}buildKeyframes(){this.applyStylesToKeyframe();const g=new Set,w=new Set,O=1===this._keyframes.size&&0===this.duration;let B=[];this._keyframes.forEach((ee,te)=>{const ge=en(ee,new Map,this._backFill);ge.forEach((bt,Qt)=>{bt===We.k1?g.add(Qt):bt===We.l3&&w.add(Qt)}),O||ge.set("offset",te/this.duration),B.push(ge)});const K=g.size?mt(g.values()):[],fe=w.size?mt(w.values()):[];if(O){const ee=B[0],te=new Map(ee);ee.set("offset",0),te.set("offset",1),B=[ee,te]}return Kn(this.element,B,K,fe,this.duration,this.startTime,this.easing,!1)}}class ga extends xo{constructor(g,w,O,B,K,fe,ee=!1){super(g,w,fe.delay),this.keyframes=O,this.preStyleProps=B,this.postStyleProps=K,this._stretchStartingKeyframe=ee,this.timings={duration:fe.duration,delay:fe.delay,easing:fe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let g=this.keyframes,{delay:w,duration:O,easing:B}=this.timings;if(this._stretchStartingKeyframe&&w){const K=[],fe=O+w,ee=w/fe,te=en(g[0]);te.set("offset",0),K.push(te);const ge=en(g[0]);ge.set("offset",zo(ee)),K.push(ge);const bt=g.length-1;for(let Qt=1;Qt<=bt;Qt++){let ur=en(g[Qt]);const _n=ur.get("offset");ur.set("offset",zo((w+_n*O)/fe)),K.push(ur)}O=fe,w=0,B="",g=K}return Kn(this.element,g,this.preStyleProps,this.postStyleProps,O,w,B,!0)}}function zo(L,g=3){const w=Math.pow(10,g-1);return Math.round(L*w)/w}class Wo{}const Rs=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class _s extends Wo{normalizePropertyName(g,w){return dt(g)}normalizeStyleValue(g,w,O,B){let K="";const fe=O.toString().trim();if(Rs.has(w)&&0!==O&&"0"!==O)if("number"==typeof O)K="px";else{const ee=O.match(/^[+-]?[\d\.]+([a-z]*)$/);ee&&0==ee[1].length&&B.push(function Et(L,g){return new G.vHH(3005,!1)}())}return fe+K}}function ki(L,g,w,O,B,K,fe,ee,te,ge,bt,Qt,ur){return{type:0,element:L,triggerName:g,isRemovalTransition:B,fromState:w,fromStyles:K,toState:O,toStyles:fe,timelines:ee,queriedElements:te,preStyleProps:ge,postStyleProps:bt,totalTime:Qt,errors:ur}}const Fi={};class Jn{constructor(g,w,O){this._triggerName=g,this.ast=w,this._stateStyles=O}match(g,w,O,B){return function ls(L,g,w,O,B){return L.some(K=>K(g,w,O,B))}(this.ast.matchers,g,w,O,B)}buildStyles(g,w,O){let B=this._stateStyles.get("*");return void 0!==g&&(B=this._stateStyles.get(g?.toString())||B),B?B.buildStyles(w,O):new Map}build(g,w,O,B,K,fe,ee,te,ge,bt){const Qt=[],ur=this.ast.options&&this.ast.options.params||Fi,Tn=this.buildStyles(O,ee&&ee.params||Fi,Qt),bn=te&&te.params||Fi,Tr=this.buildStyles(B,bn,Qt),xr=new Set,ci=new Map,as=new Map,Xn="void"===B,Bs={params:Ws(bn,ur),delay:this.ast.options?.delay},ln=bt?[]:eo(g,w,this.ast.animation,K,fe,Tn,Tr,Bs,ge,Qt);let Kr=0;if(ln.forEach(er=>{Kr=Math.max(er.duration+er.delay,Kr)}),Qt.length)return ki(w,this._triggerName,O,B,Xn,Tn,Tr,[],[],ci,as,Kr,Qt);ln.forEach(er=>{const cn=er.element,bo=rr(ci,cn,new Set);er.preStyleProps.forEach(fo=>bo.add(fo));const Hn=rr(as,cn,new Set);er.postStyleProps.forEach(fo=>Hn.add(fo)),cn!==w&&xr.add(cn)});const Gi=mt(xr.values());return ki(w,this._triggerName,O,B,Xn,Tn,Tr,ln,Gi,ci,as,Kr)}}function Ws(L,g){const w=ve(g);for(const O in L)L.hasOwnProperty(O)&&null!=L[O]&&(w[O]=L[O]);return w}class qs{constructor(g,w,O){this.styles=g,this.defaultParams=w,this.normalizer=O}buildStyles(g,w){const O=new Map,B=ve(this.defaultParams);return Object.keys(g).forEach(K=>{const fe=g[K];null!==fe&&(B[K]=fe)}),this.styles.styles.forEach(K=>{"string"!=typeof K&&K.forEach((fe,ee)=>{fe&&(fe=Qe(fe,B,w));const te=this.normalizer.normalizePropertyName(ee,w);fe=this.normalizer.normalizeStyleValue(ee,te,fe,w),O.set(te,fe)})}),O}}class Ps{constructor(g,w,O){this.name=g,this.ast=w,this._normalizer=O,this.transitionFactories=[],this.states=new Map,w.states.forEach(B=>{this.states.set(B.name,new qs(B.style,B.options&&B.options.params||{},O))}),ji(this.states,"true","1"),ji(this.states,"false","0"),w.transitions.forEach(B=>{this.transitionFactories.push(new Jn(g,B,this.states))}),this.fallbackTransition=function Zi(L,g,w){return new Jn(L,{type:1,animation:{type:2,steps:[],options:null},matchers:[(fe,ee)=>!0],options:null,queryCount:0,depCount:0},g)}(g,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(g,w,O,B){return this.transitionFactories.find(fe=>fe.match(g,w,O,B))||null}matchStyles(g,w,O){return this.fallbackTransition.buildStyles(g,w,O)}}function ji(L,g,w){L.has(g)?L.has(w)||L.set(w,L.get(g)):L.has(w)&&L.set(g,L.get(w))}const Do=new Ti;class Yi{constructor(g,w,O){this.bodyNode=g,this._driver=w,this._normalizer=O,this._animations=new Map,this._playersById=new Map,this.players=[]}register(g,w){const O=[],K=et(this._driver,w,O,[]);if(O.length)throw function Mt(L){return new G.vHH(3503,!1)}();this._animations.set(g,K)}_buildPlayer(g,w,O){const B=g.element,K=fr(0,this._normalizer,0,g.keyframes,w,O);return this._driver.animate(B,K,g.duration,g.delay,g.easing,[],!0)}create(g,w,O={}){const B=[],K=this._animations.get(g);let fe;const ee=new Map;if(K?(fe=eo(this._driver,w,K,Ri,ui,new Map,new Map,O,Do,B),fe.forEach(bt=>{const Qt=rr(ee,bt.element,new Map);bt.postStyleProps.forEach(ur=>Qt.set(ur,null))})):(B.push(function an(){return new G.vHH(3300,!1)}()),fe=[]),B.length)throw function tr(L){return new G.vHH(3504,!1)}();ee.forEach((bt,Qt)=>{bt.forEach((ur,_n)=>{bt.set(_n,this._driver.computeStyle(Qt,_n,We.l3))})});const ge=Rr(fe.map(bt=>{const Qt=ee.get(bt.element);return this._buildPlayer(bt,new Map,Qt)}));return this._playersById.set(g,ge),ge.onDestroy(()=>this.destroy(g)),this.players.push(ge),ge}destroy(g){const w=this._getPlayer(g);w.destroy(),this._playersById.delete(g);const O=this.players.indexOf(w);O>=0&&this.players.splice(O,1)}_getPlayer(g){const w=this._playersById.get(g);if(!w)throw function Wt(L){return new G.vHH(3301,!1)}();return w}listen(g,w,O,B){const K=Sr(w,"","","");return ei(this._getPlayer(g),O,K,B),()=>{}}command(g,w,O,B){if("register"==O)return void this.register(g,B[0]);if("create"==O)return void this.create(g,w,B[0]||{});const K=this._getPlayer(g);switch(O){case"play":K.play();break;case"pause":K.pause();break;case"reset":K.reset();break;case"restart":K.restart();break;case"finish":K.finish();break;case"init":K.init();break;case"setPosition":K.setPosition(parseFloat(B[0]));break;case"destroy":this.destroy(g)}}}const Qr="ng-animate-queued",No="ng-animate-disabled",Ai=[],Hi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ks={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fr="__ng_removed";class Os{constructor(g,w=""){this.namespaceId=w;const O=g&&g.hasOwnProperty("value");if(this.value=function io(L){return L??null}(O?g.value:g),O){const K=ve(g);delete K.value,this.options=K}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(g){const w=g.params;if(w){const O=this.options.params;Object.keys(w).forEach(B=>{null==O[B]&&(O[B]=w[B])})}}}const is="void",wn=new Os(is);class ks{constructor(g,w,O){this.id=g,this.hostElement=w,this._engine=O,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+g,Ei(w,this._hostClassName)}listen(g,w,O,B){if(!this._triggers.has(w))throw function hn(L,g){return new G.vHH(3302,!1)}();if(null==O||0==O.length)throw function $n(L){return new G.vHH(3303,!1)}();if(!function Fs(L){return"start"==L||"done"==L}(O))throw function Rn(L,g){return new G.vHH(3400,!1)}();const K=rr(this._elementListeners,g,[]),fe={name:w,phase:O,callback:B};K.push(fe);const ee=rr(this._engine.statesByElement,g,new Map);return ee.has(w)||(Ei(g,gt),Ei(g,gt+"-"+w),ee.set(w,wn)),()=>{this._engine.afterFlush(()=>{const te=K.indexOf(fe);te>=0&&K.splice(te,1),this._triggers.has(w)||ee.delete(w)})}}register(g,w){return!this._triggers.has(g)&&(this._triggers.set(g,w),!0)}_getTrigger(g){const w=this._triggers.get(g);if(!w)throw function Wr(L){return new G.vHH(3401,!1)}();return w}trigger(g,w,O,B=!0){const K=this._getTrigger(w),fe=new cs(this.id,w,g);let ee=this._engine.statesByElement.get(g);ee||(Ei(g,gt),Ei(g,gt+"-"+w),this._engine.statesByElement.set(g,ee=new Map));let te=ee.get(w);const ge=new Os(O,this.id);if(!(O&&O.hasOwnProperty("value"))&&te&&ge.absorbOptions(te.options),ee.set(w,ge),te||(te=wn),ge.value!==is&&te.value===ge.value){if(!function Mi(L,g){const w=Object.keys(L),O=Object.keys(g);if(w.length!=O.length)return!1;for(let B=0;B<w.length;B++){const K=w[B];if(!g.hasOwnProperty(K)||L[K]!==g[K])return!1}return!0}(te.params,ge.params)){const bn=[],Tr=K.matchStyles(te.value,te.params,bn),xr=K.matchStyles(ge.value,ge.params,bn);bn.length?this._engine.reportError(bn):this._engine.afterFlush(()=>{Me(g,Tr),jn(g,xr)})}return}const ur=rr(this._engine.playersByElement,g,[]);ur.forEach(bn=>{bn.namespaceId==this.id&&bn.triggerName==w&&bn.queued&&bn.destroy()});let _n=K.matchTransition(te.value,ge.value,g,ge.params),Tn=!1;if(!_n){if(!B)return;_n=K.fallbackTransition,Tn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:w,transition:_n,fromState:te,toState:ge,player:fe,isFallbackTransition:Tn}),Tn||(Ei(g,Qr),fe.onStart(()=>{Xr(g,Qr)})),fe.onDone(()=>{let bn=this.players.indexOf(fe);bn>=0&&this.players.splice(bn,1);const Tr=this._engine.playersByElement.get(g);if(Tr){let xr=Tr.indexOf(fe);xr>=0&&Tr.splice(xr,1)}}),this.players.push(fe),ur.push(fe),fe}deregister(g){this._triggers.delete(g),this._engine.statesByElement.forEach(w=>w.delete(g)),this._elementListeners.forEach((w,O)=>{this._elementListeners.set(O,w.filter(B=>B.name!=g))})}clearElementCache(g){this._engine.statesByElement.delete(g),this._elementListeners.delete(g);const w=this._engine.playersByElement.get(g);w&&(w.forEach(O=>O.destroy()),this._engine.playersByElement.delete(g))}_signalRemovalForInnerTriggers(g,w){const O=this._engine.driver.query(g,Pe,!0);O.forEach(B=>{if(B[Fr])return;const K=this._engine.fetchNamespacesByElement(B);K.size?K.forEach(fe=>fe.triggerLeaveAnimation(B,w,!1,!0)):this.clearElementCache(B)}),this._engine.afterFlushAnimationsDone(()=>O.forEach(B=>this.clearElementCache(B)))}triggerLeaveAnimation(g,w,O,B){const K=this._engine.statesByElement.get(g),fe=new Map;if(K){const ee=[];if(K.forEach((te,ge)=>{if(fe.set(ge,te.value),this._triggers.has(ge)){const bt=this.trigger(g,ge,is,B);bt&&ee.push(bt)}}),ee.length)return this._engine.markElementAsRemoved(this.id,g,!0,w,fe),O&&Rr(ee).onDone(()=>this._engine.processLeaveNode(g)),!0}return!1}prepareLeaveAnimationListeners(g){const w=this._elementListeners.get(g),O=this._engine.statesByElement.get(g);if(w&&O){const B=new Set;w.forEach(K=>{const fe=K.name;if(B.has(fe))return;B.add(fe);const te=this._triggers.get(fe).fallbackTransition,ge=O.get(fe)||wn,bt=new Os(is),Qt=new cs(this.id,fe,g);this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:fe,transition:te,fromState:ge,toState:bt,player:Qt,isFallbackTransition:!0})})}}removeNode(g,w){const O=this._engine;if(g.childElementCount&&this._signalRemovalForInnerTriggers(g,w),this.triggerLeaveAnimation(g,w,!0))return;let B=!1;if(O.totalAnimations){const K=O.players.length?O.playersByQueriedElement.get(g):[];if(K&&K.length)B=!0;else{let fe=g;for(;fe=fe.parentNode;)if(O.statesByElement.get(fe)){B=!0;break}}}if(this.prepareLeaveAnimationListeners(g),B)O.markElementAsRemoved(this.id,g,!1,w);else{const K=g[Fr];(!K||K===Hi)&&(O.afterFlush(()=>this.clearElementCache(g)),O.destroyInnerAnimations(g),O._onRemovalComplete(g,w))}}insertNode(g,w){Ei(g,this._hostClassName)}drainQueuedTransitions(g){const w=[];return this._queue.forEach(O=>{const B=O.player;if(B.destroyed)return;const K=O.element,fe=this._elementListeners.get(K);fe&&fe.forEach(ee=>{if(ee.name==O.triggerName){const te=Sr(K,O.triggerName,O.fromState.value,O.toState.value);te._data=g,ei(O.player,ee.phase,te,ee.callback)}}),B.markedForDestroy?this._engine.afterFlush(()=>{B.destroy()}):w.push(O)}),this._queue=[],w.sort((O,B)=>{const K=O.transition.ast.depCount,fe=B.transition.ast.depCount;return 0==K||0==fe?K-fe:this._engine.driver.containsElement(O.element,B.element)?1:-1})}destroy(g){this.players.forEach(w=>w.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,g)}elementContainsData(g){let w=!1;return this._elementListeners.has(g)&&(w=!0),w=!!this._queue.find(O=>O.element===g)||w,w}}class Zs{constructor(g,w,O){this.bodyNode=g,this.driver=w,this._normalizer=O,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(B,K)=>{}}_onRemovalComplete(g,w){this.onRemovalComplete(g,w)}get queuedPlayers(){const g=[];return this._namespaceList.forEach(w=>{w.players.forEach(O=>{O.queued&&g.push(O)})}),g}createNamespace(g,w){const O=new ks(g,w,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,w)?this._balanceNamespaceList(O,w):(this.newHostElements.set(w,O),this.collectEnterElement(w)),this._namespaceLookup[g]=O}_balanceNamespaceList(g,w){const O=this._namespaceList,B=this.namespacesByHostElement;if(O.length-1>=0){let fe=!1,ee=this.driver.getParentElement(w);for(;ee;){const te=B.get(ee);if(te){const ge=O.indexOf(te);O.splice(ge+1,0,g),fe=!0;break}ee=this.driver.getParentElement(ee)}fe||O.unshift(g)}else O.push(g);return B.set(w,g),g}register(g,w){let O=this._namespaceLookup[g];return O||(O=this.createNamespace(g,w)),O}registerTrigger(g,w,O){let B=this._namespaceLookup[g];B&&B.register(w,O)&&this.totalAnimations++}destroy(g,w){if(!g)return;const O=this._fetchNamespace(g);this.afterFlush(()=>{this.namespacesByHostElement.delete(O.hostElement),delete this._namespaceLookup[g];const B=this._namespaceList.indexOf(O);B>=0&&this._namespaceList.splice(B,1)}),this.afterFlushAnimationsDone(()=>O.destroy(w))}_fetchNamespace(g){return this._namespaceLookup[g]}fetchNamespacesByElement(g){const w=new Set,O=this.statesByElement.get(g);if(O)for(let B of O.values())if(B.namespaceId){const K=this._fetchNamespace(B.namespaceId);K&&w.add(K)}return w}trigger(g,w,O,B){if(Lr(w)){const K=this._fetchNamespace(g);if(K)return K.trigger(w,O,B),!0}return!1}insertNode(g,w,O,B){if(!Lr(w))return;const K=w[Fr];if(K&&K.setForRemoval){K.setForRemoval=!1,K.setForMove=!0;const fe=this.collectedLeaveElements.indexOf(w);fe>=0&&this.collectedLeaveElements.splice(fe,1)}if(g){const fe=this._fetchNamespace(g);fe&&fe.insertNode(w,O)}B&&this.collectEnterElement(w)}collectEnterElement(g){this.collectedEnterElements.push(g)}markElementAsDisabled(g,w){w?this.disabledNodes.has(g)||(this.disabledNodes.add(g),Ei(g,No)):this.disabledNodes.has(g)&&(this.disabledNodes.delete(g),Xr(g,No))}removeNode(g,w,O,B){if(Lr(w)){const K=g?this._fetchNamespace(g):null;if(K?K.removeNode(w,B):this.markElementAsRemoved(g,w,!1,B),O){const fe=this.namespacesByHostElement.get(w);fe&&fe.id!==g&&fe.removeNode(w,B)}}else this._onRemovalComplete(w,B)}markElementAsRemoved(g,w,O,B,K){this.collectedLeaveElements.push(w),w[Fr]={namespaceId:g,setForRemoval:B,hasAnimation:O,removedBeforeQueried:!1,previousTriggersValues:K}}listen(g,w,O,B,K){return Lr(w)?this._fetchNamespace(g).listen(w,O,B,K):()=>{}}_buildInstruction(g,w,O,B,K){return g.transition.build(this.driver,g.element,g.fromState.value,g.toState.value,O,B,g.fromState.options,g.toState.options,w,K)}destroyInnerAnimations(g){let w=this.driver.query(g,Pe,!0);w.forEach(O=>this.destroyActiveAnimationsForElement(O)),0!=this.playersByQueriedElement.size&&(w=this.driver.query(g,st,!0),w.forEach(O=>this.finishActiveQueriedAnimationOnElement(O)))}destroyActiveAnimationsForElement(g){const w=this.playersByElement.get(g);w&&w.forEach(O=>{O.queued?O.markedForDestroy=!0:O.destroy()})}finishActiveQueriedAnimationOnElement(g){const w=this.playersByQueriedElement.get(g);w&&w.forEach(O=>O.finish())}whenRenderingDone(){return new Promise(g=>{if(this.players.length)return Rr(this.players).onDone(()=>g());g()})}processLeaveNode(g){const w=g[Fr];if(w&&w.setForRemoval){if(g[Fr]=Hi,w.namespaceId){this.destroyInnerAnimations(g);const O=this._fetchNamespace(w.namespaceId);O&&O.clearElementCache(g)}this._onRemovalComplete(g,w.setForRemoval)}g.classList?.contains(No)&&this.markElementAsDisabled(g,!1),this.driver.query(g,".ng-animate-disabled",!0).forEach(O=>{this.markElementAsDisabled(O,!1)})}flush(g=-1){let w=[];if(this.newHostElements.size&&(this.newHostElements.forEach((O,B)=>this._balanceNamespaceList(O,B)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let O=0;O<this.collectedEnterElements.length;O++)Ei(this.collectedEnterElements[O],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const O=[];try{w=this._flushAnimations(O,g)}finally{for(let B=0;B<O.length;B++)O[B]()}}else for(let O=0;O<this.collectedLeaveElements.length;O++)this.processLeaveNode(this.collectedLeaveElements[O]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(O=>O()),this._flushFns=[],this._whenQuietFns.length){const O=this._whenQuietFns;this._whenQuietFns=[],w.length?Rr(w).onDone(()=>{O.forEach(B=>B())}):O.forEach(B=>B())}}reportError(g){throw function Dn(L){return new G.vHH(3402,!1)}()}_flushAnimations(g,w){const O=new Ti,B=[],K=new Map,fe=[],ee=new Map,te=new Map,ge=new Map,bt=new Set;this.disabledNodes.forEach(Ht=>{bt.add(Ht);const sn=this.driver.query(Ht,".ng-animate-queued",!0);for(let tn=0;tn<sn.length;tn++)bt.add(sn[tn])});const Qt=this.bodyNode,ur=Array.from(this.statesByElement.keys()),_n=ds(ur,this.collectedEnterElements),Tn=new Map;let bn=0;_n.forEach((Ht,sn)=>{const tn=Ri+bn++;Tn.set(sn,tn),Ht.forEach(Yn=>Ei(Yn,tn))});const Tr=[],xr=new Set,ci=new Set;for(let Ht=0;Ht<this.collectedLeaveElements.length;Ht++){const sn=this.collectedLeaveElements[Ht],tn=sn[Fr];tn&&tn.setForRemoval&&(Tr.push(sn),xr.add(sn),tn.hasAnimation?this.driver.query(sn,".ng-star-inserted",!0).forEach(Yn=>xr.add(Yn)):ci.add(sn))}const as=new Map,Xn=ds(ur,Array.from(xr));Xn.forEach((Ht,sn)=>{const tn=ui+bn++;as.set(sn,tn),Ht.forEach(Yn=>Ei(Yn,tn))}),g.push(()=>{_n.forEach((Ht,sn)=>{const tn=Tn.get(sn);Ht.forEach(Yn=>Xr(Yn,tn))}),Xn.forEach((Ht,sn)=>{const tn=as.get(sn);Ht.forEach(Yn=>Xr(Yn,tn))}),Tr.forEach(Ht=>{this.processLeaveNode(Ht)})});const Bs=[],ln=[];for(let Ht=this._namespaceList.length-1;Ht>=0;Ht--)this._namespaceList[Ht].drainQueuedTransitions(w).forEach(tn=>{const Yn=tn.player,Nr=tn.element;if(Bs.push(Yn),this.collectedEnterElements.length){const yi=Nr[Fr];if(yi&&yi.setForMove){if(yi.previousTriggersValues&&yi.previousTriggersValues.has(tn.triggerName)){const Xs=yi.previousTriggersValues.get(tn.triggerName),vi=this.statesByElement.get(tn.element);if(vi&&vi.has(tn.triggerName)){const si=vi.get(tn.triggerName);si.value=Xs,vi.set(tn.triggerName,si)}}return void Yn.destroy()}}const po=!Qt||!this.driver.containsElement(Qt,Nr),mi=as.get(Nr),Ji=Tn.get(Nr),Zr=this._buildInstruction(tn,O,Ji,mi,po);if(Zr.errors&&Zr.errors.length)return void ln.push(Zr);if(po)return Yn.onStart(()=>Me(Nr,Zr.fromStyles)),Yn.onDestroy(()=>jn(Nr,Zr.toStyles)),void B.push(Yn);if(tn.isFallbackTransition)return Yn.onStart(()=>Me(Nr,Zr.fromStyles)),Yn.onDestroy(()=>jn(Nr,Zr.toStyles)),void B.push(Yn);const es=[];Zr.timelines.forEach(yi=>{yi.stretchStartingKeyframe=!0,this.disabledNodes.has(yi.element)||es.push(yi)}),Zr.timelines=es,O.append(Nr,Zr.timelines),fe.push({instruction:Zr,player:Yn,element:Nr}),Zr.queriedElements.forEach(yi=>rr(ee,yi,[]).push(Yn)),Zr.preStyleProps.forEach((yi,Xs)=>{if(yi.size){let vi=te.get(Xs);vi||te.set(Xs,vi=new Set),yi.forEach((si,Le)=>vi.add(Le))}}),Zr.postStyleProps.forEach((yi,Xs)=>{let vi=ge.get(Xs);vi||ge.set(Xs,vi=new Set),yi.forEach((si,Le)=>vi.add(Le))})});if(ln.length){const Ht=[];ln.forEach(sn=>{Ht.push(function An(L,g){return new G.vHH(3505,!1)}())}),Bs.forEach(sn=>sn.destroy()),this.reportError(Ht)}const Kr=new Map,Gi=new Map;fe.forEach(Ht=>{const sn=Ht.element;O.has(sn)&&(Gi.set(sn,sn),this._beforeAnimationBuild(Ht.player.namespaceId,Ht.instruction,Kr))}),B.forEach(Ht=>{const sn=Ht.element;this._getPreviousPlayers(sn,!1,Ht.namespaceId,Ht.triggerName,null).forEach(Yn=>{rr(Kr,sn,[]).push(Yn),Yn.destroy()})});const er=Tr.filter(Ht=>oo(Ht,te,ge)),cn=new Map;Po(cn,this.driver,ci,ge,We.l3).forEach(Ht=>{oo(Ht,te,ge)&&er.push(Ht)});const Hn=new Map;_n.forEach((Ht,sn)=>{Po(Hn,this.driver,new Set(Ht),te,We.k1)}),er.forEach(Ht=>{const sn=cn.get(Ht),tn=Hn.get(Ht);cn.set(Ht,new Map([...Array.from(sn?.entries()??[]),...Array.from(tn?.entries()??[])]))});const fo=[],yr=[],xt={};fe.forEach(Ht=>{const{element:sn,player:tn,instruction:Yn}=Ht;if(O.has(sn)){if(bt.has(sn))return tn.onDestroy(()=>jn(sn,Yn.toStyles)),tn.disabled=!0,tn.overrideTotalTime(Yn.totalTime),void B.push(tn);let Nr=xt;if(Gi.size>1){let mi=sn;const Ji=[];for(;mi=mi.parentNode;){const Zr=Gi.get(mi);if(Zr){Nr=Zr;break}Ji.push(mi)}Ji.forEach(Zr=>Gi.set(Zr,Nr))}const po=this._buildAnimation(tn.namespaceId,Yn,Kr,K,Hn,cn);if(tn.setRealPlayer(po),Nr===xt)fo.push(tn);else{const mi=this.playersByElement.get(Nr);mi&&mi.length&&(tn.parentPlayer=Rr(mi)),B.push(tn)}}else Me(sn,Yn.fromStyles),tn.onDestroy(()=>jn(sn,Yn.toStyles)),yr.push(tn),bt.has(sn)&&B.push(tn)}),yr.forEach(Ht=>{const sn=K.get(Ht.element);if(sn&&sn.length){const tn=Rr(sn);Ht.setRealPlayer(tn)}}),B.forEach(Ht=>{Ht.parentPlayer?Ht.syncPlayerEvents(Ht.parentPlayer):Ht.destroy()});for(let Ht=0;Ht<Tr.length;Ht++){const sn=Tr[Ht],tn=sn[Fr];if(Xr(sn,ui),tn&&tn.hasAnimation)continue;let Yn=[];if(ee.size){let po=ee.get(sn);po&&po.length&&Yn.push(...po);let mi=this.driver.query(sn,st,!0);for(let Ji=0;Ji<mi.length;Ji++){let Zr=ee.get(mi[Ji]);Zr&&Zr.length&&Yn.push(...Zr)}}const Nr=Yn.filter(po=>!po.destroyed);Nr.length?ss(this,sn,Nr):this.processLeaveNode(sn)}return Tr.length=0,fo.forEach(Ht=>{this.players.push(Ht),Ht.onDone(()=>{Ht.destroy();const sn=this.players.indexOf(Ht);this.players.splice(sn,1)}),Ht.play()}),fo}elementContainsData(g,w){let O=!1;const B=w[Fr];return B&&B.setForRemoval&&(O=!0),this.playersByElement.has(w)&&(O=!0),this.playersByQueriedElement.has(w)&&(O=!0),this.statesByElement.has(w)&&(O=!0),this._fetchNamespace(g).elementContainsData(w)||O}afterFlush(g){this._flushFns.push(g)}afterFlushAnimationsDone(g){this._whenQuietFns.push(g)}_getPreviousPlayers(g,w,O,B,K){let fe=[];if(w){const ee=this.playersByQueriedElement.get(g);ee&&(fe=ee)}else{const ee=this.playersByElement.get(g);if(ee){const te=!K||K==is;ee.forEach(ge=>{ge.queued||!te&&ge.triggerName!=B||fe.push(ge)})}}return(O||B)&&(fe=fe.filter(ee=>!(O&&O!=ee.namespaceId||B&&B!=ee.triggerName))),fe}_beforeAnimationBuild(g,w,O){const K=w.element,fe=w.isRemovalTransition?void 0:g,ee=w.isRemovalTransition?void 0:w.triggerName;for(const te of w.timelines){const ge=te.element,bt=ge!==K,Qt=rr(O,ge,[]);this._getPreviousPlayers(ge,bt,fe,ee,w.toState).forEach(_n=>{const Tn=_n.getRealPlayer();Tn.beforeDestroy&&Tn.beforeDestroy(),_n.destroy(),Qt.push(_n)})}Me(K,w.fromStyles)}_buildAnimation(g,w,O,B,K,fe){const ee=w.triggerName,te=w.element,ge=[],bt=new Set,Qt=new Set,ur=w.timelines.map(Tn=>{const bn=Tn.element;bt.add(bn);const Tr=bn[Fr];if(Tr&&Tr.removedBeforeQueried)return new We.ZN(Tn.duration,Tn.delay);const xr=bn!==te,ci=function so(L){const g=[];return Ft(L,g),g}((O.get(bn)||Ai).map(Kr=>Kr.getRealPlayer())).filter(Kr=>!!Kr.element&&Kr.element===bn),as=K.get(bn),Xn=fe.get(bn),Bs=fr(0,this._normalizer,0,Tn.keyframes,as,Xn),ln=this._buildPlayer(Tn,Bs,ci);if(Tn.subTimeline&&B&&Qt.add(bn),xr){const Kr=new cs(g,ee,bn);Kr.setRealPlayer(ln),ge.push(Kr)}return ln});ge.forEach(Tn=>{rr(this.playersByQueriedElement,Tn.element,[]).push(Tn),Tn.onDone(()=>function pi(L,g,w){let O=L.get(g);if(O){if(O.length){const B=O.indexOf(w);O.splice(B,1)}0==O.length&&L.delete(g)}return O}(this.playersByQueriedElement,Tn.element,Tn))}),bt.forEach(Tn=>Ei(Tn,It));const _n=Rr(ur);return _n.onDestroy(()=>{bt.forEach(Tn=>Xr(Tn,It)),jn(te,w.toStyles)}),Qt.forEach(Tn=>{rr(B,Tn,[]).push(_n)}),_n}_buildPlayer(g,w,O){return w.length>0?this.driver.animate(g.element,w,g.duration,g.delay,g.easing,O):new We.ZN(g.duration,g.delay)}}class cs{constructor(g,w,O){this.namespaceId=g,this.triggerName=w,this.element=O,this._player=new We.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(g){this._containsRealPlayer||(this._player=g,this._queuedCallbacks.forEach((w,O)=>{w.forEach(B=>ei(g,O,void 0,B))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(g.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(g){this.totalTime=g}syncPlayerEvents(g){const w=this._player;w.triggerCallback&&g.onStart(()=>w.triggerCallback("start")),g.onDone(()=>this.finish()),g.onDestroy(()=>this.destroy())}_queueEvent(g,w){rr(this._queuedCallbacks,g,[]).push(w)}onDone(g){this.queued&&this._queueEvent("done",g),this._player.onDone(g)}onStart(g){this.queued&&this._queueEvent("start",g),this._player.onStart(g)}onDestroy(g){this.queued&&this._queueEvent("destroy",g),this._player.onDestroy(g)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(g){this.queued||this._player.setPosition(g)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(g){const w=this._player;w.triggerCallback&&w.triggerCallback(g)}}function Lr(L){return L&&1===L.nodeType}function ii(L,g){const w=L.style.display;return L.style.display=g??"none",w}function Po(L,g,w,O,B){const K=[];w.forEach(te=>K.push(ii(te)));const fe=[];O.forEach((te,ge)=>{const bt=new Map;te.forEach(Qt=>{const ur=g.computeStyle(ge,Qt,B);bt.set(Qt,ur),(!ur||0==ur.length)&&(ge[Fr]=Ks,fe.push(ge))}),L.set(ge,bt)});let ee=0;return w.forEach(te=>ii(te,K[ee++])),fe}function ds(L,g){const w=new Map;if(L.forEach(ee=>w.set(ee,[])),0==g.length)return w;const B=new Set(g),K=new Map;function fe(ee){if(!ee)return 1;let te=K.get(ee);if(te)return te;const ge=ee.parentNode;return te=w.has(ge)?ge:B.has(ge)?1:fe(ge),K.set(ee,te),te}return g.forEach(ee=>{const te=fe(ee);1!==te&&w.get(te).push(ee)}),w}function Ei(L,g){L.classList?.add(g)}function Xr(L,g){L.classList?.remove(g)}function ss(L,g,w){Rr(w).onDone(()=>L.processLeaveNode(g))}function Ft(L,g){for(let w=0;w<L.length;w++){const O=L[w];O instanceof We.ZE?Ft(O.players,g):g.push(O)}}function oo(L,g,w){const O=w.get(L);if(!O)return!1;let B=g.get(L);return B?O.forEach(K=>B.add(K)):g.set(L,O),w.delete(L),!0}class ao{constructor(g,w,O){this.bodyNode=g,this._driver=w,this._normalizer=O,this._triggerCache={},this.onRemovalComplete=(B,K)=>{},this._transitionEngine=new Zs(g,w,O),this._timelineEngine=new Yi(g,w,O),this._transitionEngine.onRemovalComplete=(B,K)=>this.onRemovalComplete(B,K)}registerTrigger(g,w,O,B,K){const fe=g+"-"+B;let ee=this._triggerCache[fe];if(!ee){const te=[],bt=et(this._driver,K,te,[]);if(te.length)throw function it(L,g){return new G.vHH(3404,!1)}();ee=function Io(L,g,w){return new Ps(L,g,w)}(B,bt,this._normalizer),this._triggerCache[fe]=ee}this._transitionEngine.registerTrigger(w,B,ee)}register(g,w){this._transitionEngine.register(g,w)}destroy(g,w){this._transitionEngine.destroy(g,w)}onInsert(g,w,O,B){this._transitionEngine.insertNode(g,w,O,B)}onRemove(g,w,O,B){this._transitionEngine.removeNode(g,w,B||!1,O)}disableAnimations(g,w){this._transitionEngine.markElementAsDisabled(g,w)}process(g,w,O,B){if("@"==O.charAt(0)){const[K,fe]=Bt(O);this._timelineEngine.command(K,w,fe,B)}else this._transitionEngine.trigger(g,w,O,B)}listen(g,w,O,B,K){if("@"==O.charAt(0)){const[fe,ee]=Bt(O);return this._timelineEngine.listen(fe,w,ee,K)}return this._transitionEngine.listen(g,w,O,B,K)}flush(g=-1){this._transitionEngine.flush(g)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ea=(()=>{class L{constructor(w,O,B){this._element=w,this._startStyles=O,this._endStyles=B,this._state=0;let K=L.initialStylesByElement.get(w);K||L.initialStylesByElement.set(w,K=new Map),this._initialStyles=K}start(){this._state<1&&(this._startStyles&&jn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(jn(this._element,this._initialStyles),this._endStyles&&(jn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(L.initialStylesByElement.delete(this._element),this._startStyles&&(Me(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Me(this._element,this._endStyles),this._endStyles=null),jn(this._element,this._initialStyles),this._state=3)}}return L.initialStylesByElement=new WeakMap,L})();function Is(L){let g=null;return L.forEach((w,O)=>{(function ta(L){return"display"===L||"position"===L})(O)&&(g=g||new Map,g.set(O,w))}),g}class hs{constructor(g,w,O,B){this.element=g,this.keyframes=w,this.options=O,this._specialStyles=B,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=O.duration,this._delay=O.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const g=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,g,this.options),this._finalKeyframe=g.length?g[g.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(g){const w=[];return g.forEach(O=>{w.push(Object.fromEntries(O))}),w}_triggerWebAnimation(g,w,O){return g.animate(this._convertKeyframesToObject(w),O)}onStart(g){this._originalOnStartFns.push(g),this._onStartFns.push(g)}onDone(g){this._originalOnDoneFns.push(g),this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(g=>g()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}setPosition(g){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=g*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const g=new Map;this.hasStarted()&&this._finalKeyframe.forEach((O,B)=>{"offset"!==B&&g.set(B,this._finished?O:_r(this.element,B))}),this.currentSnapshot=g}triggerCallback(g){const w="start"===g?this._onStartFns:this._onDoneFns;w.forEach(O=>O()),w.length=0}}class ht{validateStyleProperty(g){return!0}validateAnimatableStyleProperty(g){return!0}matchesElement(g,w){return!1}containsElement(g,w){return ir(g,w)}getParentElement(g){return dr(g)}query(g,w,O){return Wn(g,w,O)}computeStyle(g,w,O){return window.getComputedStyle(g)[w]}animate(g,w,O,B,K,fe=[]){const te={duration:O,delay:B,fill:0==B?"both":"forwards"};K&&(te.easing=K);const ge=new Map,bt=fe.filter(_n=>_n instanceof hs);(function gn(L,g){return 0===L||0===g})(O,B)&&bt.forEach(_n=>{_n.currentSnapshot.forEach((Tn,bn)=>ge.set(bn,Tn))});let Qt=function je(L){return L.length?L[0]instanceof Map?L:L.map(g=>Je(g)):[]}(w).map(_n=>en(_n));Qt=function br(L,g,w){if(w.size&&g.length){let O=g[0],B=[];if(w.forEach((K,fe)=>{O.has(fe)||B.push(fe),O.set(fe,K)}),B.length)for(let K=1;K<g.length;K++){let fe=g[K];B.forEach(ee=>fe.set(ee,_r(L,ee)))}}return g}(g,Qt,ge);const ur=function Ys(L,g){let w=null,O=null;return Array.isArray(g)&&g.length?(w=Is(g[0]),g.length>1&&(O=Is(g[g.length-1]))):g instanceof Map&&(w=Is(g)),w||O?new ea(L,w,O):null}(g,Qt);return new hs(g,Qt,te,ur)}}var mn=Q(6895);let uo=(()=>{class L extends We._j{constructor(w,O){super(),this._nextAnimationId=0,this._renderer=w.createRenderer(O.body,{id:"0",encapsulation:G.ifc.None,styles:[],data:{animation:[]}})}build(w){const O=this._nextAnimationId.toString();this._nextAnimationId++;const B=Array.isArray(w)?(0,We.vP)(w):w;return k(this._renderer,null,O,"register",[B]),new lo(O,this._renderer)}}return L.\u0275fac=function(w){return new(w||L)(G.LFG(G.FYo),G.LFG(mn.K0))},L.\u0275prov=G.Yz7({token:L,factory:L.\u0275fac}),L})();class lo extends We.LC{constructor(g,w){super(),this._id=g,this._renderer=w}create(g,w){return new F(this._id,g,w||{},this._renderer)}}class F{constructor(g,w,O,B){this.id=g,this.element=w,this._renderer=B,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",O)}_listen(g,w){return this._renderer.listen(this.element,`@@${this.id}:${g}`,w)}_command(g,...w){return k(this._renderer,this.element,this.id,g,w)}onDone(g){this._listen("done",g)}onStart(g){this._listen("start",g)}onDestroy(g){this._listen("destroy",g)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(g){this._command("setPosition",g)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function k(L,g,w,O,B){return L.setProperty(g,`@@${w}:${O}`,B)}const M="@",Z="@.disabled";let Ge=(()=>{class L{constructor(w,O,B){this.delegate=w,this.engine=O,this._zone=B,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),O.onRemovalComplete=(K,fe)=>{const ee=fe?.parentNode(K);ee&&fe.removeChild(ee,K)}}createRenderer(w,O){const K=this.delegate.createRenderer(w,O);if(!(w&&O&&O.data&&O.data.animation)){let bt=this._rendererCache.get(K);return bt||(bt=new jt("",K,this.engine),this._rendererCache.set(K,bt)),bt}const fe=O.id,ee=O.id+"-"+this._currentId;this._currentId++,this.engine.register(ee,w);const te=bt=>{Array.isArray(bt)?bt.forEach(te):this.engine.registerTrigger(fe,ee,w,bt.name,bt)};return O.data.animation.forEach(te),new jr(this,ee,K,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(w,O,B){w>=0&&w<this._microtaskId?this._zone.run(()=>O(B)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(K=>{const[fe,ee]=K;fe(ee)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([O,B]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return L.\u0275fac=function(w){return new(w||L)(G.LFG(G.FYo),G.LFG(ao),G.LFG(G.R0b))},L.\u0275prov=G.Yz7({token:L,factory:L.\u0275fac}),L})();class jt{constructor(g,w,O){this.namespaceId=g,this.delegate=w,this.engine=O,this.destroyNode=this.delegate.destroyNode?B=>w.destroyNode(B):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(g,w){return this.delegate.createElement(g,w)}createComment(g){return this.delegate.createComment(g)}createText(g){return this.delegate.createText(g)}appendChild(g,w){this.delegate.appendChild(g,w),this.engine.onInsert(this.namespaceId,w,g,!1)}insertBefore(g,w,O,B=!0){this.delegate.insertBefore(g,w,O),this.engine.onInsert(this.namespaceId,w,g,B)}removeChild(g,w,O){this.engine.onRemove(this.namespaceId,w,this.delegate,O)}selectRootElement(g,w){return this.delegate.selectRootElement(g,w)}parentNode(g){return this.delegate.parentNode(g)}nextSibling(g){return this.delegate.nextSibling(g)}setAttribute(g,w,O,B){this.delegate.setAttribute(g,w,O,B)}removeAttribute(g,w,O){this.delegate.removeAttribute(g,w,O)}addClass(g,w){this.delegate.addClass(g,w)}removeClass(g,w){this.delegate.removeClass(g,w)}setStyle(g,w,O,B){this.delegate.setStyle(g,w,O,B)}removeStyle(g,w,O){this.delegate.removeStyle(g,w,O)}setProperty(g,w,O){w.charAt(0)==M&&w==Z?this.disableAnimations(g,!!O):this.delegate.setProperty(g,w,O)}setValue(g,w){this.delegate.setValue(g,w)}listen(g,w,O){return this.delegate.listen(g,w,O)}disableAnimations(g,w){this.engine.disableAnimations(g,w)}}class jr extends jt{constructor(g,w,O,B){super(w,O,B),this.factory=g,this.namespaceId=w}setProperty(g,w,O){w.charAt(0)==M?"."==w.charAt(1)&&w==Z?this.disableAnimations(g,O=void 0===O||!!O):this.engine.process(this.namespaceId,g,w.slice(1),O):this.delegate.setProperty(g,w,O)}listen(g,w,O){if(w.charAt(0)==M){const B=function Qi(L){switch(L){case"body":return document.body;case"document":return document;case"window":return window;default:return L}}(g);let K=w.slice(1),fe="";return K.charAt(0)!=M&&([K,fe]=function Ls(L){const g=L.indexOf(".");return[L.substring(0,g),L.slice(g+1)]}(K)),this.engine.listen(this.namespaceId,B,K,fe,ee=>{this.factory.scheduleListenerCallback(ee._data||-1,O,ee)})}return this.delegate.listen(g,w,O)}}const Qs=[{provide:We._j,useClass:uo},{provide:Wo,useFactory:function gi(){return new _s}},{provide:ao,useClass:(()=>{class L extends ao{constructor(w,O,B,K){super(w.body,O,B)}ngOnDestroy(){this.flush()}}return L.\u0275fac=function(w){return new(w||L)(G.LFG(mn.K0),G.LFG(fi),G.LFG(Wo),G.LFG(G.z2F))},L.\u0275prov=G.Yz7({token:L,factory:L.\u0275fac}),L})()},{provide:G.FYo,useFactory:function wi(L,g,w){return new Ge(L,g,w)},deps:[y.se,ao,G.R0b]}],Si=[{provide:fi,useFactory:()=>new ht},{provide:G.QbO,useValue:"BrowserAnimations"},...Qs],Vs=[{provide:fi,useClass:Vn},{provide:G.QbO,useValue:"NoopAnimations"},...Qs];let co=(()=>{class L{static withConfig(w){return{ngModule:L,providers:w.disableAnimations?Vs:Si}}}return L.\u0275fac=function(w){return new(w||L)},L.\u0275mod=G.oAB({type:L}),L.\u0275inj=G.cJS({providers:Si,imports:[y.b2]}),L})();var Us=Q(1766),ma=Q(9635),S=Q(4004),$=Q(5698);Q(5867);const q=(0,S.U)(L=>!!L);let de=(()=>{class L{constructor(w,O){this.router=w,this.auth=O,this.canActivate=(B,K)=>{const fe=B.data.authGuardPipe||(()=>q);return(0,me.EA)(this.auth).pipe((0,$.q)(1),fe(B,K),(0,S.U)(ee=>"boolean"==typeof ee?ee:Array.isArray(ee)?this.router.createUrlTree(ee):this.router.parseUrl(ee)))}}}return L.\u0275fac=function(w){return new(w||L)(G.LFG(Us.F0),G.LFG(me.gx))},L.\u0275prov=G.Yz7({token:L,factory:L.\u0275fac,providedIn:"any"}),L})();const Ye=L=>({canActivate:[de],data:{authGuardPipe:L}}),fs=[{path:"",loadComponent:()=>Promise.all([Q.e(528),Q.e(114)]).then(Q.bind(Q,114)).then(L=>L.DashboardComponent),...Ye(()=>{return L=["login"],(0,ma.z)(q,(0,S.U)(g=>g||L));var L})},{path:"login",loadComponent:()=>Promise.all([Q.e(528),Q.e(458)]).then(Q.bind(Q,8458)).then(L=>L.LoginComponent),...Ye(()=>{return L=[""],(0,ma.z)(q,(0,S.U)(g=>g&&L||!0));var L})}];let Mr=(()=>{class L{}return L.\u0275fac=function(w){return new(w||L)},L.\u0275mod=G.oAB({type:L}),L.\u0275inj=G.cJS({imports:[Us.Bz.forRoot(fs),Us.Bz]}),L})();var xi=Q(270);let Xi=(()=>{class L{constructor(w){this.firestore=w,this.email="turangr@gmail.com",this.password="D3rb1sh1r3"}login(){const w=(0,xi.v0)();(0,xi.e5)(w,this.email,this.password).then(O=>{const K=(0,Re.hJ)(this.firestore,"heartRate");(0,Re.BS)(K).subscribe(fe=>console.log(fe.map(ee=>ee.date.toDate())))}).catch(O=>{})}}return L.\u0275fac=function(w){return new(w||L)(G.Y36(Re.gg))},L.\u0275cmp=G.Xpm({type:L,selectors:[["app-root"]],decls:1,vars:0,template:function(w,O){1&w&&G._UZ(0,"router-outlet")},dependencies:[Us.lC]}),L})(),Ds=(()=>{class L{}return L.\u0275fac=function(w){return new(w||L)},L.\u0275mod=G.oAB({type:L,bootstrap:[Xi]}),L.\u0275inj=G.cJS({imports:[y.b2,co,nt.u5,Mr,(0,De.hX)(()=>(0,De.ZF)({apiKey:"AIzaSyDsF2WktxElNwaCXjg26IXuKCUnA83WK68",authDomain:"ta-metrics.firebaseapp.com",databaseURL:"https://ta-metrics-default-rtdb.europe-west1.firebasedatabase.app",projectId:"ta-metrics",storageBucket:"ta-metrics.appspot.com",messagingSenderId:"534795041184",appId:"1:534795041184:web:80dbef0d0113c0fe7a4cc5"})),(0,Re.Cm)(()=>(0,Re.ad)()),(0,me.AR)(()=>(0,me.v0)())]}),L})();(0,G.G48)(),y.q6().bootstrapModule(Ds).catch(L=>console.error(L))},5867:(yn,ct,Q)=>{Q.d(ct,{C6:()=>y.C6,KN:()=>y.KN,Mq:()=>y.Mq,ZF:()=>y.ZF});var y=Q(9681);(0,y.KN)("firebase","9.12.1","app")},270:(yn,ct,Q)=>{Q.d(ct,{Xb:()=>F,v0:()=>Mh,MX:()=>Zn,e5:()=>M,w7:()=>Mr});var y=Q(5861),G=Q(2090),De=Q(9681),me=Q(1877),Re=Q(655),nt=Q(4859);const Et=function lt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Nt=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ut=new me.Yd("@firebase/auth");function Ot(D,...h){Ut.logLevel<=me.in.ERROR&&Ut.error(`Auth (${De.Jn}): ${D}`,...h)}function _t(D,...h){throw Dt(D,...h)}function Be(D,...h){return Dt(D,...h)}function Te(D,h,p){const C=Object.assign(Object.assign({},Et()),{[h]:p});return new G.LL("auth","Firebase",C).create(h,{appName:D.name})}function Dt(D,...h){if("string"!=typeof D){const p=h[0],C=[...h.slice(1)];return C[0]&&(C[0].appName=D.name),D._errorFactory.create(p,...C)}return Nt.create(D,...h)}function Ee(D,h,...p){if(!D)throw Dt(h,...p)}function Se(D){const h="INTERNAL ASSERTION FAILED: "+D;throw Ot(h),new Error(h)}function rt(D,h){D||Se(h)}const ye=new Map;function be(D){rt(D instanceof Function,"Expected a class definition");let h=ye.get(D);return h?(rt(h instanceof D,"Instance stored in cache mismatched with class"),h):(h=new D,ye.set(D,h),h)}function it(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function Mt(){var D;return typeof self<"u"&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class Wt{constructor(h,p){this.shortDelay=h,this.longDelay=p,rt(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function an(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Xe(){return"http:"===Mt()||"https:"===Mt()}()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hn(D,h){rt(D.emulator,"Emulator should always be set here");const{url:p}=D.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class $n{static initialize(h,p,C){this.fetchImpl=h,p&&(this.headersImpl=p),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Se("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Se("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Se("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Rn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Wr=new Wt(3e4,6e4);function Dn(D,h){return D.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:D.tenantId}):h}function pn(D,h,p,C){return An.apply(this,arguments)}function An(){return(An=(0,y.Z)(function*(D,h,p,C,W={}){return fn(D,W,(0,y.Z)(function*(){let X={},Fe={};C&&("GET"===h?Fe=C:X={body:JSON.stringify(C)});const ft=(0,G.xO)(Object.assign({key:D.config.apiKey},Fe)).slice(1),Jt=yield D._getAdditionalHeaders();return Jt["Content-Type"]="application/json",D.languageCode&&(Jt["X-Firebase-Locale"]=D.languageCode),$n.fetch()(fr(D,D.config.apiHost,p,ft),Object.assign({method:h,headers:Jt,referrerPolicy:"no-referrer"},X))}))})).apply(this,arguments)}function fn(D,h,p){return qr.apply(this,arguments)}function qr(){return(qr=(0,y.Z)(function*(D,h,p){D._canInitEmulator=!1;const C=Object.assign(Object.assign({},Rn),h);try{const W=new ei(D),X=yield Promise.race([p(),W.promise]);W.clearNetworkTimeout();const Fe=yield X.json();if("needConfirmation"in Fe)throw vr(D,"account-exists-with-different-credential",Fe);if(X.ok&&!("errorMessage"in Fe))return Fe;{const ft=X.ok?Fe.errorMessage:Fe.error.message,[Jt,qt]=ft.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Jt)throw vr(D,"credential-already-in-use",Fe);if("EMAIL_EXISTS"===Jt)throw vr(D,"email-already-in-use",Fe);if("USER_DISABLED"===Jt)throw vr(D,"user-disabled",Fe);const Kt=C[Jt]||Jt.toLowerCase().replace(/[_\s]+/g,"-");if(qt)throw Te(D,Kt,qt);_t(D,Kt)}}catch(W){if(W instanceof G.ZR)throw W;_t(D,"network-request-failed")}})).apply(this,arguments)}function nr(D,h,p,C){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,y.Z)(function*(D,h,p,C,W={}){const X=yield pn(D,h,p,C,W);return"mfaPendingCredential"in X&&_t(D,"multi-factor-auth-required",{_serverResponse:X}),X})).apply(this,arguments)}function fr(D,h,p,C){const W=`${h}${p}?${C}`;return D.config.emulator?hn(D.config,W):`${D.config.apiScheme}://${W}`}class ei{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,C)=>{this.timer=setTimeout(()=>C(Be(this.auth,"network-request-failed")),Wr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vr(D,h,p){const C={appName:D.name};p.email&&(C.email=p.email),p.phoneNumber&&(C.phoneNumber=p.phoneNumber);const W=Be(D,h,C);return W.customData._tokenResponse=p,W}function rr(){return(rr=(0,y.Z)(function*(D,h){return pn(D,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Ir(D,h){return Er.apply(this,arguments)}function Er(){return(Er=(0,y.Z)(function*(D,h){return pn(D,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function dr(D){if(D)try{const h=new Date(Number(D));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Dr(){return(Dr=(0,y.Z)(function*(D,h=!1){const p=(0,G.m9)(D),C=yield p.getIdToken(h),W=Vt(C);Ee(W&&W.exp&&W.auth_time&&W.iat,p.auth,"internal-error");const X="object"==typeof W.firebase?W.firebase:void 0,Fe=X?.sign_in_provider;return{claims:W,token:C,authTime:dr(Tt(W.auth_time)),issuedAtTime:dr(Tt(W.iat)),expirationTime:dr(Tt(W.exp)),signInProvider:Fe||null,signInSecondFactor:X?.sign_in_second_factor||null}})).apply(this,arguments)}function Tt(D){return 1e3*Number(D)}function Vt(D){var h;const[p,C,W]=D.split(".");if(void 0===p||void 0===C||void 0===W)return Ot("JWT malformed, contained fewer than 3 sections"),null;try{const X=(0,G.tV)(C);return X?JSON.parse(X):(Ot("Failed to decode base64 JWT payload"),null)}catch(X){return Ot("Caught error parsing JWT payload as JSON",null===(h=X)||void 0===h?void 0:h.toString()),null}}function un(D,h){return ir.apply(this,arguments)}function ir(){return(ir=(0,y.Z)(function*(D,h,p=!1){if(p)return h;try{return yield h}catch(C){throw C instanceof G.ZR&&Wn(C)&&D.auth.currentUser===D&&(yield D.auth.signOut()),C}})).apply(this,arguments)}function Wn({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class Yr{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const W=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,W)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const C=this.getInterval(h);this.timerId=setTimeout((0,y.Z)(function*(){yield p.iteration()}),C)}iteration(){var h=this;return(0,y.Z)(function*(){var p;try{yield h.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(p=C)||void 0===p?void 0:p.code)&&h.schedule(!0))}h.schedule()})()}}class Vn{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=dr(this.lastLoginAt),this.creationTime=dr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fi(D){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,y.Z)(function*(D){var h;const p=D.auth,C=yield D.getIdToken(),W=yield un(D,Ir(p,{idToken:C}));Ee(W?.users.length,p,"internal-error");const X=W.users[0];D._notifyReloadListener(X);const Fe=null!==(h=X.providerUserInfo)&&void 0!==h&&h.length?ui(X.providerUserInfo):[],ft=Ri(D.providerData,Fe),Kt=!!D.isAnonymous&&!(D.email&&X.passwordHash||ft?.length),zr={uid:X.localId,displayName:X.displayName||null,photoURL:X.photoUrl||null,email:X.email||null,emailVerified:X.emailVerified||!1,phoneNumber:X.phoneNumber||null,tenantId:X.tenantId||null,providerData:ft,metadata:new Vn(X.createdAt,X.lastLoginAt),isAnonymous:Kt};Object.assign(D,zr)})).apply(this,arguments)}function rn(){return(rn=(0,y.Z)(function*(D){const h=(0,G.m9)(D);yield fi(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Ri(D,h){return[...D.filter(C=>!h.some(W=>W.providerId===C.providerId)),...h]}function ui(D){return D.map(h=>{var{providerId:p}=h,C=(0,Re._T)(h,["providerId"]);return{providerId:p,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Pe(){return(Pe=(0,y.Z)(function*(D,h){const p=yield fn(D,{},(0,y.Z)(function*(){const C=(0,G.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:W,apiKey:X}=D.config,Fe=fr(D,W,"/v1/token",`key=${X}`),ft=yield D._getAdditionalHeaders();return ft["Content-Type"]="application/x-www-form-urlencoded",$n.fetch()(Fe,{method:"POST",headers:ft,body:C})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class It{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Ee(h.idToken,"internal-error"),Ee(typeof h.idToken<"u","internal-error"),Ee(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function nn(D){const h=Vt(D);return Ee(h,"internal-error"),Ee(typeof h.exp<"u","internal-error"),Ee(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var C=this;return(0,y.Z)(function*(){return Ee(!C.accessToken||C.refreshToken,h,"user-token-expired"),p||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(h,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var C=this;return(0,y.Z)(function*(){const{accessToken:W,refreshToken:X,expiresIn:Fe}=yield function gt(D,h){return Pe.apply(this,arguments)}(h,p);C.updateTokensAndExpiration(W,X,Number(Fe))})()}updateTokensAndExpiration(h,p,C){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(h,p){const{refreshToken:C,accessToken:W,expirationTime:X}=p,Fe=new It;return C&&(Ee("string"==typeof C,"internal-error",{appName:h}),Fe.refreshToken=C),W&&(Ee("string"==typeof W,"internal-error",{appName:h}),Fe.accessToken=W),X&&(Ee("number"==typeof X,"internal-error",{appName:h}),Fe.expirationTime=X),Fe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new It,this.toJSON())}_performRefresh(){return Se("not implemented")}}function st(D,h){Ee("string"==typeof D||typeof D>"u","internal-error",{appName:h})}class Ct{constructor(h){var{uid:p,auth:C,stsTokenManager:W}=h,X=(0,Re._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=C,this.stsTokenManager=W,this.accessToken=W.accessToken,this.displayName=X.displayName||null,this.email=X.email||null,this.emailVerified=X.emailVerified||!1,this.phoneNumber=X.phoneNumber||null,this.photoURL=X.photoURL||null,this.isAnonymous=X.isAnonymous||!1,this.tenantId=X.tenantId||null,this.providerData=X.providerData?[...X.providerData]:[],this.metadata=new Vn(X.createdAt||void 0,X.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,y.Z)(function*(){const C=yield un(p,p.stsTokenManager.getToken(p.auth,h));return Ee(C,p.auth,"internal-error"),p.accessToken!==C&&(p.accessToken=C,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),C})()}getIdTokenResult(h){return function pr(D){return Dr.apply(this,arguments)}(this,h)}reload(){return function ti(D){return rn.apply(this,arguments)}(this)}_assign(h){this!==h&&(Ee(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new Ct(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var C=this;return(0,y.Z)(function*(){let W=!1;h.idToken&&h.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(h),W=!0),p&&(yield fi(C)),yield C.auth._persistUserIfCurrent(C),W&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var h=this;return(0,y.Z)(function*(){const p=yield h.getIdToken();return yield un(h,function Sr(D,h){return rr.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var C,W,X,Fe,ft,Jt,qt,Kt;const zr=null!==(C=p.displayName)&&void 0!==C?C:void 0,Ao=null!==(W=p.email)&&void 0!==W?W:void 0,mo=null!==(X=p.phoneNumber)&&void 0!==X?X:void 0,qu=null!==(Fe=p.photoURL)&&void 0!==Fe?Fe:void 0,yo=null!==(ft=p.tenantId)&&void 0!==ft?ft:void 0,cc=null!==(Jt=p._redirectEventId)&&void 0!==Jt?Jt:void 0,Ku=null!==(qt=p.createdAt)&&void 0!==qt?qt:void 0,ud=null!==(Kt=p.lastLoginAt)&&void 0!==Kt?Kt:void 0,{uid:Uo,emailVerified:Zu,isAnonymous:Yu,providerData:ld,stsTokenManager:dc}=p;Ee(Uo&&dc,h,"internal-error");const lr=It.fromJSON(this.name,dc);Ee("string"==typeof Uo,h,"internal-error"),st(zr,h.name),st(Ao,h.name),Ee("boolean"==typeof Zu,h,"internal-error"),Ee("boolean"==typeof Yu,h,"internal-error"),st(mo,h.name),st(qu,h.name),st(yo,h.name),st(cc,h.name),st(Ku,h.name),st(ud,h.name);const hc=new Ct({uid:Uo,auth:h,email:Ao,emailVerified:Zu,displayName:zr,isAnonymous:Yu,photoURL:qu,phoneNumber:mo,tenantId:yo,stsTokenManager:lr,createdAt:Ku,lastLoginAt:ud});return ld&&Array.isArray(ld)&&(hc.providerData=ld.map(Cl=>Object.assign({},Cl))),cc&&(hc._redirectEventId=cc),hc}static _fromIdTokenResponse(h,p,C=!1){return(0,y.Z)(function*(){const W=new It;W.updateFromServerResponse(p);const X=new Ct({uid:p.localId,auth:h,stsTokenManager:W,isAnonymous:C});return yield fi(X),X})()}}const le=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.Z)(function*(){return!0})()}_set(p,C){var W=this;return(0,y.Z)(function*(){W.storage[p]=C})()}_get(p){var C=this;return(0,y.Z)(function*(){const W=C.storage[p];return void 0===W?null:W})()}_remove(p){var C=this;return(0,y.Z)(function*(){delete C.storage[p]})()}_addListener(p,C){}_removeListener(p,C){}}return D.type="NONE",D})();function ae(D,h,p){return`firebase:${D}:${h}:${p}`}class ve{constructor(h,p,C){this.persistence=h,this.auth=p,this.userKey=C;const{config:W,name:X}=this.auth;this.fullUserKey=ae(this.userKey,W.apiKey,X),this.fullPersistenceKey=ae("persistence",W.apiKey,X),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,y.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?Ct._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,y.Z)(function*(){if(p.persistence===h)return;const C=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,C?p.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,C="authUser"){return(0,y.Z)(function*(){if(!p.length)return new ve(be(le),h,C);const W=(yield Promise.all(p.map(function(){var qt=(0,y.Z)(function*(Kt){if(yield Kt._isAvailable())return Kt});return function(Kt){return qt.apply(this,arguments)}}()))).filter(qt=>qt);let X=W[0]||be(le);const Fe=ae(C,h.config.apiKey,h.name);let ft=null;for(const qt of p)try{const Kt=yield qt._get(Fe);if(Kt){const zr=Ct._fromJSON(h,Kt);qt!==X&&(ft=zr),X=qt;break}}catch{}const Jt=W.filter(qt=>qt._shouldAllowMigration);return X._shouldAllowMigration&&Jt.length?(X=Jt[0],ft&&(yield X._set(Fe,ft.toJSON())),yield Promise.all(p.map(function(){var qt=(0,y.Z)(function*(Kt){if(Kt!==X)try{yield Kt._remove(Fe)}catch{}});return function(Kt){return qt.apply(this,arguments)}}())),new ve(X,h,C)):new ve(X,h,C)})()}}function Je(D){const h=D.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(On(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(je(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(jn(h))return"Blackberry";if(Me(h))return"Webos";if(Rt(h))return"Safari";if((h.includes("chrome/")||en(h))&&!h.includes("edge/"))return"Chrome";if(Pr(h))return"Android";{const C=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function je(D=(0,G.z$)()){return/firefox\//i.test(D)}function Rt(D=(0,G.z$)()){const h=D.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function en(D=(0,G.z$)()){return/crios\//i.test(D)}function On(D=(0,G.z$)()){return/iemobile/i.test(D)}function Pr(D=(0,G.z$)()){return/android/i.test(D)}function jn(D=(0,G.z$)()){return/blackberry/i.test(D)}function Me(D=(0,G.z$)()){return/webos/i.test(D)}function ce(D=(0,G.z$)()){return/iphone|ipad|ipod/i.test(D)||/macintosh/i.test(D)&&/mobile/i.test(D)}function Qe(D=(0,G.z$)()){return ce(D)||Pr(D)||Me(D)||jn(D)||/windows phone/i.test(D)||On(D)}function $t(D,h=[]){let p;switch(D){case"Browser":p=Je((0,G.z$)());break;case"Worker":p=`${Je((0,G.z$)())}-${D}`;break;default:p=D}const C=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${De.Jn}/${C}`}class dt{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const C=X=>new Promise((Fe,ft)=>{try{Fe(h(X))}catch(Jt){ft(Jt)}});C.onAbort=p,this.queue.push(C);const W=this.queue.length-1;return()=>{this.queue[W]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,y.Z)(function*(){var C;if(p.auth.currentUser===h)return;const W=[];try{for(const X of p.queue)yield X(h),X.onAbort&&W.push(X.onAbort)}catch(X){W.reverse();for(const Fe of W)try{Fe()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=X)||void 0===C?void 0:C.message})}})()}}class Xt{constructor(h,p,C){this.app=h,this.heartbeatServiceProvider=p,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new br(this),this.idTokenSubscription=new br(this),this.beforeStateQueue=new dt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(h,p){var C=this;return p&&(this._popupRedirectResolver=be(p)),this._initializationPromise=this.queue((0,y.Z)(function*(){var W,X;if(!C._deleted&&(C.persistenceManager=yield ve.create(C,h),!C._deleted)){if(null!==(W=C._popupRedirectResolver)&&void 0!==W&&W._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(p),C.lastNotifiedUid=(null===(X=C.currentUser)||void 0===X?void 0:X.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,y.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,y.Z)(function*(){var C;const W=yield p.assertedPersistence.getCurrentUser();let X=W,Fe=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const ft=null===(C=p.redirectUser)||void 0===C?void 0:C._redirectEventId,Jt=X?._redirectEventId,qt=yield p.tryRedirectSignIn(h);(!ft||ft===Jt)&&qt?.user&&(X=qt.user,Fe=!0)}if(!X)return p.directlySetCurrentUser(null);if(!X._redirectEventId){if(Fe)try{yield p.beforeStateQueue.runMiddleware(X)}catch(ft){X=W,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(ft))}return X?p.reloadAndSetCurrentUserOrClear(X):p.directlySetCurrentUser(null)}return Ee(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===X._redirectEventId?p.directlySetCurrentUser(X):p.reloadAndSetCurrentUserOrClear(X)})()}tryRedirectSignIn(h){var p=this;return(0,y.Z)(function*(){let C=null;try{C=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,y.Z)(function*(){var C;try{yield fi(h)}catch(W){if("auth/network-request-failed"!==(null===(C=W)||void 0===C?void 0:C.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function tr(){if(typeof navigator>"u")return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var h=this;return(0,y.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,y.Z)(function*(){const C=h?(0,G.m9)(h):null;return C&&Ee(C.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(C&&C._clone(p))})()}_updateCurrentUser(h,p=!1){var C=this;return(0,y.Z)(function*(){if(!C._deleted)return h&&Ee(C.tenantId===h.tenantId,C,"tenant-id-mismatch"),p||(yield C.beforeStateQueue.runMiddleware(h)),C.queue((0,y.Z)(function*(){yield C.directlySetCurrentUser(h),C.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,y.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,y.Z)(function*(){yield p.assertedPersistence.setPersistence(be(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new G.LL("auth","Firebase",h())}onAuthStateChanged(h,p,C){return this.registerStateListener(this.authStateSubscription,h,p,C)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,C){return this.registerStateListener(this.idTokenSubscription,h,p,C)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var C=this;return(0,y.Z)(function*(){const W=yield C.getOrInitRedirectPersistenceManager(p);return null===h?W.removeCurrentUser():W.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,y.Z)(function*(){if(!p.redirectPersistenceManager){const C=h&&be(h)||p._popupRedirectResolver;Ee(C,p,"argument-error"),p.redirectPersistenceManager=yield ve.create(p,[be(C._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,y.Z)(function*(){var C,W;return p._isInitialized&&(yield p.queue((0,y.Z)(function*(){}))),(null===(C=p._currentUser)||void 0===C?void 0:C._redirectEventId)===h?p._currentUser:(null===(W=p.redirectUser)||void 0===W?void 0:W._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,y.Z)(function*(){if(h===p.currentUser)return p.queue((0,y.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,C,W){if(this._deleted)return()=>{};const X="function"==typeof p?p:p.next.bind(p),Fe=this._isInitialized?Promise.resolve():this._initializationPromise;return Ee(Fe,this,"internal-error"),Fe.then(()=>X(this.currentUser)),"function"==typeof p?h.addObserver(p,C,W):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,y.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=$t(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,y.Z)(function*(){var p;const C={"X-Client-Version":h.clientVersion};h.app.options.appId&&(C["X-Firebase-gmpid"]=h.app.options.appId);const W=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return W&&(C["X-Firebase-Client"]=W),C})()}}function gn(D){return(0,G.m9)(D)}class br{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,G.ne)(p=>this.observer=p)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function _r(D){const h=D.indexOf(":");return h<0?"":D.substr(0,h+1)}function sr(D){if(!D)return null;const h=Number(D);return isNaN(h)?null:h}class li{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return Se("not implemented")}_getIdTokenResponse(h){return Se("not implemented")}_linkToIdToken(h,p){return Se("not implemented")}_getReauthenticationResolver(h){return Se("not implemented")}}function Ci(){return(Ci=(0,y.Z)(function*(D,h){return pn(D,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ri(){return(ri=(0,y.Z)(function*(D,h){return nr(D,"POST","/v1/accounts:signInWithPassword",Dn(D,h))})).apply(this,arguments)}function kr(){return(kr=(0,y.Z)(function*(D,h){return nr(D,"POST","/v1/accounts:signInWithEmailLink",Dn(D,h))})).apply(this,arguments)}function $r(){return($r=(0,y.Z)(function*(D,h){return nr(D,"POST","/v1/accounts:signInWithEmailLink",Dn(D,h))})).apply(this,arguments)}class Kn extends li{constructor(h,p,C,W=null){super("password",C),this._email=h,this._password=p,this._tenantId=W}static _fromEmailAndPassword(h,p){return new Kn(h,p,"password")}static _fromEmailAndCode(h,p,C=null){return new Kn(h,p,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,y.Z)(function*(){switch(p.signInMethod){case"password":return function Bi(D,h){return ri.apply(this,arguments)}(h,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function Br(D,h){return kr.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:_t(h,"internal-error")}})()}_linkToIdToken(h,p){var C=this;return(0,y.Z)(function*(){switch(C.signInMethod){case"password":return function xs(D,h){return Ci.apply(this,arguments)}(h,{idToken:p,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function ms(D,h){return $r.apply(this,arguments)}(h,{idToken:p,email:C._email,oobCode:C._password});default:_t(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Ti(D,h){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,y.Z)(function*(D,h){return nr(D,"POST","/v1/accounts:signInWithIdp",Dn(D,h))})).apply(this,arguments)}class $i{constructor(h){var p,C,W,X,Fe,ft;const Jt=(0,G.zd)((0,G.pd)(h)),qt=null!==(p=Jt.apiKey)&&void 0!==p?p:null,Kt=null!==(C=Jt.oobCode)&&void 0!==C?C:null,zr=function Da(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(W=Jt.mode)&&void 0!==W?W:null);Ee(qt&&Kt&&zr,"argument-error"),this.apiKey=qt,this.operation=zr,this.code=Kt,this.continueUrl=null!==(X=Jt.continueUrl)&&void 0!==X?X:null,this.languageCode=null!==(Fe=Jt.languageCode)&&void 0!==Fe?Fe:null,this.tenantId=null!==(ft=Jt.tenantId)&&void 0!==ft?ft:null}static parseLink(h){const p=function Wo(D){const h=(0,G.zd)((0,G.pd)(D)).link,p=h?(0,G.zd)((0,G.pd)(h)).deep_link_id:null,C=(0,G.zd)((0,G.pd)(D)).deep_link_id;return(C?(0,G.zd)((0,G.pd)(C)).link:null)||C||p||h||D}(h);try{return new $i(p)}catch{return null}}}let _s=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(p,C){return Kn._fromEmailAndPassword(p,C)}static credentialWithLink(p,C){const W=$i.parseLink(C);return Ee(W,"argument-error"),Kn._fromEmailAndCode(p,W.code,W.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class ki{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Fi extends ki{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}function Do(D,h){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,y.Z)(function*(D,h){return nr(D,"POST","/v1/accounts:signUp",Dn(D,h))})).apply(this,arguments)}class Qr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,C,W=!1){return(0,y.Z)(function*(){const X=yield Ct._fromIdTokenResponse(h,C,W),Fe=ro(C);return new Qr({user:X,providerId:Fe,_tokenResponse:C,operationType:p})})()}static _forOperation(h,p,C){return(0,y.Z)(function*(){yield h._updateTokensIfNecessary(C,!0);const W=ro(C);return new Qr({user:h,providerId:W,_tokenResponse:C,operationType:p})})()}}function ro(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}class ws extends G.ZR{constructor(h,p,C,W){var X;super(p.code,p.message),this.operationType=C,this.user=W,Object.setPrototypeOf(this,ws.prototype),this.customData={appName:h.name,tenantId:null!==(X=h.tenantId)&&void 0!==X?X:void 0,_serverResponse:p.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(h,p,C,W){return new ws(h,p,C,W)}}function Ro(D,h,p,C){return("reauthenticate"===h?p._getReauthenticationResolver(D):p._getIdTokenResponse(D)).catch(X=>{throw"auth/multi-factor-auth-required"===X.code?ws._fromErrorAndOperation(D,X,h,C):X})}function Fr(D,h){return Os.apply(this,arguments)}function Os(){return(Os=(0,y.Z)(function*(D,h,p=!1){const C=yield un(D,h._linkToIdToken(D.auth,yield D.getIdToken()),p);return Qr._forOperation(D,"link",C)})).apply(this,arguments)}function Zs(){return(Zs=(0,y.Z)(function*(D,h,p=!1){var C;const{auth:W}=D,X="reauthenticate";try{const Fe=yield un(D,Ro(W,X,h,D),p);Ee(Fe.idToken,W,"internal-error");const ft=Vt(Fe.idToken);Ee(ft,W,"internal-error");const{sub:Jt}=ft;return Ee(D.uid===Jt,W,"user-mismatch"),Qr._forOperation(D,X,Fe)}catch(Fe){throw"auth/user-not-found"===(null===(C=Fe)||void 0===C?void 0:C.code)&&_t(W,"user-mismatch"),Fe}})).apply(this,arguments)}function cs(D,h){return pi.apply(this,arguments)}function pi(){return(pi=(0,y.Z)(function*(D,h,p=!1){const C="signIn",W=yield Ro(D,C,h),X=yield Qr._fromIdTokenResponse(D,C,W);return p||(yield D._updateCurrentUser(X.user)),X})).apply(this,arguments)}function Lr(){return(Lr=(0,y.Z)(function*(D,h){return cs(gn(D),h)})).apply(this,arguments)}function F(D,h,p){return k.apply(this,arguments)}function k(){return(k=(0,y.Z)(function*(D,h,p){const C=gn(D),W=yield Do(C,{returnSecureToken:!0,email:h,password:p}),X=yield Qr._fromIdTokenResponse(C,"signIn",W);return yield C._updateCurrentUser(X.user),X})).apply(this,arguments)}function M(D,h,p){return function io(D,h){return Lr.apply(this,arguments)}((0,G.m9)(D),_s.credential(h,p))}function Zn(D,h,p,C){return(0,G.m9)(D).onIdTokenChanged(h,p,C)}function Mr(D){return(0,G.m9)(D).signOut()}const ee="__sak";class te{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(ee,"1"),this.storage.removeItem(ee),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const _n=(()=>{class D extends te{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,C)=>this.onStorageEvent(p,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ge(){const D=(0,G.z$)();return Rt(D)||ce(D)}()&&function mt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Qe(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const C of Object.keys(this.listeners)){const W=this.storage.getItem(C),X=this.localCache[C];W!==X&&p(C,X,W)}}onStorageEvent(p,C=!1){if(!p.key)return void this.forAllChangedKeys((ft,Jt,qt)=>{this.notifyListeners(ft,qt)});const W=p.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ft=this.storage.getItem(W);if(p.newValue!==ft)null!==p.newValue?this.storage.setItem(W,p.newValue):this.storage.removeItem(W);else if(this.localCache[W]===p.newValue&&!C)return}const X=()=>{const ft=this.storage.getItem(W);!C&&this.localCache[W]===ft||this.notifyListeners(W,ft)},Fe=this.storage.getItem(W);!function Ie(){return(0,G.w1)()&&10===document.documentMode}()||Fe===p.newValue||p.newValue===p.oldValue?X():setTimeout(X,10)}notifyListeners(p,C){this.localCache[p]=C;const W=this.listeners[p];if(W)for(const X of Array.from(W))X(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,C,W)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:C,newValue:W}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,C){var W=()=>super._set,X=this;return(0,y.Z)(function*(){yield W().call(X,p,C),X.localCache[p]=JSON.stringify(C)})()}_get(p){var C=()=>super._get,W=this;return(0,y.Z)(function*(){const X=yield C().call(W,p);return W.localCache[p]=JSON.stringify(X),X})()}_remove(p){var C=()=>super._remove,W=this;return(0,y.Z)(function*(){yield C().call(W,p),delete W.localCache[p]})()}}return D.type="LOCAL",D})(),bn=(()=>{class D extends te{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,C){}_removeListener(p,C){}}return D.type="SESSION",D})();let xr=(()=>{class D{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const C=this.receivers.find(X=>X.isListeningto(p));if(C)return C;const W=new D(p);return this.receivers.push(W),W}isListeningto(p){return this.eventTarget===p}handleEvent(p){var C=this;return(0,y.Z)(function*(){const W=p,{eventId:X,eventType:Fe,data:ft}=W.data,Jt=C.handlersMap[Fe];if(!Jt?.size)return;W.ports[0].postMessage({status:"ack",eventId:X,eventType:Fe});const qt=Array.from(Jt).map(function(){var zr=(0,y.Z)(function*(Ao){return Ao(W.origin,ft)});return function(Ao){return zr.apply(this,arguments)}}()),Kt=yield function Tr(D){return Promise.all(D.map(function(){var h=(0,y.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(C){return{fulfilled:!1,reason:C}}});return function(p){return h.apply(this,arguments)}}()))}(qt);W.ports[0].postMessage({status:"done",eventId:X,eventType:Fe,response:Kt})})()}_subscribe(p,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(C)}_unsubscribe(p,C){this.handlersMap[p]&&C&&this.handlersMap[p].delete(C),(!C||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function ci(D="",h=10){let p="";for(let C=0;C<h;C++)p+=Math.floor(10*Math.random());return D+p}class as{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,C=50){var W=this;return(0,y.Z)(function*(){const X=typeof MessageChannel<"u"?new MessageChannel:null;if(!X)throw new Error("connection_unavailable");let Fe,ft;return new Promise((Jt,qt)=>{const Kt=ci("",20);X.port1.start();const zr=setTimeout(()=>{qt(new Error("unsupported_event"))},C);ft={messageChannel:X,onMessage(Ao){const mo=Ao;if(mo.data.eventId===Kt)switch(mo.data.status){case"ack":clearTimeout(zr),Fe=setTimeout(()=>{qt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Fe),Jt(mo.data.response);break;default:clearTimeout(zr),clearTimeout(Fe),qt(new Error("invalid_response"))}}},W.handlers.add(ft),X.port1.addEventListener("message",ft.onMessage),W.target.postMessage({eventType:h,eventId:Kt,data:p},[X.port2])}).finally(()=>{ft&&W.removeMessageHandler(ft)})})()}}function Xn(){return window}function ln(){return typeof Xn().WorkerGlobalScope<"u"&&"function"==typeof Xn().importScripts}function Gi(){return(Gi=(0,y.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const bo="firebaseLocalStorageDb",fo="firebaseLocalStorage",yr="fbase_key";class xt{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Ht(D,h){return D.transaction([fo],h?"readwrite":"readonly").objectStore(fo)}function tn(){const D=indexedDB.open(bo,1);return new Promise((h,p)=>{D.addEventListener("error",()=>{p(D.error)}),D.addEventListener("upgradeneeded",()=>{const C=D.result;try{C.createObjectStore(fo,{keyPath:yr})}catch(W){p(W)}}),D.addEventListener("success",(0,y.Z)(function*(){const C=D.result;C.objectStoreNames.contains(fo)?h(C):(C.close(),yield function sn(){const D=indexedDB.deleteDatabase(bo);return new xt(D).toPromise()}(),h(yield tn()))}))})}function Yn(D,h,p){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,y.Z)(function*(D,h,p){const C=Ht(D,!0).put({[yr]:h,value:p});return new xt(C).toPromise()})).apply(this,arguments)}function mi(){return(mi=(0,y.Z)(function*(D,h){const p=Ht(D,!1).get(h),C=yield new xt(p).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Ji(D,h){const p=Ht(D,!0).delete(h);return new xt(p).toPromise()}const yi=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,y.Z)(function*(){return p.db||(p.db=yield tn()),p.db})()}_withRetries(p){var C=this;return(0,y.Z)(function*(){let W=0;for(;;)try{const X=yield C._openDb();return yield p(X)}catch(X){if(W++>3)throw X;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,y.Z)(function*(){return ln()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,y.Z)(function*(){p.receiver=xr._getInstance(function cn(){return ln()?self:null}()),p.receiver._subscribe("keyChanged",function(){var C=(0,y.Z)(function*(W,X){return{keyProcessed:(yield p._poll()).includes(X.key)}});return function(W,X){return C.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var C=(0,y.Z)(function*(W,X){return["keyChanged"]});return function(W,X){return C.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,y.Z)(function*(){var C,W;if(p.activeServiceWorker=yield function Kr(){return Gi.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new as(p.activeServiceWorker);const X=yield p.sender._send("ping",{},800);!X||(null===(C=X[0])||void 0===C?void 0:C.fulfilled)&&(null===(W=X[0])||void 0===W?void 0:W.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var C=this;return(0,y.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function er(){var D;return(null===(D=navigator?.serviceWorker)||void 0===D?void 0:D.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:p},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,y.Z)(function*(){try{if(!indexedDB)return!1;const p=yield tn();return yield Yn(p,ee,"1"),yield Ji(p,ee),!0}catch{}return!1})()}_withPendingWrite(p){var C=this;return(0,y.Z)(function*(){C.pendingWrites++;try{yield p()}finally{C.pendingWrites--}})()}_set(p,C){var W=this;return(0,y.Z)(function*(){return W._withPendingWrite((0,y.Z)(function*(){return yield W._withRetries(X=>Yn(X,p,C)),W.localCache[p]=C,W.notifyServiceWorker(p)}))})()}_get(p){var C=this;return(0,y.Z)(function*(){const W=yield C._withRetries(X=>function po(D,h){return mi.apply(this,arguments)}(X,p));return C.localCache[p]=W,W})()}_remove(p){var C=this;return(0,y.Z)(function*(){return C._withPendingWrite((0,y.Z)(function*(){return yield C._withRetries(W=>Ji(W,p)),delete C.localCache[p],C.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,y.Z)(function*(){const C=yield p._withRetries(Fe=>{const ft=Ht(Fe,!1).getAll();return new xt(ft).toPromise()});if(!C)return[];if(0!==p.pendingWrites)return[];const W=[],X=new Set;for(const{fbase_key:Fe,value:ft}of C)X.add(Fe),JSON.stringify(p.localCache[Fe])!==JSON.stringify(ft)&&(p.notifyListeners(Fe,ft),W.push(Fe));for(const Fe of Object.keys(p.localCache))p.localCache[Fe]&&!X.has(Fe)&&(p.notifyListeners(Fe,null),W.push(Fe));return W})()}notifyListeners(p,C){this.localCache[p]=C;const W=this.listeners[p];if(W)for(const X of Array.from(W))X(C)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,y.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(C)}_removeListener(p,C){this.listeners[p]&&(this.listeners[p].delete(C),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function ia(D){return`__${D}${Math.floor(1e6*Math.random())}`}function Ii(D,h){return h?be(h):(Ee(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}ia("rcb"),new Wt(3e4,6e4);class ts extends li{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Ti(h,this._buildIdpRequest())}_linkToIdToken(h,p){return Ti(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return Ti(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Sa(D){return cs(D.auth,new ts(D),D.bypassAuthState)}function la(D){const{auth:h,user:p}=D;return Ee(p,h,"internal-error"),function ks(D,h){return Zs.apply(this,arguments)}(p,new ts(D),D.bypassAuthState)}function Va(D){return To.apply(this,arguments)}function To(){return(To=(0,y.Z)(function*(D){const{auth:h,user:p}=D;return Ee(p,h,"internal-error"),Fr(p,new ts(D),D.bypassAuthState)})).apply(this,arguments)}new Wt(2e3,1e4);const ue=new Map;class Ze extends class Za{constructor(h,p,C,W,X=!1){this.auth=h,this.resolver=C,this.user=W,this.bypassAuthState=X,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,y.Z)(function*(C,W){h.pendingPromise={resolve:C,reject:W};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(X){h.reject(X)}});return function(C,W){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,y.Z)(function*(){const{urlResponse:C,sessionId:W,postBody:X,tenantId:Fe,error:ft,type:Jt}=h;if(ft)return void p.reject(ft);const qt={auth:p.auth,requestUri:C,sessionId:W,tenantId:Fe||void 0,postBody:X||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Jt)(qt))}catch(Kt){p.reject(Kt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Sa;case"linkViaPopup":case"linkViaRedirect":return Va;case"reauthViaPopup":case"reauthViaRedirect":return la;default:_t(this.auth,"internal-error")}}resolve(h){rt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){rt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(h,p,C=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,C),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,y.Z)(function*(){let C=ue.get(p.auth._key());if(!C){try{const X=(yield function At(D,h){return In.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;C=()=>Promise.resolve(X)}catch(W){C=()=>Promise.reject(W)}ue.set(p.auth._key(),C)}return p.bypassAuthState||ue.set(p.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,C=this;return(0,y.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(C,h);if("unknown"!==h.type){if(h.eventId){const W=yield C.auth._redirectUserForId(h.eventId);if(W)return C.user=W,p().call(C,h);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,y.Z)(function*(){})()}cleanUp(){}}function In(){return(In=(0,y.Z)(function*(D,h){const p=ns(h),C=Js(D);if(!(yield C._isAvailable()))return!1;const W="true"===(yield C._get(p));return yield C._remove(p),W})).apply(this,arguments)}function go(D,h){ue.set(D._key(),h)}function Js(D){return be(D._redirectPersistence)}function ns(D){return ae("pendingRedirect",D.config.apiKey,D.name)}function x(D,h){return R.apply(this,arguments)}function R(){return(R=(0,y.Z)(function*(D,h,p=!1){const C=gn(D),W=Ii(C,h),Fe=yield new Ze(C,W,p).execute();return Fe&&!p&&(delete Fe.user._redirectEventId,yield C._persistUserIfCurrent(Fe.user),yield C._setRedirectUser(null,h)),Fe})).apply(this,arguments)}class Ke{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(h,C)&&(p=!0,this.sendToConsumer(h,C),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function xn(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pt(D);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var C;if(h.error&&!Pt(h)){const W=(null===(C=h.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";p.onError(Be(this.auth,W))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const C=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&C}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vt(h))}saveEventToCache(h){this.cachedEventUids.add(vt(h)),this.lastProcessedEventTime=Date.now()}}function vt(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(h=>h).join("-")}function Pt({type:D,error:h}){return"unknown"===D&&"auth/no-auth-event"===h?.code}function Un(D){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,y.Z)(function*(D,h={}){return pn(D,"GET","/v1/projects",h)})).apply(this,arguments)}const vn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rs=/^https?/;function Ma(){return(Ma=(0,y.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:h}=yield Un(D);for(const p of h)try{if(So(p))return}catch{}_t(D,"unauthorized-domain")})).apply(this,arguments)}function So(D){const h=it(),{protocol:p,hostname:C}=new URL(h);if(D.startsWith("chrome-extension://")){const Fe=new URL(D);return""===Fe.hostname&&""===C?"chrome-extension:"===p&&D.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&Fe.hostname===C}if(!rs.test(p))return!1;if(vn.test(D))return C===D;const W=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+W+"|"+W+")$","i").test(C)}const Ua=new Wt(3e4,6e4);function Lo(){const D=Xn().___jsl;if(D?.H)for(const h of Object.keys(D.H))if(D.H[h].r=D.H[h].r||[],D.H[h].L=D.H[h].L||[],D.H[h].r=[...D.H[h].L],D.CP)for(let p=0;p<D.CP.length;p++)D.CP[p]=null}let da=null;function Na(D){return da=da||function xa(D){return new Promise((h,p)=>{var C,W,X;function Fe(){Lo(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Lo(),p(Be(D,"network-request-failed"))},timeout:Ua.get()})}if(null!==(W=null===(C=Xn().gapi)||void 0===C?void 0:C.iframes)&&void 0!==W&&W.Iframe)h(gapi.iframes.getContext());else{if(null===(X=Xn().gapi)||void 0===X||!X.load){const ft=ia("iframefcb");return Xn()[ft]=()=>{gapi.load?Fe():p(Be(D,"network-request-failed"))},function bs(D){return new Promise((h,p)=>{const C=document.createElement("script");C.setAttribute("src",D),C.onload=h,C.onerror=W=>{const X=Be("internal-error");X.customData=W,p(X)},C.type="text/javascript",C.charset="UTF-8",function Co(){var D,h;return null!==(h=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==h?h:document}().appendChild(C)})}(`https://apis.google.com/js/api.js?onload=${ft}`).catch(Jt=>p(Jt))}Fe()}}).catch(h=>{throw da=null,h})}(D),da}const Ea=new Wt(5e3,15e3),yl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rd(D){const h=D.config;Ee(h.authDomain,D,"auth-domain-config-required");const p=h.emulator?hn(h,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,C={apiKey:h.apiKey,appName:D.name,v:De.Jn},W=Gu.get(D.config.apiHost);W&&(C.eid=W);const X=D._getFrameworks();return X.length&&(C.fw=X.join(",")),`${p}?${(0,G.xO)(C).slice(1)}`}function bu(){return bu=(0,y.Z)(function*(D){const h=yield Na(D),p=Xn().gapi;return Ee(p,D,"internal-error"),h.open({where:document.body,url:rd(D),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yl,dontclear:!0},C=>new Promise(function(){var W=(0,y.Z)(function*(X,Fe){yield C.restyle({setHideOnLeave:!1});const ft=Be(D,"network-request-failed"),Jt=Xn().setTimeout(()=>{Fe(ft)},Ea.get());function qt(){Xn().clearTimeout(Jt),X(C)}C.ping(qt).then(qt,()=>{Fe(ft)})});return function(X,Fe){return W.apply(this,arguments)}}()))}),bu.apply(this,arguments)}const id={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class zu{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ha(D,h,p,C,W,X){Ee(D.config.authDomain,D,"auth-domain-config-required"),Ee(D.config.apiKey,D,"invalid-api-key");const Fe={apiKey:D.config.apiKey,appName:D.name,authType:p,redirectUrl:C,v:De.Jn,eventId:W};if(h instanceof ki){h.setDefaultLanguage(D.languageCode),Fe.providerId=h.providerId||"",(0,G.xb)(h.getCustomParameters())||(Fe.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Jt,qt]of Object.entries(X||{}))Fe[Jt]=qt}if(h instanceof Fi){const Jt=h.getScopes().filter(qt=>""!==qt);Jt.length>0&&(Fe.scopes=Jt.join(","))}D.tenantId&&(Fe.tid=D.tenantId);const ft=Fe;for(const Jt of Object.keys(ft))void 0===ft[Jt]&&delete ft[Jt];return`${function au({config:D}){return D.emulator?hn(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}(D)}?${(0,G.xO)(ft).slice(1)}`}const wl="webStorageSupport",Wu=class Cu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bn,this._completeRedirectFn=x,this._overrideRedirectResult=go}_openPopup(h,p,C,W){var X=this;return(0,y.Z)(function*(){var Fe;rt(null===(Fe=X.eventManagers[h._key()])||void 0===Fe?void 0:Fe.manager,"_initialize() not called before _openPopup()");const ft=ha(h,p,C,it(),W);return function vl(D,h,p,C=500,W=600){const X=Math.max((window.screen.availHeight-W)/2,0).toString(),Fe=Math.max((window.screen.availWidth-C)/2,0).toString();let ft="";const Jt=Object.assign(Object.assign({},id),{width:C.toString(),height:W.toString(),top:X,left:Fe}),qt=(0,G.z$)().toLowerCase();p&&(ft=en(qt)?"_blank":p),je(qt)&&(h=h||"http://localhost",Jt.scrollbars="yes");const Kt=Object.entries(Jt).reduce((Ao,[mo,qu])=>`${Ao}${mo}=${qu},`,"");if(function ke(D=(0,G.z$)()){var h;return ce(D)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(qt)&&"_self"!==ft)return function sd(D,h){const p=document.createElement("a");p.href=D,p.target=h;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(C)}(h||"",ft),new zu(null);const zr=window.open(h||"",ft,Kt);Ee(zr,D,"popup-blocked");try{zr.focus()}catch{}return new zu(zr)}(h,ft,ci())})()}_openRedirect(h,p,C,W){var X=this;return(0,y.Z)(function*(){return yield X._originValidation(h),function Bs(D){Xn().location.href=D}(ha(h,p,C,it(),W)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:W,promise:X}=this.eventManagers[p];return W?Promise.resolve(W):(rt(X,"If manager is not set, promise should be"),X)}const C=this.initAndGetManager(h);return this.eventManagers[p]={promise:C},C.catch(()=>{delete this.eventManagers[p]}),C}initAndGetManager(h){var p=this;return(0,y.Z)(function*(){const C=yield function Du(D){return bu.apply(this,arguments)}(h),W=new Ke(h);return C.register("authEvent",X=>(Ee(X?.authEvent,h,"invalid-auth-event"),{status:W.onEvent(X.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:W},p.iframes[h._key()]=C,W})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(wl,{type:wl},W=>{var X;const Fe=null===(X=W?.[0])||void 0===X?void 0:X[wl];void 0!==Fe&&p(!!Fe),_t(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function As(D){return Ma.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return Qe()||Rt()||ce()}};var lu="@firebase/auth",lc="0.20.10";class Ah{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,y.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(C=>{var W;h((null===(W=C)||void 0===W?void 0:W.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);!p||(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ad=(0,G.Pz)("authIdTokenMaxAge")||300;let $a=null;const ja=D=>function(){var h=(0,y.Z)(function*(p){const C=p&&(yield p.getIdTokenResult()),W=C&&((new Date).getTime()-Date.parse(C.issuedAtTime))/1e3;if(W&&W>ad)return;const X=C?.token;$a!==X&&($a=X,yield fetch(D,{method:X?"POST":"DELETE",headers:X?{Authorization:`Bearer ${X}`}:{}}))});return function(p){return h.apply(this,arguments)}}();function Mh(D=(0,De.Mq)()){const h=(0,De.qX)(D,"auth");if(h.isInitialized())return h.getImmediate();const p=function He(D,h){const p=(0,De.qX)(D,"auth");if(p.isInitialized()){const W=p.getImmediate(),X=p.getOptions();if((0,G.vZ)(X,h??{}))return W;_t(W,"already-initialized")}return p.initialize({options:h})}(D,{popupRedirectResolver:Wu,persistence:[yi,_n,bn]}),C=(0,G.Pz)("authTokenSyncURL");if(C){const X=ja(C);(function mr(D,h,p){(0,G.m9)(D).beforeAuthStateChanged(h,p)})(p,X,()=>X(p.currentUser)),Zn(p,Fe=>X(Fe))}const W=(0,G.q4)("auth");return W&&function Ar(D,h,p){const C=gn(D);Ee(C._canInitEmulator,C,"emulator-config-failed"),Ee(/^https?:\/\//.test(h),C,"invalid-emulator-scheme");const W=!!p?.disableWarnings,X=_r(h),{host:Fe,port:ft}=function Or(D){const h=_r(D),p=/(\/\/)?([^?#/]+)/.exec(D.substr(h.length));if(!p)return{host:"",port:null};const C=p[2].split("@").pop()||"",W=/^(\[[^\]]+\])(:|$)/.exec(C);if(W){const X=W[1];return{host:X,port:sr(C.substr(X.length+1))}}{const[X,Fe]=C.split(":");return{host:X,port:sr(Fe)}}}(h);C.config.emulator={url:`${X}//${Fe}${null===ft?"":`:${ft}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Fe,port:ft,protocol:X.replace(":",""),options:Object.freeze({disableWarnings:W})}),W||function Pi(){function D(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}(p,`http://${W}`),p}!function Dl(D){(0,De.Xd)(new nt.wA("auth",(h,{options:p})=>{const C=h.getProvider("app").getImmediate(),W=h.getProvider("heartbeat"),{apiKey:X,authDomain:Fe}=C.options;return((ft,Jt)=>{Ee(X&&!X.includes(":"),"invalid-api-key",{appName:ft.name}),Ee(!Fe?.includes(":"),"argument-error",{appName:ft.name});const qt={apiKey:X,authDomain:Fe,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$t(D)},Kt=new Xt(ft,Jt,qt);return function Ne(D,h){const p=h?.persistence||[],C=(Array.isArray(p)?p:[p]).map(be);h?.errorMap&&D._updateErrorMap(h.errorMap),D._initializeWithPersistence(C,h?.popupRedirectResolver)}(Kt,p),Kt})(C,W)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,C)=>{h.getProvider("auth-internal").initialize()})),(0,De.Xd)(new nt.wA("auth-internal",h=>{const p=gn(h.getProvider("auth").getImmediate());return new Ah(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,De.KN)(lu,lc,function Vi(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,De.KN)(lu,lc,"esm2017")}("Browser")},3209:(yn,ct,Q)=>{Q.d(ct,{EK:()=>er,ET:()=>$g,hJ:()=>Tg,JU:()=>Sg,ad:()=>Pf,cf:()=>Ay,pl:()=>Bg});var Ve,y=Q(5861),G=Q(9681),De=Q(4859),me=Q(1877),Re=Q(2090),nt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},We={},tt=tt||{},oe=nt||self;function pe(){}function qe(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function lt(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Et="closure_uid_"+(1e9*Math.random()>>>0),Nt=0;function Yt(i,e,n){return i.call.apply(i.bind,arguments)}function Ut(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Ot(i,e,n){return(Ot=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Yt:Ut).apply(null,arguments)}function _t(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Be(i,e){function n(){}n.prototype=e.prototype,i.X=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.Wb=function(o,u,c){for(var f=Array(arguments.length-2),b=2;b<arguments.length;b++)f[b-2]=arguments[b];return e.prototype[u].apply(o,f)}}function Te(){this.s=this.s,this.o=this.o}var Dt={};Te.prototype.s=!1,Te.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Ue(i){return Object.prototype.hasOwnProperty.call(i,Et)&&i[Et]||(i[Et]=++Nt)}(this);delete Dt[i]}},Te.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ee=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function Se(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function rt(i,e){for(let n=1;n<arguments.length;n++){const o=arguments[n];if(qe(o)){const u=i.length||0,c=o.length||0;i.length=u+c;for(let f=0;f<c;f++)i[u+f]=o[f]}else i.push(o)}}function ye(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!oe.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{oe.addEventListener("test",pe,e),oe.removeEventListener("test",pe,e)}catch{}return i}();function He(i){return/^[\s\xa0]*$/.test(i)}var Ne=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function it(i,e){return i<e?-1:i>e?1:0}function Xe(){var i=oe.navigator;return i&&(i=i.userAgent)?i:""}function Mt(i){return-1!=Xe().indexOf(i)}function an(i){return an[" "](i),i}an[" "]=pe;var An,i,Wt=Mt("Opera"),hn=Mt("Trident")||Mt("MSIE"),$n=Mt("Edge"),Rn=$n||hn,Wr=Mt("Gecko")&&!(-1!=Xe().toLowerCase().indexOf("webkit")&&!Mt("Edge"))&&!(Mt("Trident")||Mt("MSIE"))&&!Mt("Edge"),Dn=-1!=Xe().toLowerCase().indexOf("webkit")&&!Mt("Edge");function pn(){var i=oe.document;return i?i.documentMode:void 0}e:{var fn="",qr=(i=Xe(),Wr?/rv:([^\);]+)(\)|;)/.exec(i):$n?/Edge\/([\d\.]+)/.exec(i):hn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Dn?/WebKit\/(\S+)/.exec(i):Wt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(qr&&(fn=qr?qr[1]:""),hn){var nr=pn();if(null!=nr&&nr>parseFloat(fn)){An=String(nr);break e}}An=fn}var Rr={};var Sr=oe.document&&hn&&(pn()||parseInt(An,10))||void 0;function rr(i,e){if(ye.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Wr){e:{try{an(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Bt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&rr.X.h.call(this)}}Be(rr,ye);var Bt={2:"touch",3:"pen",4:"mouse"};rr.prototype.h=function(){rr.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var zn="closure_listenable_"+(1e6*Math.random()|0),Ir=0;function Er(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.ha=u,this.key=++Ir,this.ba=this.ea=!1}function dr(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function Ui(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function pr(i){const e={};for(const n in i)e[n]=i[n];return e}const Dr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tt(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let c=0;c<Dr.length;c++)n=Dr[c],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function Vt(i){this.src=i,this.g={},this.h=0}function nn(i,e){var n=e.type;if(n in i.g){var c,o=i.g[n],u=Ee(o,e);(c=0<=u)&&Array.prototype.splice.call(o,u,1),c&&(dr(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function un(i,e,n,o){for(var u=0;u<i.length;++u){var c=i[u];if(!c.ba&&c.listener==e&&c.capture==!!n&&c.ha==o)return u}return-1}Vt.prototype.add=function(i,e,n,o,u){var c=i.toString();(i=this.g[c])||(i=this.g[c]=[],this.h++);var f=un(i,e,o,u);return-1<f?(e=i[f],n||(e.ea=!1)):((e=new Er(e,this.src,c,!!o,u)).ea=n,i.push(e)),e};var ir="closure_lm_"+(1e6*Math.random()|0),Wn={};function Yr(i,e,n,o,u){if(o&&o.once)return Qn(i,e,n,o,u);if(Array.isArray(e)){for(var c=0;c<e.length;c++)Yr(i,e[c],n,o,u);return null}return n=It(n),i&&i[zn]?i.N(e,n,lt(o)?!!o.capture:!!o,u):Vn(i,e,n,!1,o,u)}function Vn(i,e,n,o,u,c){if(!e)throw Error("Invalid event type");var f=lt(u)?!!u.capture:!!u,b=gt(i);if(b||(i[ir]=b=new Vt(i)),(n=b.add(e,n,o,f,c)).proxy)return n;if(o=function fi(){const e=ui;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)be||(u=f),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(Ri(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function Qn(i,e,n,o,u){if(Array.isArray(e)){for(var c=0;c<e.length;c++)Qn(i,e[c],n,o,u);return null}return n=It(n),i&&i[zn]?i.O(e,n,lt(o)?!!o.capture:!!o,u):Vn(i,e,n,!0,o,u)}function ti(i,e,n,o,u){if(Array.isArray(e))for(var c=0;c<e.length;c++)ti(i,e[c],n,o,u);else o=lt(o)?!!o.capture:!!o,n=It(n),i&&i[zn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=un(c=i.g[e],n,o,u))&&(dr(c[n]),Array.prototype.splice.call(c,n,1),0==c.length&&(delete i.g[e],i.h--))):i&&(i=gt(i))&&(e=i.g[e.toString()],i=-1,e&&(i=un(e,n,o,u)),(n=-1<i?e[i]:null)&&rn(n))}function rn(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[zn])nn(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(Ri(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=gt(e))?(nn(n,i),0==n.h&&(n.src=null,e[ir]=null)):dr(i)}}}function Ri(i){return i in Wn?Wn[i]:Wn[i]="on"+i}function ui(i,e){if(i.ba)i=!0;else{e=new rr(e,this);var n=i.listener,o=i.ha||i.src;i.ea&&rn(i),i=n.call(o,e)}return i}function gt(i){return(i=i[ir])instanceof Vt?i:null}var Pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function It(i){return"function"==typeof i?i:(i[Pe]||(i[Pe]=function(e){return i.handleEvent(e)}),i[Pe])}function st(){Te.call(this),this.i=new Vt(this),this.P=this,this.I=null}function Ct(i,e){var n,o=i.I;if(o)for(n=[];o;o=o.I)n.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new ye(e,i);else if(e instanceof ye)e.target=e.target||i;else{var u=e;Tt(e=new ye(o,i),u)}if(u=!0,n)for(var c=n.length-1;0<=c;c--){var f=e.g=n[c];u=En(f,o,!0,e)&&u}if(u=En(f=e.g=i,o,!0,e)&&u,u=En(f,o,!1,e)&&u,n)for(c=0;c<n.length;c++)u=En(f=e.g=n[c],o,!1,e)&&u}function En(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,c=0;c<e.length;++c){var f=e[c];if(f&&!f.ba&&f.capture==n){var b=f.listener,V=f.ha||f.src;f.ea&&nn(i.i,f),u=!1!==b.call(V,o)&&u}}return u&&!o.defaultPrevented}Be(st,Te),st.prototype[zn]=!0,st.prototype.removeEventListener=function(i,e,n,o){ti(this,i,e,n,o)},st.prototype.M=function(){if(st.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)dr(n[o]);delete i.g[e],i.h--}}this.I=null},st.prototype.N=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},st.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var le=oe.JSON.stringify;function ae(){var i=Me;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var On,Je=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new je,i=>i.reset());class je{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Rt(i){oe.setTimeout(()=>{throw i},0)}function en(i,e){On||function Pr(){var i=oe.Promise.resolve(void 0);On=function(){i.then(ce)}}(),jn||(On(),jn=!0),Me.add(i,e)}var jn=!1,Me=new class ve{constructor(){this.h=this.g=null}add(e,n){const o=Je.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}};function ce(){for(var i;i=ae();){try{i.h.call(i.g)}catch(n){Rt(n)}var e=Je;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}jn=!1}function ne(i,e){st.call(this),this.h=i||1,this.g=e||oe,this.j=Ot(this.lb,this),this.l=Date.now()}function ke(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function Ie(i,e,n){if("function"==typeof i)n&&(i=Ot(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Ot(i.handleEvent,i)}return 2147483647<Number(e)?-1:oe.setTimeout(i,e||0)}function Qe(i){i.g=Ie(()=>{i.g=null,i.i&&(i.i=!1,Qe(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Be(ne,st),(Ve=ne.prototype).ca=!1,Ve.R=null,Ve.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Ct(this,"tick"),this.ca&&(ke(this),this.start()))}},Ve.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ve.M=function(){ne.X.M.call(this),ke(this),delete this.g};class mt extends Te{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Qe(this)}M(){super.M(),this.g&&(oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $t(i){Te.call(this),this.h=i,this.g={}}Be($t,Te);var dt=[];function Xt(i,e,n,o){Array.isArray(n)||(n&&(dt[0]=n.toString()),n=dt);for(var u=0;u<n.length;u++){var c=Yr(e,n[u],o||i.handleEvent,!1,i.h||i);if(!c)break;i.g[c.key]=c}}function gn(i){Ui(i.g,function(e,n){this.g.hasOwnProperty(n)&&rn(e)},i),i.g={}}function br(){this.g=!0}function Or(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Pi(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var c=u[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<u.length;f++)u[f]=""}}}return le(n)}catch{return e}}(i,n)+(o?" "+o:"")})}$t.prototype.M=function(){$t.X.M.call(this),gn(this)},$t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},br.prototype.Aa=function(){this.g=!1},br.prototype.info=function(){};var li={},Nn=null;function ni(){return Nn=Nn||new st}function xs(i){ye.call(this,li.Pa,i)}function Ci(i){const e=ni();Ct(e,new xs(e,i))}function Ki(i,e){ye.call(this,li.STAT_EVENT,i),this.stat=e}function kn(i){const e=ni();Ct(e,new Ki(e,i))}function Bi(i,e){ye.call(this,li.Qa,i),this.size=e}function ri(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return oe.setTimeout(function(){i()},e)}li.Pa="serverreachability",Be(xs,ye),li.STAT_EVENT="statevent",Be(Ki,ye),li.Qa="timingevent",Be(Bi,ye);var Ur={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Ce={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function we(){}function et(){}we.prototype.h=null;var hr,yt={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function kt(){ye.call(this,"d")}function Cn(){ye.call(this,"c")}function qn(){}function Br(i,e,n,o){this.l=i,this.j=e,this.m=n,this.U=o||1,this.S=new $t(this),this.O=ms,this.T=new ne(i=Rn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new kr}function kr(){this.i=null,this.g="",this.h=!1}Be(kt,ye),Be(Cn,ye),Be(qn,we),qn.prototype.g=function(){return new XMLHttpRequest},qn.prototype.i=function(){return{}},hr=new qn;var ms=45e3,$r={},Kn={};function Ti(i,e,n){i.K=1,i.v=no(Rs(e)),i.s=n,i.P=!0,Gr(i,null)}function Gr(i,e){i.F=Date.now(),Ns(i),i.A=Rs(i.v);var n=i.A,o=i.U;Array.isArray(o)||(o=[String(o)]),Es(n.i,"t",o),i.C=0,n=i.l.H,i.h=new kr,i.g=S(i.l,n?e:null,!i.s),0<i.N&&(i.L=new mt(Ot(i.La,i,i.g),i.N)),Xt(i.S,i.g,"readystatechange",i.ib),e=i.H?pr(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),Ci(1),function Ar(i,e,n,o,u,c){i.info(function(){if(i.g)if(c)for(var f="",b=c.split("&"),V=0;V<b.length;V++){var j=b[V].split("=");if(1<j.length){var J=j[0];j=j[1];var he=J.split("_");f=2<=he.length&&"type"==he[1]?f+(J+"=")+j+"&":f+(J+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+f})}(i.j,i.u,i.A,i.m,i.U,i.s)}function ys(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function _i(i,e,n){let u,o=!0;for(;!i.I&&i.C<n.length;){if(u=Jo(i,n),u==Kn){4==e&&(i.o=4,kn(14),o=!1),Or(i.j,i.m,null,"[Incomplete Response]");break}if(u==$r){i.o=4,kn(15),Or(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}Or(i.j,i.m,u,null),xo(i,u)}ys(i)&&u!=Kn&&u!=$r&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,kn(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Si(e),e.K=!0,kn(11))):(Or(i.j,i.m,n,"[Invalid Chunked Response]"),us(i),Oi(i))}function Jo(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?Kn:(n=Number(e.substring(n,o)),isNaN(n)?$r:(o+=1)+n>e.length?Kn:(e=e.substr(o,n),i.C=o+n,e))}function Ns(i){i.V=Date.now()+i.O,eo(i,i.O)}function eo(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=ri(Ot(i.gb,i),e)}function vs(i){i.B&&(oe.clearTimeout(i.B),i.B=null)}function Oi(i){0==i.l.G||i.I||ba(i.l,i)}function us(i){vs(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,ke(i.T),gn(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function xo(i,e){try{var n=i.l;if(0!=n.G&&(n.g==i||is(n.h,i)))if(!i.J&&is(n.h,i)&&3==n.G){try{var o=n.Fa.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<i.F))break e;co(n),Ge(n)}Qs(n),kn(18)}}else n.Ba=u[1],0<n.Ba-n.T&&37500>u[2]&&n.L&&0==n.A&&!n.v&&(n.v=ri(Ot(n.cb,n),6e3));if(1>=Os(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else ra(n,11)}else if((i.J||n.g==i)&&co(n),!He(e))for(u=n.Fa.g.parse(e),e=0;e<u.length;e++){let j=u[e];if(n.T=j[0],j=j[1],2==n.G)if("c"==j[0]){n.I=j[1],n.ka=j[2];const J=j[3];null!=J&&(n.ma=J,n.j.info("VER="+n.ma));const he=j[4];null!=he&&(n.Ca=he,n.j.info("SVER="+n.Ca));const ze=j[5];null!=ze&&"number"==typeof ze&&0<ze&&(n.J=o=1.5*ze,n.j.info("backChannelRequestTimeoutMs_="+o)),o=n;const at=i.g;if(at){const pt=at.g?at.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pt){var c=o.h;c.g||-1==pt.indexOf("spdy")&&-1==pt.indexOf("quic")&&-1==pt.indexOf("h2")||(c.j=c.l,c.g=new Set,c.h&&(wn(c,c.h),c.h=null))}if(o.D){const Zt=at.g?at.g.getResponseHeader("X-HTTP-Session-Id"):null;Zt&&(o.za=Zt,Jn(o.F,o.D,Zt))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-i.F,n.j.info("Handshake RTT: "+n.P+"ms"));var f=i;if((o=n).sa=ma(o,o.H?o.ka:null,o.V),f.J){ks(o.h,f);var b=f,V=o.J;V&&b.setTimeout(V),b.B&&(vs(b),Ns(b)),o.g=f}else wi(o);0<n.i.length&&jr(n)}else"stop"!=j[0]&&"close"!=j[0]||ra(n,7);else 3==n.G&&("stop"==j[0]||"close"==j[0]?"stop"==j[0]?ra(n,7):Z(n):"noop"!=j[0]&&n.l&&n.l.wa(j),n.A=0)}Ci(4)}catch{}}function to(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(qe(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function zo(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(qe(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const o in i)e[n++]=o;return e}}}(i),o=function ga(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(qe(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length,c=0;c<u;c++)e.call(void 0,o[c],n&&n[c],i)}(Ve=Br.prototype).setTimeout=function(i){this.O=i},Ve.ib=function(i){i=i.target;const e=this.L;e&&3==mn(i)?e.l():this.La(i)},Ve.La=function(i){try{if(i==this.g)e:{const J=mn(this.g);var e=this.g.Ea();const he=this.g.aa();if(!(3>J)&&(3!=J||Rn||this.g&&(this.h.h||this.g.fa()||uo(this.g)))){this.I||4!=J||7==e||Ci(8==e||0>=he?3:2),vs(this);var n=this.g.aa();this.Y=n;t:if(ys(this)){var o=uo(this.g);i="";var u=o.length,c=4==mn(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){us(this),Oi(this);var f="";break t}this.h.i=new oe.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:c&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,f=this.h.g}else f=this.g.fa();if(this.i=200==n,function _r(i,e,n,o,u,c,f){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+c+" "+f})}(this.j,this.u,this.A,this.m,this.U,J,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var b,V=this.g;if((b=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!He(b)){var j=b;break t}}j=null}if(!(n=j)){this.i=!1,this.o=3,kn(12),us(this),Oi(this);break e}Or(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,xo(this,n)}this.P?(_i(this,J,f),Rn&&this.i&&3==J&&(Xt(this.S,this.T,"tick",this.hb),this.T.start())):(Or(this.j,this.m,f,null),xo(this,f)),4==J&&us(this),this.i&&!this.I&&(4==J?ba(this.l,this):(this.i=!1,Ns(this)))}else 400==n&&0<f.indexOf("Unknown SID")?(this.o=3,kn(12)):(this.o=0,kn(13)),us(this),Oi(this)}}}catch{}},Ve.hb=function(){if(this.g){var i=mn(this.g),e=this.g.fa();this.C<e.length&&(vs(this),_i(this,i,e),this.i&&4!=i&&Ns(this))}},Ve.cancel=function(){this.I=!0,us(this)},Ve.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function sr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ci(3),kn(17)),us(this),this.o=2,Oi(this)):eo(this,this.V-i)};var Da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $i(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof $i){this.h=void 0!==e?e:i.h,_s(this,i.j),this.s=i.s,this.g=i.g,ki(this,i.m),this.l=i.l,e=i.i;var n=new Yi;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Fi(this,n),this.o=i.o}else i&&(n=String(i).match(Da))?(this.h=!!e,_s(this,n[1]||"",!0),this.s=ls(n[2]||""),this.g=ls(n[3]||"",!0),ki(this,n[4]),this.l=ls(n[5]||"",!0),Fi(this,n[6]||"",!0),this.o=ls(n[7]||"")):(this.h=!!e,this.i=new Yi(null,this.h))}function Rs(i){return new $i(i)}function _s(i,e,n){i.j=n?ls(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function ki(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Fi(i,e,n){e instanceof Yi?(i.i=e,function Ro(i,e){e&&!i.j&&(Qr(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(ro(this,o),Es(this,u,n))},i)),i.j=e}(i.i,i.h)):(n||(e=Ws(e,ji)),i.i=new Yi(e,i.h))}function Jn(i,e,n){i.i.set(e,n)}function no(i){return Jn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function ls(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Ws(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,qs),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function qs(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}$i.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Ws(e,Io,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Ws(e,Io,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(Ws(n,"/"==n.charAt(0)?Zi:Ps,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Ws(n,Do)),i.join("")};var Io=/[#\/\?@]/g,Ps=/[#\?:]/g,Zi=/[#\?]/g,ji=/[#\?@]/g,Do=/#/g;function Yi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Qr(i){i.g||(i.g=new Map,i.h=0,i.i&&function Wo(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var c=i[n].substring(0,o);u=i[n].substring(o+1)}else c=i[n];e(c,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ro(i,e){Qr(i),e=ws(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function No(i,e){return Qr(i),e=ws(i,e),i.g.has(e)}function Es(i,e,n){ro(i,e),0<n.length&&(i.i=null,i.g.set(ws(i,e),Se(n)),i.h+=n.length)}function ws(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Hi(i){this.l=i||Ks,i=oe.PerformanceNavigationTiming?0<(i=oe.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(oe.g&&oe.g.Ga&&oe.g.Ga()&&oe.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ve=Yi.prototype).add=function(i,e){Qr(this),this.i=null,i=ws(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},Ve.forEach=function(i,e){Qr(this),this.g.forEach(function(n,o){n.forEach(function(u){i.call(e,u,o,this)},this)},this)},Ve.oa=function(){Qr(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let o=0;o<e.length;o++){const u=i[o];for(let c=0;c<u.length;c++)n.push(e[o])}return n},Ve.W=function(i){Qr(this);let e=[];if("string"==typeof i)No(this,i)&&(e=e.concat(this.g.get(ws(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},Ve.set=function(i,e){return Qr(this),this.i=null,No(this,i=ws(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Ve.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},Ve.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var o=e[n];const c=encodeURIComponent(String(o)),f=this.W(o);for(o=0;o<f.length;o++){var u=c;""!==f[o]&&(u+="="+encodeURIComponent(String(f[o]))),i.push(u)}}return this.i=i.join("&")};var Ks=10;function Fr(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Os(i){return i.h?1:i.g?i.g.size:0}function is(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function wn(i,e){i.g?i.g.add(e):i.h=e}function ks(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Zs(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.D);return e}return Se(i.i)}function cs(){}function pi(){this.g=new cs}function io(i,e,n){const o=n||"";try{to(i,function(u,c){let f=u;lt(u)&&(f=le(u)),e.push(o+c+"="+encodeURIComponent(f))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Fs(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function ii(i){this.l=i.ac||null,this.j=i.jb||!1}function Po(i,e){st.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=ds,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Hi.prototype.cancel=function(){if(this.i=Zs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},cs.prototype.stringify=function(i){return oe.JSON.stringify(i,void 0)},cs.prototype.parse=function(i){return oe.JSON.parse(i,void 0)},Be(ii,we),ii.prototype.g=function(){return new Po(this.l,this.j)},ii.prototype.i=function(i){return function(){return i}}({}),Be(Po,st);var ds=0;function Ei(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function Xr(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ss(i)}function ss(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ve=Po.prototype).open=function(i,e){if(this.readyState!=ds)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,ss(this)},Ve.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||oe).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Ve.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xr(this)),this.readyState=ds},Ve.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ss(this)),this.g&&(this.readyState=3,ss(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof oe.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ei(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},Ve.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Xr(this):ss(this),3==this.readyState&&Ei(this)}},Ve.Va=function(i){this.g&&(this.response=this.responseText=i,Xr(this))},Ve.Ua=function(i){this.g&&(this.response=i,Xr(this))},Ve.ga=function(){this.g&&Xr(this)},Ve.setRequestHeader=function(i,e){this.v.append(i,e)},Ve.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ve.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(Po.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var so=oe.JSON.parse;function Ft(i){st.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Mi,this.K=this.L=!1}Be(Ft,st);var Mi="",oo=/^https?$/i,ao=["POST","PUT"];function ea(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Is(i),hs(i)}function Is(i){i.D||(i.D=!0,Ct(i,"complete"),Ct(i,"error"))}function ta(i){if(i.h&&typeof tt<"u"&&(!i.C[1]||4!=mn(i)||2!=i.aa()))if(i.v&&4==mn(i))Ie(i.Ha,0,i);else if(Ct(i,"readystatechange"),4==mn(i)){i.h=!1;try{const b=i.aa();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===b){var u=String(i.H).match(Da)[1]||null;if(!u&&oe.self&&oe.self.location){var c=oe.self.location.protocol;u=c.substr(0,c.length-1)}o=!oo.test(u?u.toLowerCase():"")}n=o}if(n)Ct(i,"complete"),Ct(i,"success");else{i.m=6;try{var f=2<mn(i)?i.g.statusText:""}catch{f=""}i.j=f+" ["+i.aa()+"]",Is(i)}}finally{hs(i)}}}function hs(i,e){if(i.g){ht(i);const n=i.g,o=i.C[0]?pe:null;i.g=null,i.C=null,e||Ct(i,"ready");try{n.onreadystatechange=o}catch{}}}function ht(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(oe.clearTimeout(i.A),i.A=null)}function mn(i){return i.g?i.g.readyState:0}function uo(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Mi:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function lo(i){let e="";return Ui(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}function F(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=lo(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Jn(i,e,n))}function k(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function M(i){this.Ca=0,this.i=[],this.j=new br,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=k("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=k("baseRetryDelayMs",5e3,i),this.bb=k("retryDelaySeedMs",1e4,i),this.$a=k("forwardChannelMaxRetries",2,i),this.ta=k("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new Hi(i&&i.concurrentRequestLimit),this.Fa=new pi,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Z(i){if(jt(i),3==i.G){var e=i.U++,n=Rs(i.F);Jn(n,"SID",i.I),Jn(n,"RID",e),Jn(n,"TYPE","terminate"),os(i,n),(e=new Br(i,i.j,e,void 0)).K=2,e.v=no(Rs(n)),n=!1,oe.navigator&&oe.navigator.sendBeacon&&(n=oe.navigator.sendBeacon(e.v.toString(),"")),!n&&oe.Image&&((new Image).src=e.v,n=!0),n||(e.g=S(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ns(e)}Us(i)}function Ge(i){i.g&&(Si(i),i.g.cancel(),i.g=null)}function jt(i){Ge(i),i.u&&(oe.clearTimeout(i.u),i.u=null),co(i),i.h.cancel(),i.m&&("number"==typeof i.m&&oe.clearTimeout(i.m),i.m=null)}function jr(i){Fr(i.h)||i.m||(i.m=!0,en(i.Ja,i),i.C=0)}function Ls(i,e){var n;n=e?e.m:i.U++;const o=Rs(i.F);Jn(o,"SID",i.I),Jn(o,"RID",n),Jn(o,"AID",i.T),os(i,o),i.o&&i.s&&F(o,i.o,i.s),n=new Br(i,i.j,n,i.C+1),null===i.o&&(n.H=i.s),e&&(i.i=e.D.concat(i.i)),e=gi(i,n,1e3),n.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),wn(i.h,n),Ti(n,o,e)}function os(i,e){i.ia&&Ui(i.ia,function(n,o){Jn(e,o,n)}),i.l&&to({},function(n,o){Jn(e,o,n)})}function gi(i,e,n){n=Math.min(i.i.length,n);var o=i.l?Ot(i.l.Ra,i.l,i):null;e:{var u=i.i;let c=-1;for(;;){const f=["count="+n];-1==c?0<n?(c=u[0].h,f.push("ofs="+c)):c=0:f.push("ofs="+c);let b=!0;for(let V=0;V<n;V++){let j=u[V].h;const J=u[V].g;if(j-=c,0>j)c=Math.max(0,u[V].h-100),b=!1;else try{io(J,f,"req"+j+"_")}catch{o&&o(J)}}if(b){o=f.join("&");break e}}}return i=i.i.splice(0,n),e.D=i,o}function wi(i){i.g||i.u||(i.Z=1,en(i.Ia,i),i.A=0)}function Qs(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=ri(Ot(i.Ia,i),na(i,i.A)),i.A++,0))}function Si(i){null!=i.B&&(oe.clearTimeout(i.B),i.B=null)}function Vs(i){i.g=new Br(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Rs(i.sa);Jn(e,"RID","rpc"),Jn(e,"SID",i.I),Jn(e,"CI",i.L?"0":"1"),Jn(e,"AID",i.T),Jn(e,"TYPE","xmlhttp"),os(i,e),i.o&&i.s&&F(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var n=i.g;i=i.ka,n.K=1,n.v=no(Rs(e)),n.s=null,n.P=!0,Gr(n,i)}function co(i){null!=i.v&&(oe.clearTimeout(i.v),i.v=null)}function ba(i,e){var n=null;if(i.g==e){co(i),Si(i),i.g=null;var o=2}else{if(!is(i.h,e))return;n=e.D,ks(i.h,e),o=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;Ct(o=ni(),new Bi(o,n,e,u)),jr(i)}else wi(i);else if(3==(u=e.o)||0==u&&0<i.pa||!(1==o&&function Qi(i,e){return!(Os(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=ri(Ot(i.Ja,i,e),na(i,i.C)),i.C++,0)))}(i,e)||2==o&&Qs(i)))switch(n&&0<n.length&&(e=i.h,e.i=e.i.concat(n)),u){case 1:ra(i,5);break;case 4:ra(i,10);break;case 3:ra(i,6);break;default:ra(i,2)}}function na(i,e){let n=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(n*=2),n*e}function ra(i,e){if(i.j.info("Error code "+e),2==e){var n=null;i.l&&(n=null);var o=Ot(i.kb,i);n||(n=new $i("//www.google.com/images/cleardot.gif"),oe.location&&"http"==oe.location.protocol||_s(n,"https"),no(n)),function Lr(i,e){const n=new br;if(oe.Image){const o=new Image;o.onload=_t(Fs,n,o,"TestLoadImage: loaded",!0,e),o.onerror=_t(Fs,n,o,"TestLoadImage: error",!1,e),o.onabort=_t(Fs,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=_t(Fs,n,o,"TestLoadImage: timeout",!1,e),oe.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else kn(2);i.G=0,i.l&&i.l.va(e),Us(i),jt(i)}function Us(i){if(i.G=0,i.la=[],i.l){const e=Zs(i.h);(0!=e.length||0!=i.i.length)&&(rt(i.la,e),rt(i.la,i.i),i.h.i.length=0,Se(i.i),i.i.length=0),i.l.ua()}}function ma(i,e,n){var o=n instanceof $i?Rs(n):new $i(n,void 0);if(""!=o.g)e&&(o.g=e+"."+o.g),ki(o,o.m);else{var u=oe.location;o=u.protocol,e=e?e+"."+u.hostname:u.hostname,u=+u.port;var c=new $i(null,void 0);o&&_s(c,o),e&&(c.g=e),u&&ki(c,u),n&&(c.l=n),o=c}return e=i.za,(n=i.D)&&e&&Jn(o,n,e),Jn(o,"VER",i.ma),os(i,o),o}function S(i,e,n){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ft(n&&i.Da&&!i.ra?new ii({jb:!0}):i.ra)).Ka(i.H),e}function $(){}function N(){if(hn&&!(10<=Number(Sr)))throw Error("Environmental error: no available transport.")}function q(i,e){st.call(this),this.g=new M(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!He(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!He(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new ot(this)}function de(i){kt.call(this);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Ye(){Cn.call(this),this.status=1}function ot(i){this.g=i}(Ve=Ft.prototype).Ka=function(i){this.L=i},Ve.da=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():hr.g(),this.C=function Oe(i){return i.h||(i.h=i.i())}(this.u?this.u:hr),this.g.onreadystatechange=Ot(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(c){return void ea(this,c)}if(i=n||"",n=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var u in o)n.set(u,o[u]);else{if("function"!=typeof o.keys||"function"!=typeof o.get)throw Error("Unknown input type for opt_headers: "+String(o));for(const c of o.keys())n.set(c,o.get(c))}o=Array.from(n.keys()).find(c=>"content-type"==c.toLowerCase()),u=oe.FormData&&i instanceof oe.FormData,!(0<=Ee(ao,e))||o||u||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[c,f]of n)this.g.setRequestHeader(c,f);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ht(this),0<this.B&&((this.K=function Ys(i){return hn&&function fr(){return function tr(i){var e=Rr;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Ne(String(An)).split("."),n=Ne("9").split("."),o=Math.max(e.length,n.length);for(let f=0;0==i&&f<o;f++){var u=e[f]||"",c=n[f]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==u[0].length&&0==c[0].length)break;i=it(0==u[1].length?0:parseInt(u[1],10),0==c[1].length?0:parseInt(c[1],10))||it(0==u[2].length,0==c[2].length)||it(u[2],c[2]),u=u[3],c=c[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ot(this.qa,this)):this.A=Ie(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(c){ea(this,c)}},Ve.qa=function(){typeof tt<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ct(this,"timeout"),this.abort(8))},Ve.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Ct(this,"complete"),Ct(this,"abort"),hs(this))},Ve.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hs(this,!0)),Ft.X.M.call(this)},Ve.Ha=function(){this.s||(this.F||this.v||this.l?ta(this):this.fb())},Ve.fb=function(){ta(this)},Ve.aa=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}},Ve.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ve.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),so(e)}},Ve.Ea=function(){return this.m},Ve.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ve=M.prototype).ma=8,Ve.G=1,Ve.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const u=new Br(this,this.j,i,void 0);let c=this.s;if(this.S&&(c?(c=pr(c),Tt(c,this.S)):c=this.S),null!==this.o||this.N||(u.H=c,c=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){var o=this.i[n];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=gi(this,u,e),Jn(n=Rs(this.F),"RID",i),Jn(n,"CVER",22),this.D&&Jn(n,"X-HTTP-Session-Id",this.D),os(this,n),c&&(this.N?e="headers="+encodeURIComponent(String(lo(c)))+"&"+e:this.o&&F(n,this.o,c)),wn(this.h,u),this.Ya&&Jn(n,"TYPE","init"),this.O?(Jn(n,"$req",e),Jn(n,"SID","null"),u.Z=!0,Ti(u,n,null)):Ti(u,n,e),this.G=2}}else 3==this.G&&(i?Ls(this,i):0==this.i.length||Fr(this.h)||Ls(this))},Ve.Ia=function(){if(this.u=null,Vs(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=ri(Ot(this.eb,this),i)}},Ve.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,kn(10),Ge(this),Vs(this))},Ve.cb=function(){null!=this.v&&(this.v=null,Ge(this),Qs(this),kn(19))},Ve.kb=function(i){i?(this.j.info("Successfully pinged google.com"),kn(2)):(this.j.info("Failed to ping google.com"),kn(1))},(Ve=$.prototype).xa=function(){},Ve.wa=function(){},Ve.va=function(){},Ve.ua=function(){},Ve.Ra=function(){},N.prototype.g=function(i,e){return new q(i,e)},Be(q,st),q.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,n=this.h||void 0;kn(0),i.V=e,i.ia=n||{},i.L=i.Y,i.F=ma(i,null,i.V),jr(i)},q.prototype.close=function(){Z(this.g)},q.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=le(i),i=n);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&jr(e)},q.prototype.M=function(){this.g.l=null,delete this.j,Z(this.g),delete this.g,q.X.M.call(this)},Be(de,kt),Be(Ye,Cn),Be(ot,$),ot.prototype.xa=function(){Ct(this.g,"a")},ot.prototype.wa=function(i){Ct(this.g,new de(i))},ot.prototype.va=function(i){Ct(this.g,new Ye(i))},ot.prototype.ua=function(){Ct(this.g,"b")},N.prototype.createWebChannel=N.prototype.g,q.prototype.send=q.prototype.u,q.prototype.open=q.prototype.m,q.prototype.close=q.prototype.close,Ur.NO_ERROR=0,Ur.TIMEOUT=8,Ur.HTTP_ERROR=6,Ce.COMPLETE="complete",et.EventType=yt,yt.OPEN="a",yt.CLOSE="b",yt.ERROR="c",yt.MESSAGE="d",st.prototype.listen=st.prototype.N,Ft.prototype.listenOnce=Ft.prototype.O,Ft.prototype.getLastError=Ft.prototype.Oa,Ft.prototype.getLastErrorCode=Ft.prototype.Ea,Ft.prototype.getStatus=Ft.prototype.aa,Ft.prototype.getResponseJson=Ft.prototype.Sa,Ft.prototype.getResponseText=Ft.prototype.fa,Ft.prototype.send=Ft.prototype.da,Ft.prototype.setWithCredentials=Ft.prototype.Ka;var zt=We.createWebChannelTransport=function(){return new N},gr=We.getStatEventTarget=function(){return ni()},or=We.ErrorCode=Ur,Cr=We.EventType=Ce,ar=We.Event=li,Zn=We.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},mr=We.FetchXmlHttpFactory=ii,Fn=We.WebChannel=et,ho=We.XhrIo=Ft;const fs="@firebase/firestore";class Mr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mr.UNAUTHENTICATED=new Mr(null),Mr.GOOGLE_CREDENTIALS=new Mr("google-credentials-uid"),Mr.FIRST_PARTY=new Mr("first-party-uid"),Mr.MOCK_USER=new Mr("mock-user");let xi="9.12.1";const Xi=new me.Yd("@firebase/firestore");function Ds(){return Xi.logLevel}function L(i,...e){if(Xi.logLevel<=me.in.DEBUG){const n=e.map(O);Xi.debug(`Firestore (${xi}): ${i}`,...n)}}function g(i,...e){if(Xi.logLevel<=me.in.ERROR){const n=e.map(O);Xi.error(`Firestore (${xi}): ${i}`,...n)}}function w(i,...e){if(Xi.logLevel<=me.in.WARN){const n=e.map(O);Xi.warn(`Firestore (${xi}): ${i}`,...n)}}function O(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function B(i="Unexpected state"){const e=`FIRESTORE (${xi}) INTERNAL ASSERTION FAILED: `+i;throw g(e),new Error(e)}function K(i,e){i||B()}function ee(i,e){return i}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Re.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Qt{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ur{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mr.UNAUTHENTICATED))}shutdown(){}}class _n{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Tn{constructor(e){this.t=e,this.currentUser=Mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const c=j=>this.i!==u?(u=this.i,n(j)):Promise.resolve();let f=new bt;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new bt,e.enqueueRetryable(()=>c(this.currentUser))};const b=()=>{const j=f;e.enqueueRetryable((0,y.Z)(function*(){yield j.promise,yield c(o.currentUser)}))},V=j=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=j,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(j=>V(j)),setTimeout(()=>{if(!this.auth){const j=this.t.getImmediate({optional:!0});j?V(j):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new bt)}},0),b()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(K("string"==typeof o.accessToken),new Qt(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return K(null===e||"string"==typeof e),new Mr(e)}}class bn{constructor(e,n,o,u){this.h=e,this.l=n,this.m=o,this.g=u,this.type="FirstParty",this.user=Mr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(K(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Tr{constructor(e,n,o,u){this.h=e,this.l=n,this.m=o,this.g=u}getToken(){return Promise.resolve(new bn(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ci{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const o=c=>{null!=c.error&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.A;return this.A=c.token,L("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>o(c))};const u=c=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.T.onInit(c=>u(c)),setTimeout(()=>{if(!this.appCheck){const c=this.T.getImmediate({optional:!0});c?u(c):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(K("string"==typeof n.token),this.A=n.token,new xr(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Xn(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class Bs{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=Xn(40);for(let c=0;c<u.length;++c)o.length<20&&u[c]<n&&(o+=e.charAt(u[c]%e.length))}return o}}function ln(i,e){return i<e?-1:i>e?1:0}function Kr(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}class er{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ge(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return er.fromMillis(Date.now())}static fromDate(e){return er.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new er(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ln(this.nanoseconds,e.nanoseconds):ln(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class cn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new cn(e)}static min(){return new cn(new er(0,0))}static max(){return new cn(new er(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class bo{constructor(e,n,o){void 0===n?n=0:n>e.length&&B(),void 0===o?o=e.length-n:o>e.length-n&&B(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===bo.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bo?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const c=e.get(u),f=n.get(u);if(c<f)return-1;if(c>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Hn extends bo{construct(e,n,o){return new Hn(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new ge(te.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new Hn(n)}static emptyPath(){return new Hn([])}}const fo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yr extends bo{construct(e,n,o){return new yr(e,n,o)}static isValidIdentifier(e){return fo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new yr(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const c=()=>{if(0===o.length)throw new ge(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let f=!1;for(;u<e.length;){const b=e[u];if("\\"===b){if(u+1===e.length)throw new ge(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const V=e[u+1];if("\\"!==V&&"."!==V&&"`"!==V)throw new ge(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=V,u+=2}else"`"===b?(f=!f,u++):"."!==b||f?(o+=b,u++):(c(),u++)}if(c(),f)throw new ge(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yr(n)}static emptyPath(){return new yr([])}}class xt{constructor(e){this.path=e}static fromPath(e){return new xt(Hn.fromString(e))}static fromName(e){return new xt(Hn.fromString(e).popFirst(5))}static empty(){return new xt(Hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Hn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Hn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xt(new Hn(e.slice()))}}function Zr(i){return new es(i.readTime,i.key,-1)}class es{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new es(cn.min(),xt.empty(),-1)}static max(){return new es(cn.max(),xt.empty(),-1)}}function Ka(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=xt.comparator(i.documentKey,e.documentKey),0!==n?n:ln(i.largestBatchId,e.largestBatchId))}const yi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function vi(i){return si.apply(this,arguments)}function si(){return si=(0,y.Z)(function*(i){if(i.code!==te.FAILED_PRECONDITION||i.message!==yi)throw i;L("LocalStore","Unexpectedly lost primary lease")}),si.apply(this,arguments)}class Le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&B(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Le((o,u)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(o,u)},this.catchCallback=c=>{this.wrapFailure(n,c).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Le?n:Le.resolve(n)}catch(n){return Le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Le.reject(n)}static resolve(e){return new Le((n,o)=>{n(e)})}static reject(e){return new Le((n,o)=>{o(e)})}static waitFor(e){return new Le((n,o)=>{let u=0,c=0,f=!1;e.forEach(b=>{++u,b.next(()=>{++c,f&&c===u&&n()},V=>o(V))}),f=!0,c===u&&n()})}static or(e){let n=Le.resolve(!1);for(const o of e)n=n.next(u=>u?Le.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,c)=>{o.push(n.call(this,u,c))}),this.waitFor(o)}static mapArray(e,n){return new Le((o,u)=>{const c=e.length,f=new Array(c);let b=0;for(let V=0;V<c;V++){const j=V;n(e[j]).next(J=>{f[j]=J,++b,b===c&&o(f)},J=>u(J))}})}static doWhile(e,n){return new Le((o,u)=>{const c=()=>{!0===e()?n().next(()=>{c()},u):o()};c()})}}function Ko(i){return"IndexedDbTransactionError"===i.name}class zi{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>n.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Ca(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Zo(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Ta(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}zi.at=-1;class Mn{constructor(e,n){this.comparator=e,this.root=n||Cs.EMPTY}insert(e,n){return new Mn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Cs.BLACK,null,null))}remove(e){return new Mn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cs.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ju(this.root,e,this.comparator,!0)}}class ju{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?o(e.key,n):1,n&&u&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cs{constructor(e,n,o,u,c){this.key=e,this.value=n,this.color=o??Cs.RED,this.left=u??Cs.EMPTY,this.right=c??Cs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,c){return new Cs(e??this.key,n??this.value,o??this.color,u??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const c=o(e,u.key);return u=c<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===c?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Cs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return Cs.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw B();const e=this.left.check();if(e!==this.right.check())throw B();return e+(this.isRed()?0:1)}}Cs.EMPTY=null,Cs.RED=!0,Cs.BLACK=!1,Cs.EMPTY=new class{constructor(){this.size=0}get key(){throw B()}get value(){throw B()}get color(){throw B()}get left(){throw B()}get right(){throw B()}copy(i,e,n,o,u){return this}insert(i,e,n){return new Cs(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jr{constructor(e){this.comparator=e,this.data=new Mn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fa(this.data.getIterator())}getIteratorFrom(e){return new Fa(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Jr)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,c=o.getNext().key;if(0!==this.comparator(u,c))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jr(this.comparator);return n.data=e,n}}class Fa{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ts{constructor(e){this.fields=e,e.sort(yr.comparator)}static empty(){return new Ts([])}unionWith(e){let n=new Jr(yr.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new Ts(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Kr(this.fields,e.fields,(n,o)=>n.isEqual(o))}}class oi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new oi(n)}static fromUint8Array(e){const n=function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u}(e);return new oi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ln(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}oi.EMPTY_BYTE_STRING=new oi("");const oc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function aa(i){if(K(!!i),"string"==typeof i){let e=0;const n=oc.exec(i);if(K(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Pn(i.seconds),nanos:Pn(i.nanos)}}function Pn(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Fo(i){return"string"==typeof i?oi.fromBase64String(i):oi.fromUint8Array(i)}function ua(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function su(i){const e=i.mapValue.fields.__previous_value__;return ua(e)?su(e):e}function La(i){const e=aa(i.mapValue.fields.__local_write_time__.timestampValue);return new er(e.seconds,e.nanos)}class Ii{constructor(e,n,o,u,c,f,b,V){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=b,this.useFetchStreams=V}}class ts{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ts("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ts&&e.projectId===this.projectId&&e.database===this.database}}function Sa(i){return null==i}function la(i){return 0===i&&1/i==-1/0}const To_mapValue={fields:{__type__:{stringValue:"__max__"}}};function ya(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ua(i)?4:Vr(i)?9007199254740991:10:B()}function va(i,e){if(i===e)return!0;const n=ya(i);if(n!==ya(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return La(i).isEqual(La(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=aa(o.timestampValue),f=aa(u.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,Fo(i.bytesValue).isEqual(Fo(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Pn(o.geoPointValue.latitude)===Pn(u.geoPointValue.latitude)&&Pn(o.geoPointValue.longitude)===Pn(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Pn(o.integerValue)===Pn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Pn(o.doubleValue),f=Pn(u.doubleValue);return c===f?la(c)===la(f):isNaN(c)&&isNaN(f)}return!1}(i,e);case 9:return Kr(i.arrayValue.values||[],e.arrayValue.values||[],va);case 10:return function(o,u){const c=o.mapValue.fields||{},f=u.mapValue.fields||{};if(Ca(c)!==Ca(f))return!1;for(const b in c)if(c.hasOwnProperty(b)&&(void 0===f[b]||!va(c[b],f[b])))return!1;return!0}(i,e);default:return B()}var u}function _(i,e){return void 0!==(i.values||[]).find(n=>va(n,e))}function E(i,e){if(i===e)return 0;const n=ya(i),o=ya(e);if(n!==o)return ln(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return ln(i.booleanValue,e.booleanValue);case 2:return function(u,c){const f=Pn(u.integerValue||u.doubleValue),b=Pn(c.integerValue||c.doubleValue);return f<b?-1:f>b?1:f===b?0:isNaN(f)?isNaN(b)?0:-1:1}(i,e);case 3:return m(i.timestampValue,e.timestampValue);case 4:return m(La(i),La(e));case 5:return ln(i.stringValue,e.stringValue);case 6:return function(u,c){const f=Fo(u),b=Fo(c);return f.compareTo(b)}(i.bytesValue,e.bytesValue);case 7:return function(u,c){const f=u.split("/"),b=c.split("/");for(let V=0;V<f.length&&V<b.length;V++){const j=ln(f[V],b[V]);if(0!==j)return j}return ln(f.length,b.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,c){const f=ln(Pn(u.latitude),Pn(c.latitude));return 0!==f?f:ln(Pn(u.longitude),Pn(c.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,c){const f=u.values||[],b=c.values||[];for(let V=0;V<f.length&&V<b.length;++V){const j=E(f[V],b[V]);if(j)return j}return ln(f.length,b.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,c){if(u===To_mapValue&&c===To_mapValue)return 0;if(u===To_mapValue)return 1;if(c===To_mapValue)return-1;const f=u.fields||{},b=Object.keys(f),V=c.fields||{},j=Object.keys(V);b.sort(),j.sort();for(let J=0;J<b.length&&J<j.length;++J){const he=ln(b[J],j[J]);if(0!==he)return he;const ze=E(f[b[J]],V[j[J]]);if(0!==ze)return ze}return ln(b.length,j.length)}(i.mapValue,e.mapValue);default:throw B()}}function m(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return ln(i,e);const n=aa(i),o=aa(e),u=ln(n.seconds,o.seconds);return 0!==u?u:ln(n.nanos,o.nanos)}function T(i){return P(i)}function P(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=aa(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Fo(i.bytesValue).toBase64():"referenceValue"in i?xt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",c=!0;for(const f of o.values||[])c?c=!1:u+=",",u+=P(f);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let c="{",f=!0;for(const b of u)f?f=!1:c+=",",c+=`${b}:${P(o.fields[b])}`;return c+"}"}(i.mapValue):B();var e}function se(i){return!!i&&"integerValue"in i}function ue(i){return!!i&&"arrayValue"in i}function Ze(i){return!!i&&"nullValue"in i}function At(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function In(i){return!!i&&"mapValue"in i}function Lt(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Zo(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=Lt(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lt(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Vr(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class Wi{constructor(e){this.value=e}static empty(){return new Wi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!In(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lt(n)}setAll(e){let n=yr.emptyPath(),o={},u=[];e.forEach((f,b)=>{if(!n.isImmediateParentOf(b)){const V=this.getFieldsMap(n);this.applyChanges(V,o,u),o={},u=[],n=b.popLast()}f?o[b.lastSegment()]=Lt(f):u.push(b.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,o,u)}delete(e){const n=this.field(e.popLast());In(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return va(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];In(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){Zo(n,(u,c)=>e[u]=c);for(const u of o)delete e[u]}clone(){return new Wi(Lt(this.value))}}function Yo(i){const e=[];return Zo(i.fields,(n,o)=>{const u=new yr([n]);if(In(o)){const c=Yo(o.mapValue).fields;if(0===c.length)e.push(u);else for(const f of c)e.push(u.child(f))}else e.push(u)}),new Ts(e)}class wr{constructor(e,n,o,u,c,f){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.data=c,this.documentState=f}static newInvalidDocument(e){return new wr(e,0,cn.min(),cn.min(),Wi.empty(),0)}static newFoundDocument(e,n,o){return new wr(e,1,n,cn.min(),o,0)}static newNoDocument(e,n){return new wr(e,2,n,cn.min(),Wi.empty(),0)}static newUnknownDocument(e,n){return new wr(e,3,n,cn.min(),Wi.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=cn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nd{constructor(e,n=null,o=[],u=[],c=null,f=null,b=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=c,this.startAt=f,this.endAt=b,this.ht=null}}function Aa(i,e=null,n=[],o=[],u=null,c=null,f=null){return new nd(i,e,n,o,u,c,f)}function _a(i){const e=ee(i);if(null===e.ht){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+T(u.value);var u}).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Sa(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>T(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>T(o)).join(",")),e.ht=n}return e.ht}function ca(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!rs(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((n=i.filters[u]).op!==(o=e.filters[u]).op||!n.field.isEqual(o.field)||!va(n.value,o.value))return!1;var n,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Ma(i.startAt,e.startAt)&&Ma(i.endAt,e.endAt)}function Ya(i){return xt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class R extends class{}{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.lt(e,n,o):new H(e,n,o):"array-contains"===n?new vt(e,o):"in"===n?new Pt(e,o):"not-in"===n?new xn(e,o):"array-contains-any"===n?new Un(e,o):new R(e,n,o)}static lt(e,n,o){return"in"===n?new ie(e,o):new Ae(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.ft(E(n,this.value)):null!==n&&ya(this.value)===ya(n)&&this.ft(E(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return B()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class H extends R{constructor(e,n,o){super(e,n,o),this.key=xt.fromName(o.referenceValue)}matches(e){const n=xt.comparator(e.key,this.key);return this.ft(n)}}class ie extends R{constructor(e,n){super(e,"in",n),this.keys=Ke(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ae extends R{constructor(e,n){super(e,"not-in",n),this.keys=Ke(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ke(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>xt.fromName(o.referenceValue))}class vt extends R{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ue(n)&&_(n.arrayValue,this.value)}}class Pt extends R{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&_(this.value.arrayValue,n)}}class xn extends R{constructor(e,n){super(e,"not-in",n)}matches(e){if(_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!_(this.value.arrayValue,n)}}class Un extends R{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ue(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>_(this.value.arrayValue,o))}}class Ln{constructor(e,n){this.position=e,this.inclusive=n}}class vn{constructor(e,n="asc"){this.field=e,this.dir=n}}function rs(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function As(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const c=e[u],f=i.position[u];if(o=c.field.isKeyField()?xt.comparator(xt.fromName(f.referenceValue),n.key):E(f,n.data.field(c.field)),"desc"===c.dir&&(o*=-1),0!==o)break}return o}function Ma(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!va(i.position[n],e.position[n]))return!1;return!0}class So{constructor(e,n=null,o=[],u=[],c=null,f="F",b=null,V=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=c,this.limitType=f,this.startAt=b,this.endAt=V,this._t=null,this.wt=null}}function Lo(i){return new So(i)}function xa(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function Ba(i){const e=ee(i);if(null===e._t){e._t=[];const n=function Na(i){for(const e of i.filters)if(e.dt())return e.field;return null}(e),o=function da(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}(e);if(null!==n&&null===o)n.isKeyField()||e._t.push(new vn(n)),e._t.push(new vn(yr.keyField(),"asc"));else{let u=!1;for(const c of e.explicitOrderBy)e._t.push(c),c.field.isKeyField()&&(u=!0);if(!u){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new vn(yr.keyField(),c))}}}return e._t}function Vo(i){const e=ee(i);if(!e.wt)if("F"===e.limitType)e.wt=Aa(e.path,e.collectionGroup,Ba(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const c of Ba(e))n.push(new vn(c.field,"desc"===c.dir?"asc":"desc"));const o=e.endAt?new Ln(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Ln(e.startAt.position,e.startAt.inclusive):null;e.wt=Aa(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e.wt}function yl(i,e,n){return new So(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Gu(i,e){return ca(Vo(i),Vo(e))&&i.limitType===e.limitType}function rd(i){return`${_a(Vo(i))}|lt:${i.limitType}`}function Du(i){return`Query(target=${function Hu(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(n=>{return`${(o=n).field.canonicalString()} ${o.op} ${T(o.value)}`;var o}).join(", ")}]`),Sa(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(n=>{return`${(o=n).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(n=>T(n)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(n=>T(n)).join(",")),`Target(${e})`}(Vo(i))}; limitType=${i.limitType})`}function bu(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):xt.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of n.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,c,f){const b=As(u,c,f);return u.inclusive?b<=0:b<0}(n.startAt,Ba(n),o)||n.endAt&&!function(u,c,f){const b=As(u,c,f);return u.inclusive?b>=0:b>0}(n.endAt,Ba(n),o)));var n,o}function ac(i){return(e,n)=>{let o=!1;for(const u of Ba(i)){const c=ip(u,e,n);if(0!==c)return c;o=o||u.field.isKeyField()}return 0}}function ip(i,e,n){const o=i.field.isKeyField()?xt.comparator(e.key,n.key):function(u,c,f){const b=c.data.field(u),V=f.data.field(u);return null!==b&&null!==V?E(b,V):B()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return B()}}function uc(i,e){if(i.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:la(e)?"-0":e}}function Sh(i){return{integerValue:""+i}}function zu(i,e){return function Va(i){return"number"==typeof i&&Number.isInteger(i)&&!la(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?Sh(e):uc(i,e)}class vl{constructor(){this._=void 0}}function sd(i,e,n){return i instanceof ha?function(o,u){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(c.fields.__previous_value__=u),{mapValue:c}}(n,e):i instanceof au?wl(i,e):i instanceof Cu?Wu(i,e):function(o,u){const c=El(o,u),f=Il(c)+Il(o.yt);return se(c)&&se(o.yt)?Sh(f):uc(o.It,f)}(i,e)}function _l(i,e,n){return i instanceof au?wl(i,e):i instanceof Cu?Wu(i,e):n}function El(i,e){return i instanceof uu?se(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class ha extends vl{}class au extends vl{constructor(e){super(),this.elements=e}}function wl(i,e){const n=od(e);for(const o of i.elements)n.some(u=>va(u,o))||n.push(o);return{arrayValue:{values:n}}}class Cu extends vl{constructor(e){super(),this.elements=e}}function Wu(i,e){let n=od(e);for(const o of i.elements)n=n.filter(u=>!va(u,o));return{arrayValue:{values:n}}}class uu extends vl{constructor(e,n){super(),this.It=e,this.yt=n}}function Il(i){return Pn(i.integerValue||i.doubleValue)}function od(i){return ue(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Ah{constructor(e,n){this.version=e,this.transformResults=n}}class Vi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vi}static exists(e){return new Vi(void 0,e)}static updateTime(e){return new Vi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dl(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class bl{}function ad(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Fe(i.key,Vi.none()):new h(i.key,i.data,Vi.none());{const n=i.data,o=Wi.empty();let u=new Jr(yr.comparator);for(let c of e.fields)if(!u.has(c)){let f=n.field(c);null===f&&c.length>1&&(c=c.popLast(),f=n.field(c)),null===f?o.delete(c):o.set(c,f),u=u.add(c)}return new p(i.key,o,new Ts(u.toArray()),Vi.none())}}function $a(i,e,n){i instanceof h?function(o,u,c){const f=o.value.clone(),b=W(o.fieldTransforms,u,c.transformResults);f.setAll(b),u.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(i,e,n):i instanceof p?function(o,u,c){if(!Dl(o.precondition,u))return void u.convertToUnknownDocument(c.version);const f=W(o.fieldTransforms,u,c.transformResults),b=u.data;b.setAll(C(o)),b.setAll(f),u.convertToFoundDocument(c.version,b).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function ja(i,e,n,o){return i instanceof h?function(u,c,f,b){if(!Dl(u.precondition,c))return f;const V=u.value.clone(),j=X(u.fieldTransforms,b,c);return V.setAll(j),c.convertToFoundDocument(c.version,V).setHasLocalMutations(),null}(i,e,n,o):i instanceof p?function(u,c,f,b){if(!Dl(u.precondition,c))return f;const V=X(u.fieldTransforms,b,c),j=c.data;return j.setAll(C(u)),j.setAll(V),c.convertToFoundDocument(c.version,j).setHasLocalMutations(),null===f?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(J=>J.field))}(i,e,n,o):(f=n,Dl(i.precondition,c=e)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f);var c,f}function Mh(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),c=El(o.transform,u||null);null!=c&&(null===n&&(n=Wi.empty()),n.set(o.field,c))}return n||null}function D(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&Kr(n,o,(u,c)=>function lc(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof au&&o instanceof au||n instanceof Cu&&o instanceof Cu?Kr(n.elements,o.elements,va):n instanceof uu&&o instanceof uu?va(n.yt,o.yt):n instanceof ha&&o instanceof ha);var n,o}(u,c))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class h extends bl{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class p extends bl{constructor(e,n,o,u,c=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function C(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function W(i,e,n){const o=new Map;K(i.length===n.length);for(let u=0;u<n.length;u++){const c=i[u],f=c.transform,b=e.data.field(c.field);o.set(c.field,_l(f,b,n[u]))}return o}function X(i,e,n){const o=new Map;for(const u of i){const c=u.transform,f=n.data.field(u.field);o.set(u.field,sd(c,f,e))}return o}class Fe extends bl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ft extends bl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Jt{constructor(e){this.count=e}}var qt,Kt;function zr(i){switch(i){default:return B();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function Ao(i){if(void 0===i)return g("GRPC error has no .code"),te.UNKNOWN;switch(i){case qt.OK:return te.OK;case qt.CANCELLED:return te.CANCELLED;case qt.UNKNOWN:return te.UNKNOWN;case qt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case qt.INTERNAL:return te.INTERNAL;case qt.UNAVAILABLE:return te.UNAVAILABLE;case qt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case qt.NOT_FOUND:return te.NOT_FOUND;case qt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case qt.ABORTED:return te.ABORTED;case qt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case qt.DATA_LOSS:return te.DATA_LOSS;default:return B()}}(Kt=qt||(qt={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";class mo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,c]of o)if(this.equalsFn(u,e))return c}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let c=0;c<u.length;c++)if(this.equalsFn(u[c][0],e))return void(u[c]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Zo(this.inner,(n,o)=>{for(const[u,c]of o)e(u,c)})}isEmpty(){return Ta(this.inner)}size(){return this.innerSize}}const qu=new Mn(xt.comparator);function yo(){return qu}const cc=new Mn(xt.comparator);function Ku(...i){let e=cc;for(const n of i)e=e.insert(n.key,n);return e}function ud(i){let e=cc;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function Uo(){return Yu()}function Zu(){return Yu()}function Yu(){return new mo(i=>i.toString(),(i,e)=>i.isEqual(e))}const ld=new Mn(xt.comparator),dc=new Jr(xt.comparator);function lr(...i){let e=dc;for(const n of i)e=e.add(n);return e}const hc=new Jr(ln);function Cl(){return hc}class fc{constructor(e,n,o,u,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const u=new Map;return u.set(e,Tl.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new fc(cn.min(),u,Cl(),yo(),lr())}}class Tl{constructor(e,n,o,u,c){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new Tl(o,n,lr(),lr(),lr())}}class Qu{constructor(e,n,o,u){this.Tt=e,this.removedTargetIds=n,this.key=o,this.Et=u}}class sp{constructor(e,n){this.targetId=e,this.At=n}}class cd{constructor(e,n,o=oi.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class op{constructor(){this.Rt=0,this.bt=up(),this.Pt=oi.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=lr(),n=lr(),o=lr();return this.bt.forEach((u,c)=>{switch(c){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:B()}}),new Tl(this.Pt,this.vt,e,n,o)}Nt(){this.Vt=!1,this.bt=up()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class js{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=yo(),this.qt=ap(),this.Kt=new Jr(ln)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const o=this.zt(n);switch(e.state){case 0:this.Ht(n)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),o.Ct(e.resumeToken));break;default:B()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((o,u)=>{this.Ht(u)&&n(u)})}Yt(e){const n=e.targetId,o=e.At.count,u=this.Xt(n);if(u){const c=u.target;if(Ya(c))if(0===o){const f=new xt(c.path);this.jt(n,f,wr.newNoDocument(f,cn.min()))}else K(1===o);else this.Zt(n)!==o&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((c,f)=>{const b=this.Xt(f);if(b){if(c.current&&Ya(b.target)){const V=new xt(b.target.path);null!==this.Ut.get(V)||this.ee(f,V)||this.jt(f,V,wr.newNoDocument(V,e))}c.Dt&&(n.set(f,c.xt()),c.Nt())}});let o=lr();this.qt.forEach((c,f)=>{let b=!0;f.forEachWhile(V=>{const j=this.Xt(V);return!j||2===j.purpose||(b=!1,!1)}),b&&(o=o.add(c))}),this.Ut.forEach((c,f)=>f.setReadTime(e));const u=new fc(e,n,this.Kt,this.Ut,o);return this.Ut=yo(),this.qt=ap(),this.Kt=new Jr(ln),u}Qt(e,n){if(!this.Ht(e))return;const o=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,o),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,o){if(!this.Ht(e))return;const u=this.zt(e);this.ee(e,n)?u.kt(n,1):u.Ot(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),o&&(this.Ut=this.Ut.insert(n,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let n=this.Lt.get(e);return n||(n=new op,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new Jr(ln),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=null!==this.Xt(e);return n||L("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new op),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function ap(){return new Mn(xt.comparator)}function up(){return new Mn(xt.comparator)}const xh={asc:"ASCENDING",desc:"DESCENDING"},lp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class sm{constructor(e,n){this.databaseId=e,this.gt=n}}function pc(i,e){return i.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cp(i,e){return i.gt?e.toBase64():e.toUint8Array()}function om(i,e){return pc(i,e.toTimestamp())}function vo(i){return K(!!i),cn.fromTimestamp(function(e){const n=aa(e);return new er(n.seconds,n.nanos)}(i))}function dp(i,e){return(n=i,new Hn(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function am(i){const e=Hn.fromString(i);return K(mp(e)),e}function cu(i,e){return dp(i.databaseId,e.path)}function Ra(i,e){const n=am(e);if(n.get(1)!==i.databaseId.projectId)throw new ge(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ge(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new xt(hp(n))}function dd(i,e){return dp(i.databaseId,e)}function Sl(i){return new Hn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function hp(i){return K(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Rh(i,e,n){return{name:cu(i,e),fields:n.value.mapValue.fields}}function kh(i,e){return{documents:[dd(i,e.path)]}}function du(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=dd(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=dd(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(V){if(0===V.length)return;const j=V.map(J=>function(he){if("=="===he.op){if(At(he.value))return{unaryFilter:{field:hu(he.field),op:"IS_NAN"}};if(Ze(he.value))return{unaryFilter:{field:hu(he.field),op:"IS_NULL"}}}else if("!="===he.op){if(At(he.value))return{unaryFilter:{field:hu(he.field),op:"IS_NOT_NAN"}};if(Ze(he.value))return{unaryFilter:{field:hu(he.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hu(he.field),op:Lh(he.op),value:he.value}}}(J));return 1===j.length?j[0]:{compositeFilter:{op:"AND",filters:j}}}(e.filters);u&&(n.structuredQuery.where=u);const c=function(V){if(0!==V.length)return V.map(j=>{return{field:hu((J=j).field),direction:um(J.dir)};var J})}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const f=(j=e.limit,i.gt||Sa(j)?j:{value:j});var j,b,V;return null!==f&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt={before:(b=e.startAt).inclusive,values:b.position}),e.endAt&&(n.structuredQuery.endAt={before:!(V=e.endAt).inclusive,values:V.position}),n}function pp(i){let e=function Nh(i){const e=am(i);return 4===e.length?Hn.emptyPath():hp(e)}(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){K(1===o);const J=n.from[0];J.allDescendants?u=J.collectionId:e=e.child(J.collectionId)}let c=[];n.where&&(c=yc(n.where));let f=[];n.orderBy&&(f=n.orderBy.map(J=>{return new vn(Pa((he=J).field),function(ze){switch(ze){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(he.direction));var he}));let b=null;n.limit&&(b=function(J){let he;return he="object"==typeof J?J.value:J,Sa(he)?null:he}(n.limit));let V=null;var J;n.startAt&&(V=new Ln((J=n.startAt).values||[],!!J.before));let j=null;return n.endAt&&(j=function(J){return new Ln(J.values||[],!J.before)}(n.endAt)),function Ua(i,e,n,o,u,c,f,b){return new So(i,e,n,o,u,c,f,b)}(e,u,f,c,b,"F",V,j)}function yc(i){return i?void 0!==i.unaryFilter?[Vh(i)]:void 0!==i.fieldFilter?[gp(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>yc(e)).reduce((e,n)=>e.concat(n)):B():[]}function um(i){return xh[i]}function Lh(i){return lp[i]}function hu(i){return{fieldPath:i.canonicalString()}}function Pa(i){return yr.fromServerFormat(i.fieldPath)}function gp(i){return R.create(Pa(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return B()}}(i.fieldFilter.op),i.fieldFilter.value)}function Vh(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Pa(i.unaryFilter.field);return R.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Pa(i.unaryFilter.field);return R.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Pa(i.unaryFilter.field);return R.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Pa(i.unaryFilter.field);return R.create(u,"!=",{nullValue:"NULL_VALUE"});default:return B()}}function lm(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mp(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class bp{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const c=this.mutations[u];c.key.isEqual(e.key)&&$a(c,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=ja(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=ja(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=Zu();return this.mutations.forEach(u=>{const c=e.get(u.key),f=c.overlayedDocument;let b=this.applyToLocalView(f,c.mutatedFields);b=n.has(u.key)?null:b;const V=ad(f,b);null!==V&&o.set(u.key,V),f.isValidDocument()||f.convertToNoDocument(cn.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),lr())}isEqual(e){return this.batchId===e.batchId&&Kr(this.mutations,e.mutations,(n,o)=>D(n,o))&&Kr(this.baseMutations,e.baseMutations,(n,o)=>D(n,o))}}class Cp{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){K(e.mutations.length===o.length);let u=ld;const c=e.mutations;for(let f=0;f<c.length;f++)u=u.insert(c[f].key,o[f].version);return new Cp(e,n,o,u)}}class Ec{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Xu{constructor(e,n,o,u,c=cn.min(),f=cn.min(),b=oi.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=b}withSequenceNumber(e){return new Xu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Xu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Xu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class vm{constructor(e){this.re=e}}function gd(i){const e=pp({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?yl(e,e.limit,"L"):e}class el{constructor(){}ce(e,n){this.ae(e,n),n.he()}ae(e,n){if("nullValue"in e)this.le(n,5);else if("booleanValue"in e)this.le(n,10),n.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(n,15),n.fe(Pn(e.integerValue));else if("doubleValue"in e){const o=Pn(e.doubleValue);isNaN(o)?this.le(n,13):(this.le(n,15),la(o)?n.fe(0):n.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(n,20),"string"==typeof o?n.de(o):(n.de(`${o.seconds||""}`),n.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,n),this.we(n);else if("bytesValue"in e)this.le(n,30),n.me(Fo(e.bytesValue)),this.we(n);else if("referenceValue"in e)this.ge(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(n,45),n.fe(o.latitude||0),n.fe(o.longitude||0)}else"mapValue"in e?Vr(e)?this.le(n,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,n),this.we(n)):"arrayValue"in e?(this.pe(e.arrayValue,n),this.we(n)):B()}_e(e,n){this.le(n,25),this.Ie(e,n)}Ie(e,n){n.de(e)}ye(e,n){const o=e.fields||{};this.le(n,55);for(const u of Object.keys(o))this._e(u,n),this.ae(o[u],n)}pe(e,n){const o=e.values||[];this.le(n,50);for(const u of o)this.ae(u,n)}ge(e,n){this.le(n,37),xt.fromName(e).path.forEach(o=>{this.le(n,60),this.Ie(o,n)})}le(e,n){e.fe(n)}we(e){e.fe(2)}}el.Te=new el;class Qo{constructor(){this.Ye=new bc}addToCollectionParentIndex(e,n){return this.Ye.add(n),Le.resolve()}getCollectionParents(e,n){return Le.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return Le.resolve()}deleteFieldIndex(e,n){return Le.resolve()}getDocumentsMatchingTarget(e,n){return Le.resolve(null)}getIndexType(e,n){return Le.resolve(0)}getFieldIndexes(e,n){return Le.resolve([])}getNextCollectionGroupToUpdate(e){return Le.resolve(null)}getMinOffset(e,n){return Le.resolve(es.min())}getMinOffsetFromCollectionGroup(e,n){return Le.resolve(es.min())}updateCollectionGroup(e,n,o){return Le.resolve()}updateIndexEntries(e,n){return Le.resolve()}}class bc{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new Jr(Hn.comparator),c=!u.has(o);return this.index[n]=u.add(o),c}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Jr(Hn.comparator)).toArray()}}new Uint8Array(0);class fa{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new fa(e,fa.DEFAULT_COLLECTION_PERCENTILE,fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}fa.DEFAULT_COLLECTION_PERCENTILE=10,fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fa.DEFAULT=new fa(41943040,fa.DEFAULT_COLLECTION_PERCENTILE,fa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fa.DISABLED=new fa(-1,0,0);class nl{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new nl(0)}static vn(){return new nl(-1)}}class Fp{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Sm{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.getBaseDocument(e,n,o))).next(u=>(null!==o&&ja(o.mutation,u,Ts.empty(),er.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,lr()).next(()=>o))}getLocalViewOfDocuments(e,n,o=lr()){const u=Uo();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(c=>{let f=Ku();return c.forEach((b,V)=>{f=f.insert(b,V.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const o=Uo();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,lr()))}populateOverlays(e,n,o){const u=[];return o.forEach(c=>{n.has(c)||u.push(c)}),this.documentOverlayCache.getOverlays(e,u).next(c=>{c.forEach((f,b)=>{n.set(f,b)})})}computeViews(e,n,o,u){let c=yo();const f=Yu(),b=Yu();return n.forEach((V,j)=>{const J=o.get(j.key);u.has(j.key)&&(void 0===J||J.mutation instanceof p)?c=c.insert(j.key,j):void 0!==J&&(f.set(j.key,J.mutation.getFieldMask()),ja(J.mutation,j,J.mutation.getFieldMask(),er.now()))}),this.recalculateAndSaveOverlays(e,c).next(V=>(V.forEach((j,J)=>f.set(j,J)),n.forEach((j,J)=>{var he;return b.set(j,new Fp(J,null!==(he=f.get(j))&&void 0!==he?he:null))}),b))}recalculateAndSaveOverlays(e,n){const o=Yu();let u=new Mn((f,b)=>f-b),c=lr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const b of f)b.keys().forEach(V=>{const j=n.get(V);if(null===j)return;let J=o.get(V)||Ts.empty();J=b.applyToLocalView(j,J),o.set(V,J);const he=(u.get(b.batchId)||lr()).add(V);u=u.insert(b.batchId,he)})}).next(()=>{const f=[],b=u.getReverseIterator();for(;b.hasNext();){const V=b.getNext(),j=V.key,J=V.value,he=Zu();J.forEach(ze=>{if(!c.has(ze)){const at=ad(n.get(ze),o.get(ze));null!==at&&he.set(ze,at),c=c.add(ze)}}),f.push(this.documentOverlayCache.saveOverlays(e,j,he))}return Le.waitFor(f)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return xt.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function Ea(i){return null!==i.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var u}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(c=>{const f=u-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-c.size):Le.resolve(Uo());let b=-1,V=c;return f.next(j=>Le.forEach(j,(J,he)=>(b<he.largestBatchId&&(b=he.largestBatchId),c.get(J)?Le.resolve():this.getBaseDocument(e,J,he).next(ze=>{V=V.insert(J,ze)}))).next(()=>this.populateOverlays(e,j,c)).next(()=>this.computeViews(e,V,j,lr())).next(J=>({batchId:b,changes:ud(J)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xt(n)).next(o=>{let u=Ku();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const u=n.collectionGroup;let c=Ku();return this.indexManager.getCollectionParents(e,u).next(f=>Le.forEach(f,b=>{const V=(j=n,J=b.child(u),new So(J,null,j.explicitOrderBy.slice(),j.filters.slice(),j.limit,j.limitType,j.startAt,j.endAt));var j,J;return this.getDocumentsMatchingCollectionQuery(e,V,o).next(j=>{j.forEach((J,he)=>{c=c.insert(J,he)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,o){let u;return this.remoteDocumentCache.getAllFromCollection(e,n.path,o).next(c=>(u=c,this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId))).next(c=>{c.forEach((b,V)=>{const j=V.getKey();null===u.get(j)&&(u=u.insert(j,wr.newInvalidDocument(j)))});let f=Ku();return u.forEach((b,V)=>{const j=c.get(b);void 0!==j&&ja(j.mutation,V,Ts.empty(),er.now()),bu(n,V)&&(f=f.insert(b,V))}),f})}getBaseDocument(e,n,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,n):Le.resolve(wr.newInvalidDocument(n))}}class Fl{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return Le.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var o;return this.Zn.set(n.id,{id:(o=n).id,version:o.version,createTime:vo(o.createTime)}),Le.resolve()}getNamedQuery(e,n){return Le.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,{name:(o=n).name,query:gd(o.bundledQuery),readTime:vo(o.readTime)}),Le.resolve();var o}}class Zh{constructor(){this.overlays=new Mn(xt.comparator),this.es=new Map}getOverlay(e,n){return Le.resolve(this.overlays.get(n))}getOverlays(e,n){const o=Uo();return Le.forEach(n,u=>this.getOverlay(e,u).next(c=>{null!==c&&o.set(u,c)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,c)=>{this.ue(e,n,c)}),Le.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.es.get(o);return void 0!==u&&(u.forEach(c=>this.overlays=this.overlays.remove(c)),this.es.delete(o)),Le.resolve()}getOverlaysForCollection(e,n,o){const u=Uo(),c=n.length+1,f=new xt(n.child("")),b=this.overlays.getIteratorFrom(f);for(;b.hasNext();){const V=b.getNext().value,j=V.getKey();if(!n.isPrefixOf(j.path))break;j.path.length===c&&V.largestBatchId>o&&u.set(V.getKey(),V)}return Le.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let c=new Mn((j,J)=>j-J);const f=this.overlays.getIterator();for(;f.hasNext();){const j=f.getNext().value;if(j.getKey().getCollectionGroup()===n&&j.largestBatchId>o){let J=c.get(j.largestBatchId);null===J&&(J=Uo(),c=c.insert(j.largestBatchId,J)),J.set(j.getKey(),j)}}const b=Uo(),V=c.getIterator();for(;V.hasNext()&&(V.getNext().value.forEach((j,J)=>b.set(j,J)),!(b.size()>=u)););return Le.resolve(b)}ue(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const f=this.es.get(u.largestBatchId).delete(o.key);this.es.set(u.largestBatchId,f)}this.overlays=this.overlays.insert(o.key,new Ec(n,o));let c=this.es.get(n);void 0===c&&(c=lr(),this.es.set(n,c)),this.es.set(n,c.add(o.key))}}class wd{constructor(){this.ns=new Jr(_o.ss),this.rs=new Jr(_o.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const o=new _o(e,n);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.cs(new _o(e,n))}hs(e,n){e.forEach(o=>this.removeReference(o,n))}ls(e){const n=new xt(new Hn([])),o=new _o(n,e),u=new _o(n,e+1),c=[];return this.rs.forEachInRange([o,u],f=>{this.cs(f),c.push(f.key)}),c}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new xt(new Hn([])),o=new _o(n,e),u=new _o(n,e+1);let c=lr();return this.rs.forEachInRange([o,u],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new _o(e,0),o=this.ns.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class _o{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return xt.comparator(e.key,n.key)||ln(e._s,n._s)}static os(e,n){return ln(e._s,n._s)||xt.comparator(e.key,n.key)}}class Yh{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Jr(_o.ss)}checkEmpty(e){return Le.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const c=this.ws;this.ws++;const f=new bp(c,n,o,u);this.mutationQueue.push(f);for(const b of u)this.gs=this.gs.add(new _o(b.key,c)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return Le.resolve(f)}lookupMutationBatch(e,n){return Le.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.ps(n+1),c=u<0?0:u;return Le.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Le.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new _o(n,0),u=new _o(n,Number.POSITIVE_INFINITY),c=[];return this.gs.forEachInRange([o,u],f=>{const b=this.ys(f._s);c.push(b)}),Le.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Jr(ln);return n.forEach(u=>{const c=new _o(u,0),f=new _o(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([c,f],b=>{o=o.add(b._s)})}),Le.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let c=o;xt.isDocumentKey(c)||(c=c.child(""));const f=new _o(new xt(c),0);let b=new Jr(ln);return this.gs.forEachWhile(V=>{const j=V.key.path;return!!o.isPrefixOf(j)&&(j.length===u&&(b=b.add(V._s)),!0)},f),Le.resolve(this.Is(b))}Is(e){const n=[];return e.forEach(o=>{const u=this.ys(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){K(0===this.Ts(n.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return Le.forEach(n.mutations,u=>{const c=new _o(u.key,n.batchId);return o=o.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,n){const o=new _o(n,0),u=this.gs.firstAfterOrEqual(o);return Le.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return Le.resolve()}Ts(e,n){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Am{constructor(e){this.Es=e,this.docs=new Mn(xt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),c=u?u.size:0,f=this.Es(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return Le.resolve(o?o.document.mutableCopy():wr.newInvalidDocument(n))}getEntries(e,n){let o=yo();return n.forEach(u=>{const c=this.docs.get(u);o=o.insert(u,c?c.document.mutableCopy():wr.newInvalidDocument(u))}),Le.resolve(o)}getAllFromCollection(e,n,o){let u=yo();const c=new xt(n.child("")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:b,value:{document:V}}=f.getNext();if(!n.isPrefixOf(b.path))break;b.path.length>n.length+1||Ka(Zr(V),o)<=0||(u=u.insert(V.key,V.mutableCopy()))}return Le.resolve(u)}getAllFromCollectionGroup(e,n,o,u){B()}As(e,n){return Le.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new Mm(this)}getSize(e){return Le.resolve(this.size)}}class Mm extends class qh{constructor(){this.changes=new mo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?Le.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(o)}),Le.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}class xm{constructor(e){this.persistence=e,this.Rs=new mo(n=>_a(n),ca),this.lastRemoteSnapshotVersion=cn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new wd,this.targetCount=0,this.vs=nl.Pn()}forEachTarget(e,n){return this.Rs.forEach((o,u)=>n(u)),Le.resolve()}getLastRemoteSnapshotVersion(e){return Le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Le.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.bs&&(this.bs=n),Le.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new nl(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,Le.resolve()}updateTargetData(e,n){return this.Dn(n),Le.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,Le.resolve()}removeTargets(e,n,o){let u=0;const c=[];return this.Rs.forEach((f,b)=>{b.sequenceNumber<=n&&null===o.get(b.targetId)&&(this.Rs.delete(f),c.push(this.removeMatchingKeysForTargetId(e,b.targetId)),u++)}),Le.waitFor(c).next(()=>u)}getTargetCount(e){return Le.resolve(this.targetCount)}getTargetData(e,n){const o=this.Rs.get(n)||null;return Le.resolve(o)}addMatchingKeys(e,n,o){return this.Ps.us(n,o),Le.resolve()}removeMatchingKeys(e,n,o){this.Ps.hs(n,o);const u=this.persistence.referenceDelegate,c=[];return u&&n.forEach(f=>{c.push(u.markPotentiallyOrphaned(e,f))}),Le.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),Le.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Ps.ds(n);return Le.resolve(o)}containsKey(e,n){return Le.resolve(this.Ps.containsKey(n))}}class Lp{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new zi(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new xm(this),this.indexManager=new Qo,this.remoteDocumentCache=new Am(o=>this.referenceDelegate.xs(o)),this.It=new vm(n),this.Ns=new Fl(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Zh,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Vs[e.toKey()];return o||(o=new Yh(n,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,o){L("MemoryPersistence","Starting transaction:",e);const u=new Nm(this.Ss.next());return this.referenceDelegate.ks(),o(u).next(c=>this.referenceDelegate.Os(u).next(()=>c)).toPromise().then(c=>(u.raiseOnCommittedEvent(),c))}Ms(e,n){return Le.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,n)))}}class Nm extends class Xs{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class Id{constructor(e){this.persistence=e,this.Fs=new wd,this.$s=null}static Bs(e){return new Id(e)}get Ls(){if(this.$s)return this.$s;throw B()}addReference(e,n,o){return this.Fs.addReference(o,n),this.Ls.delete(o.toString()),Le.resolve()}removeReference(e,n,o){return this.Fs.removeReference(o,n),this.Ls.add(o.toString()),Le.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),Le.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(u=>this.Ls.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(c=>this.Ls.add(c.toString()))}).next(()=>o.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Le.forEach(this.Ls,o=>{const u=xt.fromPath(o);return this.Us(e,u).next(c=>{c||n.removeEntry(u,cn.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(o=>{o?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return Le.or([()=>Le.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}class Sd{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Si=o,this.Di=u}static Ci(e,n){let o=lr(),u=lr();for(const c of n.docChanges)switch(c.type){case 0:o=o.add(c.doc.key);break;case 1:u=u.add(c.doc.key)}return new Sd(e,n.fromCache,o,u)}}class xu{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,o,u){return this.ki(e,n).next(c=>c||this.Oi(e,n,u,o)).next(c=>c||this.Mi(e,n))}ki(e,n){if(xa(n))return Le.resolve(null);let o=Vo(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=yl(n,null,"F"),o=Vo(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(c=>{const f=lr(...c);return this.Ni.getDocuments(e,f).next(b=>this.indexManager.getMinOffset(e,o).next(V=>{const j=this.Fi(n,b);return this.$i(n,j,f,V.readTime)?this.ki(e,yl(n,null,"F")):this.Bi(e,j,n,V)}))})))}Oi(e,n,o,u){return xa(n)||u.isEqual(cn.min())?this.Mi(e,n):this.Ni.getDocuments(e,o).next(c=>{const f=this.Fi(n,c);return this.$i(n,f,o,u)?this.Mi(e,n):(Ds()<=me.in.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Du(n)),this.Bi(e,f,n,function Ji(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=cn.fromTimestamp(1e9===o?new er(n+1,0):new er(n,o));return new es(u,xt.empty(),e)}(u,-1)))})}Fi(e,n){let o=new Jr(ac(e));return n.forEach((u,c)=>{bu(e,c)&&(o=o.add(c))}),o}$i(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const c="F"===e.limitType?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(u)>0)}Mi(e,n){return Ds()<=me.in.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",Du(n)),this.Ni.getDocumentsMatchingQuery(e,n,es.min())}Bi(e,n,o,u){return this.Ni.getDocumentsMatchingQuery(e,o,u).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}class Up{constructor(e,n,o,u){this.persistence=e,this.Li=n,this.It=u,this.Ui=new Mn(ln),this.qi=new mo(c=>_a(c),ca),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sm(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function Bp(i,e){return $p.apply(this,arguments)}function $p(){return $p=(0,y.Z)(function*(i,e){const n=ee(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(c=>(u=c,n.Qi(e),n.mutationQueue.getAllMutationBatches(o))).next(c=>{const f=[],b=[];let V=lr();for(const j of u){f.push(j.batchId);for(const J of j.mutations)V=V.add(J.key)}for(const j of c){b.push(j.batchId);for(const J of j.mutations)V=V.add(J.key)}return n.localDocuments.getDocuments(o,V).next(j=>({ji:j,removedBatchIds:f,addedBatchIds:b}))})})}),$p.apply(this,arguments)}function Ad(i,e){const n=ee(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),c=n.Gi.newChangeBuffer({trackRemovals:!0});return function(f,b,V,j){const J=V.batch,he=J.keys();let ze=Le.resolve();return he.forEach(at=>{ze=ze.next(()=>j.getEntry(b,at)).next(pt=>{const Zt=V.docVersions.get(at);K(null!==Zt),pt.version.compareTo(Zt)<0&&(J.applyToRemoteDocument(pt,V),pt.isValidDocument()&&(pt.setReadTime(V.commitVersion),j.addEntry(pt)))})}),ze.next(()=>f.mutationQueue.removeMutationBatch(b,J))}(n,o,e,c).next(()=>c.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(f){let b=lr();for(let V=0;V<f.mutationResults.length;++V)f.mutationResults[V].transformResults.length>0&&(b=b.add(f.batch.mutations[V].key));return b}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}function jp(i){const e=ee(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function Hp(i,e){const n=ee(i),o=e.snapshotVersion;let u=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.Gi.newChangeBuffer({trackRemovals:!0});u=n.Ui;const b=[];e.targetChanges.forEach((J,he)=>{const ze=u.get(he);if(!ze)return;b.push(n.Cs.removeMatchingKeys(c,J.removedDocuments,he).next(()=>n.Cs.addMatchingKeys(c,J.addedDocuments,he)));let at=ze.withSequenceNumber(c.currentSequenceNumber);var pt,Zt,dn;e.targetMismatches.has(he)?at=at.withResumeToken(oi.EMPTY_BYTE_STRING,cn.min()).withLastLimboFreeSnapshotVersion(cn.min()):J.resumeToken.approximateByteSize()>0&&(at=at.withResumeToken(J.resumeToken,o)),u=u.insert(he,at),Zt=at,dn=J,(0===(pt=ze).resumeToken.approximateByteSize()||Zt.snapshotVersion.toMicroseconds()-pt.snapshotVersion.toMicroseconds()>=3e8||dn.addedDocuments.size+dn.modifiedDocuments.size+dn.removedDocuments.size>0)&&b.push(n.Cs.updateTargetData(c,at))});let V=yo(),j=lr();if(e.documentUpdates.forEach(J=>{e.resolvedLimboDocuments.has(J)&&b.push(n.persistence.referenceDelegate.updateLimboDocument(c,J))}),b.push(function Xh(i,e,n){let o=lr(),u=lr();return n.forEach(c=>o=o.add(c)),e.getEntries(i,o).next(c=>{let f=yo();return n.forEach((b,V)=>{const j=c.get(b);V.isFoundDocument()!==j.isFoundDocument()&&(u=u.add(b)),V.isNoDocument()&&V.version.isEqual(cn.min())?(e.removeEntry(b,V.readTime),f=f.insert(b,V)):!j.isValidDocument()||V.version.compareTo(j.version)>0||0===V.version.compareTo(j.version)&&j.hasPendingWrites?(e.addEntry(V),f=f.insert(b,V)):L("LocalStore","Ignoring outdated watch update for ",b,". Current version:",j.version," Watch version:",V.version)}),{Wi:f,zi:u}})}(c,f,e.documentUpdates).next(J=>{V=J.Wi,j=J.zi})),!o.isEqual(cn.min())){const J=n.Cs.getLastRemoteSnapshotVersion(c).next(he=>n.Cs.setTargetsMetadata(c,c.currentSequenceNumber,o));b.push(J)}return Le.waitFor(b).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,V,j)).next(()=>V)}).then(c=>(n.Ui=u,c))}function Gp(i,e){const n=ee(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Nu(i,e){const n=ee(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.Cs.getTargetData(o,e).next(c=>c?(u=c,Le.resolve(u)):n.Cs.allocateTargetId(o).next(f=>(u=new Xu(e,f,0,o.currentSequenceNumber),n.Cs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.Ui.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(o.targetId,o),n.qi.set(e,o.targetId)),o})}function il(i,e,n){return Ll.apply(this,arguments)}function Ll(){return Ll=(0,y.Z)(function*(i,e,n){const o=ee(i),u=o.Ui.get(e),c=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",c,f=>o.persistence.referenceDelegate.removeTarget(f,u)))}catch(f){if(!Ko(f))throw f;L("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}o.Ui=o.Ui.remove(e),o.qi.delete(u.target)}),Ll.apply(this,arguments)}function sl(i,e,n){const o=ee(i);let u=cn.min(),c=lr();return o.persistence.runTransaction("Execute query","readonly",f=>function(b,V,j){const J=ee(b),he=J.qi.get(j);return void 0!==he?Le.resolve(J.Ui.get(he)):J.Cs.getTargetData(V,j)}(o,f,Vo(e)).next(b=>{if(b)return u=b.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(f,b.targetId).next(V=>{c=V})}).next(()=>o.Li.getDocumentsMatchingQuery(f,e,n?u:cn.min(),n?c:lr())).next(b=>(function ef(i,e,n){let o=i.Ki.get(e)||cn.min();n.forEach((u,c)=>{c.readTime.compareTo(o)>0&&(o=c.readTime)}),i.Ki.set(e,o)}(o,function id(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),b),{documents:b,Hi:c})))}class rf{constructor(){this.activeTargetIds=Cl()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qp{constructor(){this.Lr=new rf,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,o){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new rf,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Pm{qr(e){}shutdown(){}}class Oa{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){L("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){L("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Om={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Kp{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class km extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,o,u,c){const f=this.ho(e,n);L("RestConnection","Sending: ",f,o);const b={};return this.lo(b,u,c),this.fo(e,f,b,o).then(V=>(L("RestConnection","Received: ",V),V),V=>{throw w("RestConnection",`${e} failed with error: `,V,"url: ",f,"request:",o),V})}_o(e,n,o,u,c,f){return this.ao(e,n,o,u,c)}lo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+xi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,c)=>e[c]=u),o&&o.headers.forEach((u,c)=>e[c]=u)}ho(e,n){return`${this.oo}/v1/${n}:${Om[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,o,u){return new Promise((c,f)=>{const b=new ho;b.setWithCredentials(!0),b.listenOnce(Cr.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case or.NO_ERROR:const j=b.getResponseJson();L("Connection","XHR received:",JSON.stringify(j)),c(j);break;case or.TIMEOUT:L("Connection",'RPC "'+e+'" timed out'),f(new ge(te.DEADLINE_EXCEEDED,"Request time out"));break;case or.HTTP_ERROR:const J=b.getStatus();if(L("Connection",'RPC "'+e+'" failed with status:',J,"response text:",b.getResponseText()),J>0){const he=b.getResponseJson().error;if(he&&he.status&&he.message){const ze=function(at){const pt=at.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(pt)>=0?pt:te.UNKNOWN}(he.status);f(new ge(ze,he.message))}else f(new ge(te.UNKNOWN,"Server responded with status "+b.getStatus()))}else f(new ge(te.UNAVAILABLE,"Connection failed."));break;default:B()}}finally{L("Connection",'RPC "'+e+'" completed.')}});const V=JSON.stringify(u);b.send(n,"POST",V,o,15)})}wo(e,n,o){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=zt(),f=gr(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(b.xmlHttpFactory=new mr({})),this.lo(b.initMessageHeaders,n,o),b.encodeInitMessageHeaders=!0;const V=u.join("");L("Connection","Creating WebChannel: "+V,b);const j=c.createWebChannel(V,b);let J=!1,he=!1;const ze=new Kp({Hr:pt=>{he?L("Connection","Not sending because WebChannel is closed:",pt):(J||(L("Connection","Opening WebChannel transport."),j.open(),J=!0),L("Connection","WebChannel sending:",pt),j.send(pt))},Jr:()=>j.close()}),at=(pt,Zt,dn)=>{pt.listen(Zt,ai=>{try{dn(ai)}catch(Ni){setTimeout(()=>{throw Ni},0)}})};return at(j,Fn.EventType.OPEN,()=>{he||L("Connection","WebChannel transport opened.")}),at(j,Fn.EventType.CLOSE,()=>{he||(he=!0,L("Connection","WebChannel transport closed"),ze.io())}),at(j,Fn.EventType.ERROR,pt=>{he||(he=!0,w("Connection","WebChannel transport errored:",pt),ze.io(new ge(te.UNAVAILABLE,"The operation could not be completed")))}),at(j,Fn.EventType.MESSAGE,pt=>{var Zt;if(!he){const dn=pt.data[0];K(!!dn);const ai=dn,Ni=ai.error||(null===(Zt=ai[0])||void 0===Zt?void 0:Zt.error);if(Ni){L("Connection","WebChannel received error:",Ni);const di=Ni.status;let Ms=function(hi){const wo=qt[hi];if(void 0!==wo)return Ao(wo)}(di),Di=Ni.message;void 0===Ms&&(Ms=te.INTERNAL,Di="Unknown error status: "+di+" with message "+Ni.message),he=!0,ze.io(new ge(Ms,Di)),j.close()}else L("Connection","WebChannel received:",dn),ze.ro(dn)}}),at(f,ar.STAT_EVENT,pt=>{pt.stat===Zn.PROXY?L("Connection","Detected buffering proxy"):pt.stat===Zn.NOPROXY&&L("Connection","Detected no buffering proxy")}),setTimeout(()=>{ze.so()},0),ze}}function Od(){return typeof document<"u"?document:null}function Rc(i){return new sm(i,!0)}class kd{constructor(e,n,o=1e3,u=1.5,c=6e4){this.Hs=e,this.timerId=n,this.mo=o,this.yo=u,this.po=c,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),u=Math.max(0,n-o);u>0&&L("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class Yp{constructor(e,n,o,u,c,f,b,V){this.Hs=e,this.vo=o,this.Vo=u,this.So=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=b,this.listener=V,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new kd(e,n)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,y.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,y.Z)(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,n){var o=this;return(0,y.Z)(function*(){o.Uo(),o.qo(),o.No.cancel(),o.Do++,4!==e?o.No.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(g(n.toString()),g("Using maximum backoff delay to prevent overloading the backend."),o.No.Ao()):n&&n.code===te.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Ko(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(n)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Do===n&&this.Qo(o,u)},o=>{e(()=>{const u=new ge(te.UNKNOWN,"Fetching auth token failed: "+o.message);return this.jo(u)})})}Qo(e,n){const o=this.Go(this.Do);this.stream=this.Wo(e,n),this.stream.Yr(()=>{o(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{o(()=>this.jo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Mo(){var e=this;this.state=5,this.No.Ro((0,y.Z)(function*(){e.state=0,e.start()}))}jo(e){return L("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return n=>{this.Hs.enqueueAndForget(()=>this.Do===e?n():(L("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fm extends Yp{constructor(e,n,o,u,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,f),this.It=c}Wo(e,n){return this.So.wo("Listen",e,n)}onMessage(e){this.No.reset();const n=function bv(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(V=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===V?1:"REMOVE"===V?2:"CURRENT"===V?3:"RESET"===V?4:B(),u=e.targetChange.targetIds||[],c=function(V,j){return V.gt?(K(void 0===j||"string"==typeof j),oi.fromBase64String(j||"")):(K(void 0===j||j instanceof Uint8Array),oi.fromUint8Array(j||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,b=f&&function(V){const j=void 0===V.code?te.UNKNOWN:Ao(V.code);return new ge(j,V.message||"")}(f);n=new cd(o,u,c,b||null)}else if("documentChange"in e){const o=e.documentChange,u=Ra(i,o.document.name),c=vo(o.document.updateTime),f=new Wi({mapValue:{fields:o.document.fields}}),b=wr.newFoundDocument(u,c,f);n=new Qu(o.targetIds||[],o.removedTargetIds||[],b.key,b)}else if("documentDelete"in e){const o=e.documentDelete,u=Ra(i,o.document),c=o.readTime?vo(o.readTime):cn.min(),f=wr.newNoDocument(u,c);n=new Qu([],o.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const o=e.documentRemove,u=Ra(i,o.document);n=new Qu([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return B();{const o=e.filter,c=new Jt(o.count||0);n=new sp(o.targetId,c)}}var V;return n}(this.It,e),o=function(u){if(!("targetChange"in u))return cn.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?cn.min():c.readTime?vo(c.readTime):cn.min()}(e);return this.listener.zo(n,o)}Ho(e){const n={};n.database=Sl(this.It),n.addTarget=function(u,c){let f;const b=c.target;return f=Ya(b)?{documents:kh(u,b)}:{query:du(u,b)},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?f.resumeToken=cp(u,c.resumeToken):c.snapshotVersion.compareTo(cn.min())>0&&(f.readTime=pc(u,c.snapshotVersion.toTimestamp())),f}(this.It,e);const o=function Fh(i,e){const n=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return B()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Lo(n)}Jo(e){const n={};n.database=Sl(this.It),n.removeTarget=e,this.Lo(n)}}class Lm extends Yp{constructor(e,n,o,u,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,f),this.It=c,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,n){return this.So.wo("Write",e,n)}onMessage(e){if(K(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const n=function fp(i,e){return i&&i.length>0?(K(void 0!==e),i.map(n=>function(o,u){let c=vo(o.updateTime?o.updateTime:u);return c.isEqual(cn.min())&&(c=vo(u)),new Ah(c,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=vo(e.commitTime);return this.listener.tu(o,n)}return K(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Sl(this.It),this.Lo(e)}Zo(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>function gc(i,e){let n;if(e instanceof h)n={update:Rh(i,e.key,e.value)};else if(e instanceof Fe)n={delete:cu(i,e.key)};else if(e instanceof p)n={update:Rh(i,e.key,e.data),updateMask:lm(e.fieldMask)};else{if(!(e instanceof ft))return B();n={verify:cu(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,c){const f=c.transform;if(f instanceof ha)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof au)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Cu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof uu)return{fieldPath:c.field.canonicalString(),increment:f.yt};throw B()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:om(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:B()),n;var u}(this.It,o))};this.Lo(n)}}class cr extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.So=o,this.It=u,this.su=!1}iu(){if(this.su)throw new ge(te.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.So.ao(e,n,o,u,c)).catch(u=>{throw"FirebaseError"===u.name?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(te.UNKNOWN,u.toString())})}_o(e,n,o,u){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.So._o(e,n,o,c,f,u)).catch(c=>{throw"FirebaseError"===c.name?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(te.UNKNOWN,c.toString())})}terminate(){this.su=!0}}class Xp{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(g(n),this.uu=!1):L("OnlineStateTracker",n)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class Vm{constructor(e,n,o,u,c){var f=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=c,this.gu.qr(b=>{o.enqueueAndForget((0,y.Z)(function*(){var V;mu(f)&&(L("RemoteStore","Restarting streams for network reachability change."),yield(V=(0,y.Z)(function*(j){const J=ee(j);J.wu.add(4),yield Bl(J),J.yu.set("Unknown"),J.wu.delete(4),yield Pc(J)}),function(j){return V.apply(this,arguments)})(f))}))}),this.yu=new Xp(o,u)}}function Pc(i){return Ld.apply(this,arguments)}function Ld(){return Ld=(0,y.Z)(function*(i){if(mu(i))for(const e of i.mu)yield e(!0)}),Ld.apply(this,arguments)}function Bl(i){return Vd.apply(this,arguments)}function Vd(){return Vd=(0,y.Z)(function*(i){for(const e of i.mu)yield e(!1)}),Vd.apply(this,arguments)}function Ud(i,e){const n=ee(i);n._u.has(e.targetId)||(n._u.set(e.targetId,e),gu(n)?Bd(n):$l(n).Oo()&&Jp(n,e))}function Oc(i,e){const n=ee(i),o=$l(n);n._u.delete(e),o.Oo()&&sf(n,e),0===n._u.size&&(o.Oo()?o.$o():mu(n)&&n.yu.set("Unknown"))}function Jp(i,e){i.pu.Mt(e.targetId),$l(i).Ho(e)}function sf(i,e){i.pu.Mt(e),$l(i).Jo(e)}function Bd(i){i.pu=new js({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),se:e=>i._u.get(e)||null}),$l(i).start(),i.yu.cu()}function gu(i){return mu(i)&&!$l(i).ko()&&i._u.size>0}function mu(i){return 0===ee(i).wu.size}function $d(i){i.pu=void 0}function af(i){return uf.apply(this,arguments)}function uf(){return uf=(0,y.Z)(function*(i){i._u.forEach((e,n)=>{Jp(i,e)})}),uf.apply(this,arguments)}function xv(i,e){return eg.apply(this,arguments)}function eg(){return eg=(0,y.Z)(function*(i,e){$d(i),gu(i)?(i.yu.lu(e),Bd(i)):i.yu.set("Unknown")}),eg.apply(this,arguments)}function Nv(i,e,n){return lf.apply(this,arguments)}function lf(){return lf=(0,y.Z)(function*(i,e,n){if(i.yu.set("Online"),e instanceof cd&&2===e.state&&e.cause)try{yield(o=(0,y.Z)(function*(u,c){const f=c.cause;for(const b of c.targetIds)u._u.has(b)&&(yield u.remoteSyncer.rejectListen(b,f),u._u.delete(b),u.pu.removeTarget(b))}),function(u,c){return o.apply(this,arguments)})(i,e)}catch(o){L("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield kc(i,o)}else if(e instanceof Qu?i.pu.Gt(e):e instanceof sp?i.pu.Yt(e):i.pu.Wt(e),!n.isEqual(cn.min()))try{const o=yield jp(i.localStore);n.compareTo(o)>=0&&(yield function(u,c){const f=u.pu.te(c);return f.targetChanges.forEach((b,V)=>{if(b.resumeToken.approximateByteSize()>0){const j=u._u.get(V);j&&u._u.set(V,j.withResumeToken(b.resumeToken,c))}}),f.targetMismatches.forEach(b=>{const V=u._u.get(b);if(!V)return;u._u.set(b,V.withResumeToken(oi.EMPTY_BYTE_STRING,V.snapshotVersion)),sf(u,b);const j=new Xu(V.target,b,1,V.sequenceNumber);Jp(u,j)}),u.remoteSyncer.applyRemoteEvent(f)}(i,n))}catch(o){L("RemoteStore","Failed to raise snapshot:",o),yield kc(i,o)}var o}),lf.apply(this,arguments)}function kc(i,e,n){return tg.apply(this,arguments)}function tg(){return tg=(0,y.Z)(function*(i,e,n){if(!Ko(e))throw e;i.wu.add(1),yield Bl(i),i.yu.set("Offline"),n||(n=()=>jp(i.localStore)),i.asyncQueue.enqueueRetryable((0,y.Z)(function*(){L("RemoteStore","Retrying IndexedDB access"),yield n(),i.wu.delete(1),yield Pc(i)}))}),tg.apply(this,arguments)}function ng(i,e){return e().catch(n=>kc(i,n,e))}function Ha(i){return cf.apply(this,arguments)}function cf(){return cf=(0,y.Z)(function*(i){const e=ee(i),n=al(e);let o=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;rg(e);)try{const u=yield Gp(e.localStore,o);if(null===u){0===e.du.length&&n.$o();break}o=u.batchId,jd(e,u)}catch(u){yield kc(e,u)}ig(e)&&df(e)}),cf.apply(this,arguments)}function rg(i){return mu(i)&&i.du.length<10}function jd(i,e){i.du.push(e);const n=al(i);n.Oo()&&n.Xo&&n.Zo(e.mutations)}function ig(i){return mu(i)&&!al(i).ko()&&i.du.length>0}function df(i){al(i).start()}function Um(i){return hf.apply(this,arguments)}function hf(){return hf=(0,y.Z)(function*(i){al(i).nu()}),hf.apply(this,arguments)}function Bm(i){return ff.apply(this,arguments)}function ff(){return ff=(0,y.Z)(function*(i){const e=al(i);for(const n of i.du)e.Zo(n.mutations)}),ff.apply(this,arguments)}function $m(i,e,n){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,y.Z)(function*(i,e,n){const o=i.du.shift(),u=Cp.from(o,e,n);yield ng(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Ha(i)}),Hd.apply(this,arguments)}function jm(i,e){return Gd.apply(this,arguments)}function Gd(){return Gd=(0,y.Z)(function*(i,e){var n;e&&al(i).Xo&&(yield(n=(0,y.Z)(function*(o,u){if(zr(c=u.code)&&c!==te.ABORTED){const f=o.du.shift();al(o).Fo(),yield ng(o,()=>o.remoteSyncer.rejectFailedWrite(f.batchId,u)),yield Ha(o)}var c}),function(o,u){return n.apply(this,arguments)})(i,e)),ig(i)&&df(i)}),Gd.apply(this,arguments)}function pf(i,e){return Fc.apply(this,arguments)}function Fc(){return Fc=(0,y.Z)(function*(i,e){const n=ee(i);n.asyncQueue.verifyOperationInProgress(),L("RemoteStore","RemoteStore received new credentials");const o=mu(n);n.wu.add(3),yield Bl(n),o&&n.yu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.wu.delete(3),yield Pc(n)}),Fc.apply(this,arguments)}function Lc(){return Lc=(0,y.Z)(function*(i,e){const n=ee(i);e?(n.wu.delete(2),yield Pc(n)):e||(n.wu.add(2),yield Bl(n),n.yu.set("Unknown"))}),Lc.apply(this,arguments)}function $l(i){return i.Iu||(i.Iu=function(e,n,o){const u=ee(e);return u.iu(),new Fm(n,u.So,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:af.bind(null,i),Zr:xv.bind(null,i),zo:Nv.bind(null,i)}),i.mu.push(function(){var e=(0,y.Z)(function*(n){n?(i.Iu.Fo(),gu(i)?Bd(i):i.yu.set("Unknown")):(yield i.Iu.stop(),$d(i))});return function(n){return e.apply(this,arguments)}}())),i.Iu}function al(i){return i.Tu||(i.Tu=function(e,n,o){const u=ee(e);return u.iu(),new Lm(n,u.So,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:Um.bind(null,i),Zr:jm.bind(null,i),eu:Bm.bind(null,i),tu:$m.bind(null,i)}),i.mu.push(function(){var e=(0,y.Z)(function*(n){n?(i.Tu.Fo(),yield Ha(i)):(yield i.Tu.stop(),i.du.length>0&&(L("RemoteStore",`Stopping write stream with ${i.du.length} pending writes`),i.du=[]))});return function(n){return e.apply(this,arguments)}}())),i.Tu}class Ru{constructor(e,n,o,u,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=c,this.deferred=new bt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,n,o,u,c){const f=Date.now()+o,b=new Ru(e,n,f,u,c);return b.start(o),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ge(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ul(i,e){if(g("AsyncQueue",`${e}: ${i}`),Ko(i))return new ge(te.UNAVAILABLE,`${e}: ${i}`);throw i}class ll{constructor(e){this.comparator=e?(n,o)=>e(n,o)||xt.comparator(n.key,o.key):(n,o)=>xt.comparator(n.key,o.key),this.keyedMap=Ku(),this.sortedSet=new Mn(this.comparator)}static emptySet(e){return new ll(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ll)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,c=o.getNext().key;if(!u.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new ll;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class Vc{constructor(){this.Eu=new Mn(xt.comparator)}track(e){const n=e.doc.key,o=this.Eu.get(n);o?0!==e.type&&3===o.type?this.Eu=this.Eu.insert(n,e):3===e.type&&1!==o.type?this.Eu=this.Eu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Eu=this.Eu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Eu=this.Eu.remove(n):1===e.type&&2===o.type?this.Eu=this.Eu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):B():this.Eu=this.Eu.insert(n,e)}Au(){const e=[];return this.Eu.inorderTraversal((n,o)=>{e.push(o)}),e}}class $o{constructor(e,n,o,u,c,f,b,V,j){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=b,this.excludesMetadataChanges=V,this.hasCachedResults=j}static fromInitialDocuments(e,n,o,u,c){const f=[];return n.forEach(b=>{f.push({type:0,doc:b})}),new $o(e,n,ll.emptySet(n),f,o,u,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class og{constructor(){this.Ru=void 0,this.listeners=[]}}class Hm{constructor(){this.queries=new mo(e=>rd(e),Gu),this.onlineState="Unknown",this.bu=new Set}}function Ga(){return Ga=(0,y.Z)(function*(i,e){const n=ee(i),o=e.query;let u=!1,c=n.queries.get(o);if(c||(u=!0,c=new og),u)try{c.Ru=yield n.onListen(o)}catch(f){const b=ul(f,`Initialization of query '${Du(e.query)}' failed`);return void e.onError(b)}n.queries.set(o,c),c.listeners.push(e),e.Pu(n.onlineState),c.Ru&&e.vu(c.Ru)&&Wd(n)}),Ga.apply(this,arguments)}function zd(){return zd=(0,y.Z)(function*(i,e){const n=ee(i),o=e.query;let u=!1;const c=n.queries.get(o);if(c){const f=c.listeners.indexOf(e);f>=0&&(c.listeners.splice(f,1),u=0===c.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),zd.apply(this,arguments)}function gf(i,e){const n=ee(i);let o=!1;for(const u of e){const f=n.queries.get(u.query);if(f){for(const b of f.listeners)b.vu(u)&&(o=!0);f.Ru=u}}o&&Wd(n)}function Rv(i,e,n){const o=ee(i),u=o.queries.get(e);if(u)for(const c of u.listeners)c.onError(n);o.queries.delete(e)}function Wd(i){i.bu.forEach(e=>{e.next()})}class ag{constructor(e,n,o){this.query=e,this.Vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=o||{}}vu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new $o(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),n=!0):this.xu(e,this.onlineState)&&(this.Nu(e),n=!0),this.Du=e,n}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let n=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),n=!0),n}xu(e,n){return!e.fromCache||(!this.options.ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=$o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}class Zd{constructor(e){this.key=e}}class Gm{constructor(e){this.key=e}}class ug{constructor(e,n){this.query=e,this.Uu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=lr(),this.mutatedKeys=lr(),this.Gu=ac(e),this.Qu=new ll(this.Gu)}get ju(){return this.Uu}Wu(e,n){const o=n?n.zu:new Vc,u=n?n.Qu:this.Qu;let c=n?n.mutatedKeys:this.mutatedKeys,f=u,b=!1;const V="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,j="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((J,he)=>{const ze=u.get(J),at=bu(this.query,he)?he:null,pt=!!ze&&this.mutatedKeys.has(ze.key),Zt=!!at&&(at.hasLocalMutations||this.mutatedKeys.has(at.key)&&at.hasCommittedMutations);let dn=!1;ze&&at?ze.data.isEqual(at.data)?pt!==Zt&&(o.track({type:3,doc:at}),dn=!0):this.Hu(ze,at)||(o.track({type:2,doc:at}),dn=!0,(V&&this.Gu(at,V)>0||j&&this.Gu(at,j)<0)&&(b=!0)):!ze&&at?(o.track({type:0,doc:at}),dn=!0):ze&&!at&&(o.track({type:1,doc:ze}),dn=!0,(V||j)&&(b=!0)),dn&&(at?(f=f.add(at),c=Zt?c.add(J):c.delete(J)):(f=f.delete(J),c=c.delete(J)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const J="F"===this.query.limitType?f.last():f.first();f=f.delete(J.key),c=c.delete(J.key),o.track({type:1,doc:J})}return{Qu:f,zu:o,$i:b,mutatedKeys:c}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const c=e.zu.Au();c.sort((j,J)=>function(he,ze){const at=pt=>{switch(pt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return B()}};return at(he)-at(ze)}(j.type,J.type)||this.Gu(j.doc,J.doc)),this.Ju(o);const f=n?this.Yu():[],b=0===this.Ku.size&&this.current?1:0,V=b!==this.qu;return this.qu=b,0!==c.length||V?{snapshot:new $o(this.query,e.Qu,u,c,e.mutatedKeys,0===b,V,!1,!!o&&o.resumeToken.approximateByteSize()>0),Xu:f}:{Xu:f}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Vc,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=lr(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const n=[];return e.forEach(o=>{this.Ku.has(o)||n.push(new Gm(o))}),this.Ku.forEach(o=>{e.has(o)||n.push(new Zd(o))}),n}tc(e){this.Uu=e.Hi,this.Ku=lr();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return $o.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class zm{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class Wm{constructor(e){this.key=e,this.nc=!1}}class qm{constructor(e,n,o,u,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.sc={},this.ic=new mo(b=>rd(b),Gu),this.rc=new Map,this.oc=new Set,this.uc=new Mn(xt.comparator),this.cc=new Map,this.ac=new wd,this.hc={},this.lc=new Map,this.fc=nl.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function lg(i,e){return cg.apply(this,arguments)}function cg(){return cg=(0,y.Z)(function*(i,e){const n=Sf(i);let o,u;const c=n.ic.get(e);if(c)o=c.targetId,n.sharedClientState.addLocalQueryTarget(o),u=c.view.ec();else{const f=yield Nu(n.localStore,Vo(e));n.isPrimaryClient&&Ud(n.remoteStore,f);const b=n.sharedClientState.addLocalQueryTarget(f.targetId);o=f.targetId,u=yield yf(n,e,o,"current"===b,f.resumeToken)}return u}),cg.apply(this,arguments)}function yf(i,e,n,o,u){return dg.apply(this,arguments)}function dg(){return dg=(0,y.Z)(function*(i,e,n,o,u){i._c=(he,ze,at)=>{return(pt=(0,y.Z)(function*(Zt,dn,ai,Ni){let di=dn.view.Wu(ai);di.$i&&(di=yield sl(Zt.localStore,dn.query,!1).then(({documents:hi})=>dn.view.Wu(hi,di)));const Ms=Ni&&Ni.targetChanges.get(dn.targetId),Di=dn.view.applyChanges(di,Zt.isPrimaryClient,Ms);return Xd(Zt,dn.targetId,Di.Xu),Di.snapshot}),function(Zt,dn,ai,Ni){return pt.apply(this,arguments)})(i,he,ze,at);var pt};const c=yield sl(i.localStore,e,!0),f=new ug(e,c.Hi),b=f.Wu(c.documents),V=Tl.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState,u),j=f.applyChanges(b,i.isPrimaryClient,V);Xd(i,n,j.Xu);const J=new zm(e,n,f);return i.ic.set(e,J),i.rc.has(n)?i.rc.get(n).push(e):i.rc.set(n,[e]),j.snapshot}),dg.apply(this,arguments)}function hg(i,e){return Yd.apply(this,arguments)}function Yd(){return Yd=(0,y.Z)(function*(i,e){const n=ee(i),o=n.ic.get(e),u=n.rc.get(o.targetId);if(u.length>1)return n.rc.set(o.targetId,u.filter(c=>!Gu(c,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield il(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Oc(n.remoteStore,o.targetId),cl(n,o.targetId)}).catch(vi))):(cl(n,o.targetId),yield il(n.localStore,o.targetId,!0))}),Yd.apply(this,arguments)}function jc(){return jc=(0,y.Z)(function*(i,e,n){const o=rh(i);try{const u=yield function(c,f){const b=ee(c),V=er.now(),j=f.reduce((ze,at)=>ze.add(at.key),lr());let J,he;return b.persistence.runTransaction("Locally write mutations","readwrite",ze=>{let at=yo(),pt=lr();return b.Gi.getEntries(ze,j).next(Zt=>{at=Zt,at.forEach((dn,ai)=>{ai.isValidDocument()||(pt=pt.add(dn))})}).next(()=>b.localDocuments.getOverlayedDocuments(ze,at)).next(Zt=>{J=Zt;const dn=[];for(const ai of f){const Ni=Mh(ai,J.get(ai.key).overlayedDocument);null!=Ni&&dn.push(new p(ai.key,Ni,Yo(Ni.value.mapValue),Vi.exists(!0)))}return b.mutationQueue.addMutationBatch(ze,V,dn,f)}).next(Zt=>{he=Zt;const dn=Zt.applyToLocalDocumentSet(J,pt);return b.documentOverlayCache.saveOverlays(ze,Zt.batchId,dn)})}).then(()=>({batchId:he.batchId,changes:ud(J)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(c,f,b){let V=c.hc[c.currentUser.toKey()];V||(V=new Mn(ln)),V=V.insert(f,b),c.hc[c.currentUser.toKey()]=V}(o,u.batchId,n),yield jo(o,u.changes),yield Ha(o.remoteStore)}catch(u){const c=ul(u,"Failed to persist write");n.reject(c)}}),jc.apply(this,arguments)}function Zm(i,e){return fg.apply(this,arguments)}function fg(){return fg=(0,y.Z)(function*(i,e){const n=ee(i);try{const o=yield Hp(n.localStore,e);e.targetChanges.forEach((u,c)=>{const f=n.cc.get(c);f&&(K(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?f.nc=!0:u.modifiedDocuments.size>0?K(f.nc):u.removedDocuments.size>0&&(K(f.nc),f.nc=!1))}),yield jo(n,o,e)}catch(o){yield vi(o)}}),fg.apply(this,arguments)}function Ym(i,e,n){const o=ee(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.ic.forEach((c,f)=>{const b=f.view.Pu(e);b.snapshot&&u.push(b.snapshot)}),function(c,f){const b=ee(c);b.onlineState=f;let V=!1;b.queries.forEach((j,J)=>{for(const he of J.listeners)he.Pu(f)&&(V=!0)}),V&&Wd(b)}(o.eventManager,e),u.length&&o.sc.zo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Pv(i,e,n){return pg.apply(this,arguments)}function pg(){return pg=(0,y.Z)(function*(i,e,n){const o=ee(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.cc.get(e),c=u&&u.key;if(c){let f=new Mn(xt.comparator);f=f.insert(c,wr.newNoDocument(c,cn.min()));const b=lr().add(c),V=new fc(cn.min(),new Map,new Jr(ln),f,b);yield Zm(o,V),o.uc=o.uc.remove(c),o.cc.delete(e),Ef(o)}else yield il(o.localStore,e,!1).then(()=>cl(o,e,n)).catch(vi)}),pg.apply(this,arguments)}function Ov(i,e){return gg.apply(this,arguments)}function gg(){return gg=(0,y.Z)(function*(i,e){const n=ee(i),o=e.batch.batchId;try{const u=yield Ad(n.localStore,e);vf(n,o,null),Hc(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield jo(n,u)}catch(u){yield vi(u)}}),gg.apply(this,arguments)}function kv(i,e,n){return mg.apply(this,arguments)}function mg(){return mg=(0,y.Z)(function*(i,e,n){const o=ee(i);try{const u=yield function(c,f){const b=ee(c);return b.persistence.runTransaction("Reject batch","readwrite-primary",V=>{let j;return b.mutationQueue.lookupMutationBatch(V,f).next(J=>(K(null!==J),j=J.keys(),b.mutationQueue.removeMutationBatch(V,J))).next(()=>b.mutationQueue.performConsistencyCheck(V)).next(()=>b.documentOverlayCache.removeOverlaysForBatchId(V,j,f)).next(()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(V,j)).next(()=>b.localDocuments.getDocuments(V,j))})}(o.localStore,e);vf(o,e,n),Hc(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield jo(o,u)}catch(u){yield vi(u)}}),mg.apply(this,arguments)}function Hc(i,e){(i.lc.get(e)||[]).forEach(n=>{n.resolve()}),i.lc.delete(e)}function vf(i,e,n){const o=ee(i);let u=o.hc[o.currentUser.toKey()];if(u){const c=u.get(e);c&&(n?c.reject(n):c.resolve(),u=u.remove(e)),o.hc[o.currentUser.toKey()]=u}}function cl(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.rc.get(e))i.ic.delete(o),n&&i.sc.wc(o,n);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(o=>{i.ac.containsKey(o)||Qd(i,o)})}function Qd(i,e){i.oc.delete(e.path.canonicalString());const n=i.uc.get(e);null!==n&&(Oc(i.remoteStore,n),i.uc=i.uc.remove(e),i.cc.delete(n),Ef(i))}function Xd(i,e,n){for(const o of n)o instanceof Zd?(i.ac.addReference(o.key,e),_f(i,o)):o instanceof Gm?(L("SyncEngine","Document no longer in limbo: "+o.key),i.ac.removeReference(o.key,e),i.ac.containsKey(o.key)||Qd(i,o.key)):B()}function _f(i,e){const n=e.key,o=n.path.canonicalString();i.uc.get(n)||i.oc.has(o)||(L("SyncEngine","New document in limbo: "+n),i.oc.add(o),Ef(i))}function Ef(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const n=new xt(Hn.fromString(e)),o=i.fc.next();i.cc.set(o,new Wm(n)),i.uc=i.uc.insert(n,o),Ud(i.remoteStore,new Xu(Vo(Lo(n.path)),o,2,zi.at))}}function jo(i,e,n){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,y.Z)(function*(i,e,n){const o=ee(i),u=[],c=[],f=[];var b;o.ic.isEmpty()||(o.ic.forEach((b,V)=>{f.push(o._c(V,e,n).then(j=>{if((j||n)&&o.isPrimaryClient&&o.sharedClientState.updateQueryState(V.targetId,j?.fromCache?"not-current":"current"),j){u.push(j);const J=Sd.Ci(V.targetId,j);c.push(J)}}))}),yield Promise.all(f),o.sc.zo(u),yield(b=(0,y.Z)(function*(V,j){const J=ee(V);try{yield J.persistence.runTransaction("notifyLocalViewChanges","readwrite",he=>Le.forEach(j,ze=>Le.forEach(ze.Si,at=>J.persistence.referenceDelegate.addReference(he,ze.targetId,at)).next(()=>Le.forEach(ze.Di,at=>J.persistence.referenceDelegate.removeReference(he,ze.targetId,at)))))}catch(he){if(!Ko(he))throw he;L("LocalStore","Failed to update sequence numbers: "+he)}for(const he of j){const ze=he.targetId;if(!he.fromCache){const at=J.Ui.get(ze),Zt=at.withLastLimboFreeSnapshotVersion(at.snapshotVersion);J.Ui=J.Ui.insert(ze,Zt)}}}),function(V,j){return b.apply(this,arguments)})(o.localStore,c))}),Jd.apply(this,arguments)}function Qm(i,e){return wf.apply(this,arguments)}function wf(){return wf=(0,y.Z)(function*(i,e){const n=ee(i);if(!n.currentUser.isEqual(e)){L("SyncEngine","User change. New user:",e.toKey());const o=yield Bp(n.localStore,e);n.currentUser=e,(u=n).lc.forEach(f=>{f.forEach(b=>{b.reject(new ge(te.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.lc.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield jo(n,o.ji)}var u}),wf.apply(this,arguments)}function yg(i,e){const n=ee(i),o=n.cc.get(e);if(o&&o.nc)return lr().add(o.key);{let u=lr();const c=n.rc.get(e);if(!c)return u;for(const f of c){const b=n.ic.get(f);u=u.unionWith(b.view.ju)}return u}}function Sf(i){const e=ee(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yg.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Pv.bind(null,e),e.sc.zo=gf.bind(null,e.eventManager),e.sc.wc=Rv.bind(null,e.eventManager),e}function rh(i){const e=ee(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ov.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kv.bind(null,e),e}class Eg{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,y.Z)(function*(){n.It=Rc(e.databaseInfo.databaseId),n.sharedClientState=n.gc(e),n.persistence=n.yc(e),yield n.persistence.start(),n.localStore=n.Ic(e),n.gcScheduler=n.Tc(e,n.localStore),n.indexBackfillerScheduler=n.Ec(e,n.localStore)})()}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return function Qh(i,e,n,o){return new Up(i,e,n,o)}(this.persistence,new xu,e.initialUser,this.It)}yc(e){return new Lp(Id.Bs,this.It)}gc(e){return new qp}terminate(){var e=this;return(0,y.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Xo{initialize(e,n){var o=this;return(0,y.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Ym(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Qm.bind(null,o.syncEngine),yield function sg(i,e){return Lc.apply(this,arguments)}(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Hm}createDatastore(e){const n=Rc(e.databaseInfo.databaseId),o=new km(e.databaseInfo);return new cr(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,c=b=>Ym(this.syncEngine,b,0),f=Oa.C()?new Oa:new Pm,new Vm(n,o,u,c,f);var n,o,u,c,f}createSyncEngine(e,n){return function(o,u,c,f,b,V,j){const J=new qm(o,u,c,f,b,V);return j&&(J.dc=!0),J}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,y.Z)(function*(n){const o=ee(n);L("RemoteStore","RemoteStore shutting down."),o.wu.add(5),yield Bl(o),o.gu.shutdown(),o.yu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function ih(i,e,n){if(!n)throw new ge(te.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ry(i){if(!xt.isDocumentKey(i))throw new ge(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Ig(i){if(xt.isDocumentKey(i))throw new ge(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Hl(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":B()}function Hr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ge(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hl(i);throw new ge(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}const bg=new Map;class Cg{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new ge(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ge(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function ny(i,e,n,o){if(!0===e&&!0===o)throw new ge(te.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gl{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ge(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ge(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cg(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new ur;switch(n.type){case"gapi":return new Tr(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ge(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=bg.get(e);n&&(L("ComponentProvider","Removing Datastore"),bg.delete(e),n.terminate())}(this),Promise.resolve()}}class ps{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ps(this.firestore,e,this._key)}}class Ho{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Ho(this.firestore,e,this._query)}}class eu extends Ho{constructor(e,n,o){super(e,n,Lo(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ps(this.firestore,null,new xt(e))}withConverter(e){return new eu(this.firestore,e,this._path)}}function Tg(i,e,...n){if(i=(0,Re.m9)(i),ih("collection","path",e),i instanceof Gl){const o=Hn.fromString(e,...n);return Ig(o),new eu(i,null,o)}{if(!(i instanceof ps||i instanceof eu))throw new ge(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Hn.fromString(e,...n));return Ig(o),new eu(i.firestore,null,o)}}function Sg(i,e,...n){if(i=(0,Re.m9)(i),1===arguments.length&&(e=Bs.R()),ih("doc","path",e),i instanceof Gl){const o=Hn.fromString(e,...n);return ry(o),new ps(i,null,new xt(o))}{if(!(i instanceof ps||i instanceof eu))throw new ge(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Hn.fromString(e,...n));return ry(o),new ps(i.firestore,i instanceof eu?i.converter:null,new xt(o))}}class oh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):g("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class cy{constructor(e,n,o,u){var c=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=Mr.UNAUTHENTICATED,this.clientId=Bs.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var f=(0,y.Z)(function*(b){L("FirestoreClient","Received user=",b.uid),yield c.authCredentialListener(b),c.user=b});return function(b){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(o,f=>(L("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,y.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ge(te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new bt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,y.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=ul(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function Mg(i,e){return zl.apply(this,arguments)}function zl(){return zl=(0,y.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),L("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,y.Z)(function*(c){o.isEqual(c)||(yield Bp(e.localStore,c),o=c)});return function(c){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),zl.apply(this,arguments)}function ah(i,e){return Wl.apply(this,arguments)}function Wl(){return Wl=(0,y.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield xg(i);L("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>pf(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,c)=>pf(e.remoteStore,c)),i.onlineComponents=e}),Wl.apply(this,arguments)}function xg(i){return zc.apply(this,arguments)}function zc(){return zc=(0,y.Z)(function*(i){return i.offlineComponents||(L("FirestoreClient","Using default OfflineComponentProvider"),yield Mg(i,new Eg)),i.offlineComponents}),zc.apply(this,arguments)}function Mf(i){return uh.apply(this,arguments)}function uh(){return uh=(0,y.Z)(function*(i){return i.onlineComponents||(L("FirestoreClient","Using default OnlineComponentProvider"),yield ah(i,new Xo)),i.onlineComponents}),uh.apply(this,arguments)}function vu(i){return ql.apply(this,arguments)}function ql(){return ql=(0,y.Z)(function*(i){const e=yield Mf(i),n=e.eventManager;return n.onListen=lg.bind(null,e.syncEngine),n.onUnlisten=hg.bind(null,e.syncEngine),n}),ql.apply(this,arguments)}class py{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new kd(this,"async_queue_retry"),this.Wc=()=>{const n=Od();n&&L("AsyncQueue","Visibility state changed to "+n.visibilityState),this.No.Po()};const e=Od();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const n=Od();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const n=new bt;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,y.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(n){if(!Ko(n))throw n;L("AsyncQueue","Operation failed with retryable error: "+n)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(o=>{throw this.Kc=o,this.Gc=!1,g("INTERNAL UNHANDLED ERROR: ",function(c){let f=c.message||"";return c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f}(o)),o}).then(o=>(this.Gc=!1,o))));return this.Bc=n,n}enqueueAfterDelay(e,n,o){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const u=Ru.createAndSchedule(this,e,n,o,c=>this.Yc(c));return this.qc.push(u),u}zc(){this.Kc&&B()}verifyOperationInProgress(){}Xc(){var e=this;return(0,y.Z)(function*(){let n;do{n=e.Bc,yield n}while(n!==e.Bc)})()}Zc(e){for(const n of this.qc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.qc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.qc.indexOf(e);this.qc.splice(n,1)}}function Rg(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class qi extends Gl{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new py,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ch(this),this._firestoreClient.terminate()}}function Pf(i,e){const n="object"==typeof i?i:(0,G.Mq)(),o="string"==typeof i?i:e||"(default)",u=(0,G.qX)(n,"firestore").getImmediate({identifier:o});if(!u._initialized){const c=(0,Re.P0)("firestore");c&&function iy(i,e,n,o={}){var u;const c=(i=Hr(i,Gl))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&w("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${n}`,ssl:!1})),o.mockUserToken){let f,b;if("string"==typeof o.mockUserToken)f=o.mockUserToken,b=Mr.MOCK_USER;else{f=(0,Re.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const V=o.mockUserToken.sub||o.mockUserToken.user_id;if(!V)throw new ge(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Mr(V)}i._authCredentials=new _n(new Qt(f,b))}}(u,...c)}return u}function Gs(i){return i._firestoreClient||ch(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function ch(i){var e;const n=i._freezeSettings(),o=(c=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Ii(i._databaseId,c,i._persistenceKey,(b=n).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,b.useFetchStreams));var c,b;i._firestoreClient=new cy(i._authCredentials,i._appCheckCredentials,i._queue,o)}class dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dl(oi.fromBase64String(e))}catch(n){throw new ge(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new dl(oi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ku{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new ge(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class za{constructor(e){this._methodName=e}}class hl{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ln(this._lat,e._lat)||ln(this._long,e._long)}}const Go=/^__.*__$/;class fl{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new p(e,this.data,this.fieldMask,n,this.fieldTransforms):new h(e,this.data,n,this.fieldTransforms)}}function wa(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw B()}}class Zl{constructor(e,n,o,u,c,f){this.settings=e,this.databaseId=n,this.It=o,this.ignoreUndefinedProperties=u,void 0===c&&this.na(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Zl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.ia({path:o,oa:!1});return u.ua(e),u}ca(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.ia({path:o,oa:!1});return u.na(),u}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return gh(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(wa(this.sa)&&Go.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Yl{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=o||Rc(e)}da(e,n,o,u=!1){return new Zl({sa:e,methodName:n,fa:o,path:yr.emptyPath(),oa:!1,la:u},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Wa(i){const e=i._freezeSettings(),n=Rc(i._databaseId);return new Yl(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Fu(i,e,n,o,u,c={}){const f=i.da(c.merge||c.mergeFields?2:0,e,n,u);hh("Data must be an object, but it was:",f,o);const b=Vf(o,f);let V,j;if(c.merge)V=new Ts(f.fieldMask),j=f.fieldTransforms;else if(c.mergeFields){const J=[];for(const he of c.mergeFields){const ze=fh(e,he,n);if(!f.contains(ze))throw new ge(te.INVALID_ARGUMENT,`Field '${ze}' is specified in your field mask but missing from your input data.`);Bf(J,ze)||J.push(ze)}V=new Ts(J),j=f.fieldTransforms.filter(he=>V.covers(he.field))}else V=null,j=f.fieldTransforms;return new fl(new Wi(b),V,j)}function Vu(i,e){if(Uf(i=(0,Re.m9)(i)))return hh("Unsupported field value:",e,i),Vf(i,e);if(i instanceof za)return function(n,o){if(!wa(o.sa))throw o.ha(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ha(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(n,o){const u=[];let c=0;for(const f of n){let b=Vu(f,o.aa(c));null==b&&(b={nullValue:"NULL_VALUE"}),u.push(b),c++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,Re.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return zu(o.It,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=er.fromDate(n);return{timestampValue:pc(o.It,u)}}if(n instanceof er){const u=new er(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:pc(o.It,u)}}if(n instanceof hl)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof dl)return{bytesValue:cp(o.It,n._byteString)};if(n instanceof ps){const u=o.databaseId,c=n.firestore._databaseId;if(!c.isEqual(u))throw o.ha(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:dp(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o.ha(`Unsupported field value: ${Hl(n)}`)}(i,e)}function Vf(i,e){const n={};return Ta(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zo(i,(o,u)=>{const c=Vu(u,e.ra(o));null!=c&&(n[o]=c)}),{mapValue:{fields:n}}}function Uf(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof er||i instanceof hl||i instanceof dl||i instanceof ps||i instanceof za)}function hh(i,e,n){if(!Uf(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Hl(n);throw e.ha("an object"===o?i+" a custom object":i+" "+o)}var o}function fh(i,e,n){if((e=(0,Re.m9)(e))instanceof ku)return e._internalPath;if("string"==typeof e)return ph(i,e);throw gh("Field path arguments must be of type string or ",i,!1,void 0,n)}const kg=new RegExp("[~\\*/\\[\\]]");function ph(i,e,n){if(e.search(kg)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new ku(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function gh(i,e,n,o,u){const c=o&&!o.isEmpty(),f=void 0!==u;let b=`Function ${e}() called with invalid data`;n&&(b+=" (via `toFirestore()`)"),b+=". ";let V="";return(c||f)&&(V+=" (found",c&&(V+=` in field ${o}`),f&&(V+=` in document ${u}`),V+=")"),new ge(te.INVALID_ARGUMENT,b+i+V)}function Bf(i,e){return i.some(n=>n.isEqual(e))}class $f{constructor(e,n,o,u,c){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ps(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Fg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ec("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Fg extends $f{data(){return super.data()}}function ec(i,e){return"string"==typeof e?ph(i,e):e instanceof ku?e._internalPath:e._delegate._internalPath}function Eh(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}class Uu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bu extends $f{constructor(e,n,o,u,c,f){super(e,n,o,u,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(ec("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Xc extends Bu{data(e={}){return super.data(e)}}class gl{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new Uu(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Xc(this._firestore,this._userDataWriter,o.key,o,new Uu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(f=>({type:"added",doc:new Xc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Uu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:c++}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>u||3!==f.type).map(f=>{const b=new Xc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Uu(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let V=-1,j=-1;return 0!==f.type&&(V=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),1!==f.type&&(c=c.add(f.doc),j=c.indexOf(f.doc.key)),{type:Ug(f.type),doc:b,oldIndex:V,newIndex:j}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Ug(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return B()}}class _u extends class Iy{convertValue(e,n="none"){switch(ya(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw B()}}convertObject(e,n){const o={};return Zo(e.fields,(u,c)=>{o[u]=this.convertValue(c,n)}),o}convertGeoPoint(e){return new hl(Pn(e.latitude),Pn(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=su(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(La(e));default:return null}}convertTimestamp(e){const n=aa(e);return new er(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Hn.fromString(e);K(mp(o));const u=new ts(o.get(1),o.get(3)),c=new xt(o.popFirst(5));return u.isEqual(n)||g(`Document ${c} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new dl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ps(this.firestore,null,n)}}function Bg(i,e,n){i=Hr(i,ps);const o=Hr(i.firestore,qi),u=Eh(i.converter,e,n);return tc(o,[Fu(Wa(o),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,Vi.none())])}function $g(i,e){const n=Hr(i.firestore,qi),o=Sg(i),u=Eh(i.converter,e);return tc(n,[Fu(Wa(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Vi.exists(!1))]).then(()=>o)}function Ay(i,...e){var n,o,u;i=(0,Re.m9)(i);let c={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||Rg(e[f])||(c=e[f],f++);const b={includeMetadataChanges:c.includeMetadataChanges};if(Rg(e[f])){const he=e[f];e[f]=null===(n=he.next)||void 0===n?void 0:n.bind(he),e[f+1]=null===(o=he.error)||void 0===o?void 0:o.bind(he),e[f+2]=null===(u=he.complete)||void 0===u?void 0:u.bind(he)}let V,j,J;if(i instanceof ps)j=Hr(i.firestore,qi),J=Lo(i._key.path),V={next:he=>{e[f]&&e[f](function Kf(i,e,n){const o=n.docs.get(e._key),u=new _u(i);return new Bu(i,u,e._key,o,new Uu(n.hasPendingWrites,n.fromCache),e.converter)}(j,i,he))},error:e[f+1],complete:e[f+2]};else{const he=Hr(i,Ho);j=Hr(he.firestore,qi),J=he._query;const ze=new _u(j);V={next:at=>{e[f]&&e[f](new gl(j,ze,he,at))},error:e[f+1],complete:e[f+2]},function mh(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new ge(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(i._query)}return function(he,ze,at,pt){const Zt=new oh(pt),dn=new ag(ze,Zt,at);return he.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function Uc(i,e){return Ga.apply(this,arguments)}(yield vu(he),dn)})),()=>{Zt.bc(),he.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function Bc(i,e){return zd.apply(this,arguments)}(yield vu(he),dn)}))}}(Gs(j),J,b,V)}function tc(i,e){return function(n,o){const u=new bt;return n.asyncQueue.enqueueAndForget((0,y.Z)(function*(){return function Km(i,e,n){return jc.apply(this,arguments)}(yield function qc(i){return Mf(i).then(e=>e.syncEngine)}(n),o,u)})),u.promise}(Gs(i),e)}!function(i,e=!0){xi=G.Jn,(0,G.Xd)(new De.wA("firestore",(n,{instanceIdentifier:o,options:u})=>{const c=n.getProvider("app").getImmediate(),f=new qi(new Tn(n.getProvider("auth-internal")),new ci(n.getProvider("app-check-internal")),function(b,V){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new ge(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ts(b.options.projectId,V)}(c,o),c);return u=Object.assign({useFetchStreams:e},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),(0,G.KN)(fs,"3.7.1",i),(0,G.KN)(fs,"3.7.1","esm2017")}()},9751:(yn,ct,Q)=>{Q.d(ct,{y:()=>Ve});var y=Q(2961),G=Q(727),De=Q(8822),me=Q(9635),Re=Q(2416),nt=Q(576),We=Q(2806);let Ve=(()=>{class qe{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const Et=new qe;return Et.source=this,Et.operator=Ue,Et}subscribe(Ue,Et,Nt){const Yt=function pe(qe){return qe&&qe instanceof y.Lv||function oe(qe){return qe&&(0,nt.m)(qe.next)&&(0,nt.m)(qe.error)&&(0,nt.m)(qe.complete)}(qe)&&(0,G.Nn)(qe)}(Ue)?Ue:new y.Hp(Ue,Et,Nt);return(0,We.x)(()=>{const{operator:Ut,source:Ot}=this;Yt.add(Ut?Ut.call(Yt,Ot):Ot?this._subscribe(Yt):this._trySubscribe(Yt))}),Yt}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(Et){Ue.error(Et)}}forEach(Ue,Et){return new(Et=tt(Et))((Nt,Yt)=>{const Ut=new y.Hp({next:Ot=>{try{Ue(Ot)}catch(_t){Yt(_t),Ut.unsubscribe()}},error:Yt,complete:Nt});this.subscribe(Ut)})}_subscribe(Ue){var Et;return null===(Et=this.source)||void 0===Et?void 0:Et.subscribe(Ue)}[De.L](){return this}pipe(...Ue){return(0,me.U)(Ue)(this)}toPromise(Ue){return new(Ue=tt(Ue))((Et,Nt)=>{let Yt;this.subscribe(Ut=>Yt=Ut,Ut=>Nt(Ut),()=>Et(Yt))})}}return qe.create=lt=>new qe(lt),qe})();function tt(qe){var lt;return null!==(lt=qe??Re.v.Promise)&&void 0!==lt?lt:Promise}},7579:(yn,ct,Q)=>{Q.d(ct,{x:()=>We});var y=Q(9751),G=Q(727);const me=(0,Q(3888).d)(tt=>function(){tt(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Re=Q(8737),nt=Q(2806);let We=(()=>{class tt extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(pe){const qe=new Ve(this,this);return qe.operator=pe,qe}_throwIfClosed(){if(this.closed)throw new me}next(pe){(0,nt.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const qe of this.currentObservers)qe.next(pe)}})}error(pe){(0,nt.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=pe;const{observers:qe}=this;for(;qe.length;)qe.shift().error(pe)}})}complete(){(0,nt.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:pe}=this;for(;pe.length;)pe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var pe;return(null===(pe=this.observers)||void 0===pe?void 0:pe.length)>0}_trySubscribe(pe){return this._throwIfClosed(),super._trySubscribe(pe)}_subscribe(pe){return this._throwIfClosed(),this._checkFinalizedStatuses(pe),this._innerSubscribe(pe)}_innerSubscribe(pe){const{hasError:qe,isStopped:lt,observers:Ue}=this;return qe||lt?G.Lc:(this.currentObservers=null,Ue.push(pe),new G.w0(()=>{this.currentObservers=null,(0,Re.P)(Ue,pe)}))}_checkFinalizedStatuses(pe){const{hasError:qe,thrownError:lt,isStopped:Ue}=this;qe?pe.error(lt):Ue&&pe.complete()}asObservable(){const pe=new y.y;return pe.source=this,pe}}return tt.create=(oe,pe)=>new Ve(oe,pe),tt})();class Ve extends We{constructor(oe,pe){super(),this.destination=oe,this.source=pe}next(oe){var pe,qe;null===(qe=null===(pe=this.destination)||void 0===pe?void 0:pe.next)||void 0===qe||qe.call(pe,oe)}error(oe){var pe,qe;null===(qe=null===(pe=this.destination)||void 0===pe?void 0:pe.error)||void 0===qe||qe.call(pe,oe)}complete(){var oe,pe;null===(pe=null===(oe=this.destination)||void 0===oe?void 0:oe.complete)||void 0===pe||pe.call(oe)}_subscribe(oe){var pe,qe;return null!==(qe=null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(oe))&&void 0!==qe?qe:G.Lc}}},2961:(yn,ct,Q)=>{Q.d(ct,{Hp:()=>Nt,Lv:()=>qe});var y=Q(576),G=Q(727),De=Q(2416),me=Q(7849);function Re(){}const nt=tt("C",void 0,void 0);function tt(Be,Te,xe){return{kind:Be,value:Te,error:xe}}var oe=Q(3410),pe=Q(2806);class qe extends G.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,G.Nn)(Te)&&Te.add(this)):this.destination=_t}static create(Te,xe,Dt){return new Nt(Te,xe,Dt)}next(Te){this.isStopped?Ot(function Ve(Be){return tt("N",Be,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?Ot(function We(Be){return tt("E",void 0,Be)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?Ot(nt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const lt=Function.prototype.bind;function Ue(Be,Te){return lt.call(Be,Te)}class Et{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:xe}=this;if(xe.next)try{xe.next(Te)}catch(Dt){Yt(Dt)}}error(Te){const{partialObserver:xe}=this;if(xe.error)try{xe.error(Te)}catch(Dt){Yt(Dt)}else Yt(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(xe){Yt(xe)}}}class Nt extends qe{constructor(Te,xe,Dt){let Ee;if(super(),(0,y.m)(Te)||!Te)Ee={next:Te??void 0,error:xe??void 0,complete:Dt??void 0};else{let Se;this&&De.v.useDeprecatedNextContext?(Se=Object.create(Te),Se.unsubscribe=()=>this.unsubscribe(),Ee={next:Te.next&&Ue(Te.next,Se),error:Te.error&&Ue(Te.error,Se),complete:Te.complete&&Ue(Te.complete,Se)}):Ee=Te}this.destination=new Et(Ee)}}function Yt(Be){De.v.useDeprecatedSynchronousErrorHandling?(0,pe.O)(Be):(0,me.h)(Be)}function Ot(Be,Te){const{onStoppedNotification:xe}=De.v;xe&&oe.z.setTimeout(()=>xe(Be,Te))}const _t={closed:!0,next:Re,error:function Ut(Be){throw Be},complete:Re}},727:(yn,ct,Q)=>{Q.d(ct,{Lc:()=>nt,w0:()=>Re,Nn:()=>We});var y=Q(576);const De=(0,Q(3888).d)(tt=>function(pe){tt(this),this.message=pe?`${pe.length} errors occurred during unsubscription:\n${pe.map((qe,lt)=>`${lt+1}) ${qe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=pe});var me=Q(8737);class Re{constructor(oe){this.initialTeardown=oe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let oe;if(!this.closed){this.closed=!0;const{_parentage:pe}=this;if(pe)if(this._parentage=null,Array.isArray(pe))for(const Ue of pe)Ue.remove(this);else pe.remove(this);const{initialTeardown:qe}=this;if((0,y.m)(qe))try{qe()}catch(Ue){oe=Ue instanceof De?Ue.errors:[Ue]}const{_finalizers:lt}=this;if(lt){this._finalizers=null;for(const Ue of lt)try{Ve(Ue)}catch(Et){oe=oe??[],Et instanceof De?oe=[...oe,...Et.errors]:oe.push(Et)}}if(oe)throw new De(oe)}}add(oe){var pe;if(oe&&oe!==this)if(this.closed)Ve(oe);else{if(oe instanceof Re){if(oe.closed||oe._hasParent(this))return;oe._addParent(this)}(this._finalizers=null!==(pe=this._finalizers)&&void 0!==pe?pe:[]).push(oe)}}_hasParent(oe){const{_parentage:pe}=this;return pe===oe||Array.isArray(pe)&&pe.includes(oe)}_addParent(oe){const{_parentage:pe}=this;this._parentage=Array.isArray(pe)?(pe.push(oe),pe):pe?[pe,oe]:oe}_removeParent(oe){const{_parentage:pe}=this;pe===oe?this._parentage=null:Array.isArray(pe)&&(0,me.P)(pe,oe)}remove(oe){const{_finalizers:pe}=this;pe&&(0,me.P)(pe,oe),oe instanceof Re&&oe._removeParent(this)}}Re.EMPTY=(()=>{const tt=new Re;return tt.closed=!0,tt})();const nt=Re.EMPTY;function We(tt){return tt instanceof Re||tt&&"closed"in tt&&(0,y.m)(tt.remove)&&(0,y.m)(tt.add)&&(0,y.m)(tt.unsubscribe)}function Ve(tt){(0,y.m)(tt)?tt():tt.unsubscribe()}},2416:(yn,ct,Q)=>{Q.d(ct,{v:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(yn,ct,Q)=>{Q.d(ct,{E:()=>G});const G=new(Q(9751).y)(Re=>Re.complete())},8996:(yn,ct,Q)=>{Q.d(ct,{D:()=>Te});var y=Q(8421),G=Q(5363),De=Q(9468),nt=Q(9751),Ve=Q(2202),tt=Q(576),oe=Q(9672);function qe(xe,Dt){if(!xe)throw new Error("Iterable cannot be null");return new nt.y(Ee=>{(0,oe.f)(Ee,Dt,()=>{const Se=xe[Symbol.asyncIterator]();(0,oe.f)(Ee,Dt,()=>{Se.next().then(rt=>{rt.done?Ee.complete():Ee.next(rt.value)})},0,!0)})})}var lt=Q(3670),Ue=Q(8239),Et=Q(1144),Nt=Q(6495),Yt=Q(2206),Ut=Q(4532),Ot=Q(3260);function Te(xe,Dt){return Dt?function Be(xe,Dt){if(null!=xe){if((0,lt.c)(xe))return function me(xe,Dt){return(0,y.Xf)(xe).pipe((0,De.R)(Dt),(0,G.Q)(Dt))}(xe,Dt);if((0,Et.z)(xe))return function We(xe,Dt){return new nt.y(Ee=>{let Se=0;return Dt.schedule(function(){Se===xe.length?Ee.complete():(Ee.next(xe[Se++]),Ee.closed||this.schedule())})})}(xe,Dt);if((0,Ue.t)(xe))return function Re(xe,Dt){return(0,y.Xf)(xe).pipe((0,De.R)(Dt),(0,G.Q)(Dt))}(xe,Dt);if((0,Yt.D)(xe))return qe(xe,Dt);if((0,Nt.T)(xe))return function pe(xe,Dt){return new nt.y(Ee=>{let Se;return(0,oe.f)(Ee,Dt,()=>{Se=xe[Ve.h](),(0,oe.f)(Ee,Dt,()=>{let rt,ye;try{({value:rt,done:ye}=Se.next())}catch(be){return void Ee.error(be)}ye?Ee.complete():Ee.next(rt)},0,!0)}),()=>(0,tt.m)(Se?.return)&&Se.return()})}(xe,Dt);if((0,Ot.L)(xe))return function _t(xe,Dt){return qe((0,Ot.Q)(xe),Dt)}(xe,Dt)}throw(0,Ut.z)(xe)}(xe,Dt):(0,y.Xf)(xe)}},8421:(yn,ct,Q)=>{Q.d(ct,{Xf:()=>lt});var y=Q(655),G=Q(1144),De=Q(8239),me=Q(9751),Re=Q(3670),nt=Q(2206),We=Q(4532),Ve=Q(6495),tt=Q(3260),oe=Q(576),pe=Q(7849),qe=Q(8822);function lt(Be){if(Be instanceof me.y)return Be;if(null!=Be){if((0,Re.c)(Be))return function Ue(Be){return new me.y(Te=>{const xe=Be[qe.L]();if((0,oe.m)(xe.subscribe))return xe.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Be);if((0,G.z)(Be))return function Et(Be){return new me.y(Te=>{for(let xe=0;xe<Be.length&&!Te.closed;xe++)Te.next(Be[xe]);Te.complete()})}(Be);if((0,De.t)(Be))return function Nt(Be){return new me.y(Te=>{Be.then(xe=>{Te.closed||(Te.next(xe),Te.complete())},xe=>Te.error(xe)).then(null,pe.h)})}(Be);if((0,nt.D)(Be))return Ut(Be);if((0,Ve.T)(Be))return function Yt(Be){return new me.y(Te=>{for(const xe of Be)if(Te.next(xe),Te.closed)return;Te.complete()})}(Be);if((0,tt.L)(Be))return function Ot(Be){return Ut((0,tt.Q)(Be))}(Be)}throw(0,We.z)(Be)}function Ut(Be){return new me.y(Te=>{(function _t(Be,Te){var xe,Dt,Ee,Se;return(0,y.mG)(this,void 0,void 0,function*(){try{for(xe=(0,y.KL)(Be);!(Dt=yield xe.next()).done;)if(Te.next(Dt.value),Te.closed)return}catch(rt){Ee={error:rt}}finally{try{Dt&&!Dt.done&&(Se=xe.return)&&(yield Se.call(xe))}finally{if(Ee)throw Ee.error}}Te.complete()})})(Be,Te).catch(xe=>Te.error(xe))})}},5403:(yn,ct,Q)=>{Q.d(ct,{x:()=>G});var y=Q(2961);function G(me,Re,nt,We,Ve){return new De(me,Re,nt,We,Ve)}class De extends y.Lv{constructor(Re,nt,We,Ve,tt,oe){super(Re),this.onFinalize=tt,this.shouldUnsubscribe=oe,this._next=nt?function(pe){try{nt(pe)}catch(qe){Re.error(qe)}}:super._next,this._error=Ve?function(pe){try{Ve(pe)}catch(qe){Re.error(qe)}finally{this.unsubscribe()}}:super._error,this._complete=We?function(){try{We()}catch(pe){Re.error(pe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:nt}=this;super.unsubscribe(),!nt&&(null===(Re=this.onFinalize)||void 0===Re||Re.call(this))}}}},4004:(yn,ct,Q)=>{Q.d(ct,{U:()=>De});var y=Q(4482),G=Q(5403);function De(me,Re){return(0,y.e)((nt,We)=>{let Ve=0;nt.subscribe((0,G.x)(We,tt=>{We.next(me.call(Re,tt,Ve++))}))})}},8189:(yn,ct,Q)=>{Q.d(ct,{J:()=>De});var y=Q(5577),G=Q(4671);function De(me=1/0){return(0,y.z)(G.y,me)}},5577:(yn,ct,Q)=>{Q.d(ct,{z:()=>Ve});var y=Q(4004),G=Q(8421),De=Q(4482),me=Q(9672),Re=Q(5403),We=Q(576);function Ve(tt,oe,pe=1/0){return(0,We.m)(oe)?Ve((qe,lt)=>(0,y.U)((Ue,Et)=>oe(qe,Ue,lt,Et))((0,G.Xf)(tt(qe,lt))),pe):("number"==typeof oe&&(pe=oe),(0,De.e)((qe,lt)=>function nt(tt,oe,pe,qe,lt,Ue,Et,Nt){const Yt=[];let Ut=0,Ot=0,_t=!1;const Be=()=>{_t&&!Yt.length&&!Ut&&oe.complete()},Te=Dt=>Ut<qe?xe(Dt):Yt.push(Dt),xe=Dt=>{Ue&&oe.next(Dt),Ut++;let Ee=!1;(0,G.Xf)(pe(Dt,Ot++)).subscribe((0,Re.x)(oe,Se=>{lt?.(Se),Ue?Te(Se):oe.next(Se)},()=>{Ee=!0},void 0,()=>{if(Ee)try{for(Ut--;Yt.length&&Ut<qe;){const Se=Yt.shift();Et?(0,me.f)(oe,Et,()=>xe(Se)):xe(Se)}Be()}catch(Se){oe.error(Se)}}))};return tt.subscribe((0,Re.x)(oe,Te,()=>{_t=!0,Be()})),()=>{Nt?.()}}(qe,lt,tt,pe)))}},5363:(yn,ct,Q)=>{Q.d(ct,{Q:()=>me});var y=Q(9672),G=Q(4482),De=Q(5403);function me(Re,nt=0){return(0,G.e)((We,Ve)=>{We.subscribe((0,De.x)(Ve,tt=>(0,y.f)(Ve,Re,()=>Ve.next(tt),nt),()=>(0,y.f)(Ve,Re,()=>Ve.complete(),nt),tt=>(0,y.f)(Ve,Re,()=>Ve.error(tt),nt)))})}},9468:(yn,ct,Q)=>{Q.d(ct,{R:()=>G});var y=Q(4482);function G(De,me=0){return(0,y.e)((Re,nt)=>{nt.add(De.schedule(()=>Re.subscribe(nt),me))})}},5698:(yn,ct,Q)=>{Q.d(ct,{q:()=>me});var y=Q(515),G=Q(4482),De=Q(5403);function me(Re){return Re<=0?()=>y.E:(0,G.e)((nt,We)=>{let Ve=0;nt.subscribe((0,De.x)(We,tt=>{++Ve<=Re&&(We.next(tt),Re<=Ve&&We.complete())}))})}},8505:(yn,ct,Q)=>{Q.d(ct,{b:()=>Re});var y=Q(576),G=Q(4482),De=Q(5403),me=Q(4671);function Re(nt,We,Ve){const tt=(0,y.m)(nt)||We||Ve?{next:nt,error:We,complete:Ve}:nt;return tt?(0,G.e)((oe,pe)=>{var qe;null===(qe=tt.subscribe)||void 0===qe||qe.call(tt);let lt=!0;oe.subscribe((0,De.x)(pe,Ue=>{var Et;null===(Et=tt.next)||void 0===Et||Et.call(tt,Ue),pe.next(Ue)},()=>{var Ue;lt=!1,null===(Ue=tt.complete)||void 0===Ue||Ue.call(tt),pe.complete()},Ue=>{var Et;lt=!1,null===(Et=tt.error)||void 0===Et||Et.call(tt,Ue),pe.error(Ue)},()=>{var Ue,Et;lt&&(null===(Ue=tt.unsubscribe)||void 0===Ue||Ue.call(tt)),null===(Et=tt.finalize)||void 0===Et||Et.call(tt)}))}):me.y}},3410:(yn,ct,Q)=>{Q.d(ct,{z:()=>y});const y={setTimeout(G,De,...me){const{delegate:Re}=y;return Re?.setTimeout?Re.setTimeout(G,De,...me):setTimeout(G,De,...me)},clearTimeout(G){const{delegate:De}=y;return(De?.clearTimeout||clearTimeout)(G)},delegate:void 0}},2202:(yn,ct,Q)=>{Q.d(ct,{h:()=>G});const G=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(yn,ct,Q)=>{Q.d(ct,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(yn,ct,Q)=>{Q.d(ct,{_6:()=>nt,jO:()=>me,yG:()=>Re});var y=Q(576);function De(We){return We[We.length-1]}function me(We){return(0,y.m)(De(We))?We.pop():void 0}function Re(We){return function G(We){return We&&(0,y.m)(We.schedule)}(De(We))?We.pop():void 0}function nt(We,Ve){return"number"==typeof De(We)?We.pop():Ve}},4742:(yn,ct,Q)=>{Q.d(ct,{D:()=>Re});const{isArray:y}=Array,{getPrototypeOf:G,prototype:De,keys:me}=Object;function Re(We){if(1===We.length){const Ve=We[0];if(y(Ve))return{args:Ve,keys:null};if(function nt(We){return We&&"object"==typeof We&&G(We)===De}(Ve)){const tt=me(Ve);return{args:tt.map(oe=>Ve[oe]),keys:tt}}}return{args:We,keys:null}}},8737:(yn,ct,Q)=>{function y(G,De){if(G){const me=G.indexOf(De);0<=me&&G.splice(me,1)}}Q.d(ct,{P:()=>y})},3888:(yn,ct,Q)=>{function y(G){const me=G(Re=>{Error.call(Re),Re.stack=(new Error).stack});return me.prototype=Object.create(Error.prototype),me.prototype.constructor=me,me}Q.d(ct,{d:()=>y})},1810:(yn,ct,Q)=>{function y(G,De){return G.reduce((me,Re,nt)=>(me[Re]=De[nt],me),{})}Q.d(ct,{n:()=>y})},2806:(yn,ct,Q)=>{Q.d(ct,{O:()=>me,x:()=>De});var y=Q(2416);let G=null;function De(Re){if(y.v.useDeprecatedSynchronousErrorHandling){const nt=!G;if(nt&&(G={errorThrown:!1,error:null}),Re(),nt){const{errorThrown:We,error:Ve}=G;if(G=null,We)throw Ve}}else Re()}function me(Re){y.v.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=Re)}},9672:(yn,ct,Q)=>{function y(G,De,me,Re=0,nt=!1){const We=De.schedule(function(){me(),nt?G.add(this.schedule(null,Re)):this.unsubscribe()},Re);if(G.add(We),!nt)return We}Q.d(ct,{f:()=>y})},4671:(yn,ct,Q)=>{function y(G){return G}Q.d(ct,{y:()=>y})},1144:(yn,ct,Q)=>{Q.d(ct,{z:()=>y});const y=G=>G&&"number"==typeof G.length&&"function"!=typeof G},2206:(yn,ct,Q)=>{Q.d(ct,{D:()=>G});var y=Q(576);function G(De){return Symbol.asyncIterator&&(0,y.m)(De?.[Symbol.asyncIterator])}},576:(yn,ct,Q)=>{function y(G){return"function"==typeof G}Q.d(ct,{m:()=>y})},3670:(yn,ct,Q)=>{Q.d(ct,{c:()=>De});var y=Q(8822),G=Q(576);function De(me){return(0,G.m)(me[y.L])}},6495:(yn,ct,Q)=>{Q.d(ct,{T:()=>De});var y=Q(2202),G=Q(576);function De(me){return(0,G.m)(me?.[y.h])}},8239:(yn,ct,Q)=>{Q.d(ct,{t:()=>G});var y=Q(576);function G(De){return(0,y.m)(De?.then)}},3260:(yn,ct,Q)=>{Q.d(ct,{L:()=>me,Q:()=>De});var y=Q(655),G=Q(576);function De(Re){return(0,y.FC)(this,arguments,function*(){const We=Re.getReader();try{for(;;){const{value:Ve,done:tt}=yield(0,y.qq)(We.read());if(tt)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(Ve)}}finally{We.releaseLock()}})}function me(Re){return(0,G.m)(Re?.getReader)}},4482:(yn,ct,Q)=>{Q.d(ct,{A:()=>G,e:()=>De});var y=Q(576);function G(me){return(0,y.m)(me?.lift)}function De(me){return Re=>{if(G(Re))return Re.lift(function(nt){try{return me(nt,this)}catch(We){this.error(We)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(yn,ct,Q)=>{Q.d(ct,{Z:()=>me});var y=Q(4004);const{isArray:G}=Array;function me(Re){return(0,y.U)(nt=>function De(Re,nt){return G(nt)?Re(...nt):Re(nt)}(Re,nt))}},9635:(yn,ct,Q)=>{Q.d(ct,{U:()=>De,z:()=>G});var y=Q(4671);function G(...me){return De(me)}function De(me){return 0===me.length?y.y:1===me.length?me[0]:function(nt){return me.reduce((We,Ve)=>Ve(We),nt)}}},7849:(yn,ct,Q)=>{Q.d(ct,{h:()=>De});var y=Q(2416),G=Q(3410);function De(me){G.z.setTimeout(()=>{const{onUnhandledError:Re}=y.v;if(!Re)throw me;Re(me)})}},4532:(yn,ct,Q)=>{function y(G){return new TypeError(`You provided ${null!==G&&"object"==typeof G?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}Q.d(ct,{z:()=>y})},655:(yn,ct,Q)=>{function me(ye,be){var He={};for(var Ne in ye)Object.prototype.hasOwnProperty.call(ye,Ne)&&be.indexOf(Ne)<0&&(He[Ne]=ye[Ne]);if(null!=ye&&"function"==typeof Object.getOwnPropertySymbols){var it=0;for(Ne=Object.getOwnPropertySymbols(ye);it<Ne.length;it++)be.indexOf(Ne[it])<0&&Object.prototype.propertyIsEnumerable.call(ye,Ne[it])&&(He[Ne[it]]=ye[Ne[it]])}return He}function Ve(ye,be,He,Ne){return new(He||(He=Promise))(function(Xe,Mt){function an(hn){try{Wt(Ne.next(hn))}catch($n){Mt($n)}}function tr(hn){try{Wt(Ne.throw(hn))}catch($n){Mt($n)}}function Wt(hn){hn.done?Xe(hn.value):function it(Xe){return Xe instanceof He?Xe:new He(function(Mt){Mt(Xe)})}(hn.value).then(an,tr)}Wt((Ne=Ne.apply(ye,be||[])).next())})}function Yt(ye){return this instanceof Yt?(this.v=ye,this):new Yt(ye)}function Ut(ye,be,He){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var it,Ne=He.apply(ye,be||[]),Xe=[];return it={},Mt("next"),Mt("throw"),Mt("return"),it[Symbol.asyncIterator]=function(){return this},it;function Mt(Rn){Ne[Rn]&&(it[Rn]=function(Wr){return new Promise(function(Dn,pn){Xe.push([Rn,Wr,Dn,pn])>1||an(Rn,Wr)})})}function an(Rn,Wr){try{!function tr(Rn){Rn.value instanceof Yt?Promise.resolve(Rn.value.v).then(Wt,hn):$n(Xe[0][2],Rn)}(Ne[Rn](Wr))}catch(Dn){$n(Xe[0][3],Dn)}}function Wt(Rn){an("next",Rn)}function hn(Rn){an("throw",Rn)}function $n(Rn,Wr){Rn(Wr),Xe.shift(),Xe.length&&an(Xe[0][0],Xe[0][1])}}function _t(ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,be=ye[Symbol.asyncIterator];return be?be.call(ye):(ye=function qe(ye){var be="function"==typeof Symbol&&Symbol.iterator,He=be&&ye[be],Ne=0;if(He)return He.call(ye);if(ye&&"number"==typeof ye.length)return{next:function(){return ye&&Ne>=ye.length&&(ye=void 0),{value:ye&&ye[Ne++],done:!ye}}};throw new TypeError(be?"Object is not iterable.":"Symbol.iterator is not defined.")}(ye),He={},Ne("next"),Ne("throw"),Ne("return"),He[Symbol.asyncIterator]=function(){return this},He);function Ne(Xe){He[Xe]=ye[Xe]&&function(Mt){return new Promise(function(an,tr){!function it(Xe,Mt,an,tr){Promise.resolve(tr).then(function(Wt){Xe({value:Wt,done:an})},Mt)}(an,tr,(Mt=ye[Xe](Mt)).done,Mt.value)})}}}Q.d(ct,{FC:()=>Ut,KL:()=>_t,_T:()=>me,mG:()=>Ve,qq:()=>Yt})},7340:(yn,ct,Q)=>{Q.d(ct,{LC:()=>G,SB:()=>tt,X$:()=>me,ZE:()=>Ot,ZN:()=>Ut,_j:()=>y,eR:()=>pe,jt:()=>Re,k1:()=>_t,l3:()=>De,oB:()=>Ve,vP:()=>We});class y{}class G{}const De="*";function me(Be,Te){return{type:7,name:Be,definitions:Te,options:{}}}function Re(Be,Te=null){return{type:4,styles:Te,timings:Be}}function We(Be,Te=null){return{type:2,steps:Be,options:Te}}function Ve(Be){return{type:6,styles:Be,offset:null}}function tt(Be,Te,xe){return{type:0,name:Be,styles:Te,options:xe}}function pe(Be,Te,xe=null){return{type:1,expr:Be,animation:Te,options:xe}}function Yt(Be){Promise.resolve().then(Be)}class Ut{constructor(Te=0,xe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Te+xe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Te=>Te()),this._onDoneFns=[])}onStart(Te){this._originalOnStartFns.push(Te),this._onStartFns.push(Te)}onDone(Te){this._originalOnDoneFns.push(Te),this._onDoneFns.push(Te)}onDestroy(Te){this._onDestroyFns.push(Te)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Yt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Te=>Te()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Te=>Te()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Te){this._position=this.totalTime?Te*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Te){const xe="start"==Te?this._onStartFns:this._onDoneFns;xe.forEach(Dt=>Dt()),xe.length=0}}class Ot{constructor(Te){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Te;let xe=0,Dt=0,Ee=0;const Se=this.players.length;0==Se?Yt(()=>this._onFinish()):this.players.forEach(rt=>{rt.onDone(()=>{++xe==Se&&this._onFinish()}),rt.onDestroy(()=>{++Dt==Se&&this._onDestroy()}),rt.onStart(()=>{++Ee==Se&&this._onStart()})}),this.totalTime=this.players.reduce((rt,ye)=>Math.max(rt,ye.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Te=>Te()),this._onDoneFns=[])}init(){this.players.forEach(Te=>Te.init())}onStart(Te){this._onStartFns.push(Te)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Te=>Te()),this._onStartFns=[])}onDone(Te){this._onDoneFns.push(Te)}onDestroy(Te){this._onDestroyFns.push(Te)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Te=>Te.play())}pause(){this.players.forEach(Te=>Te.pause())}restart(){this.players.forEach(Te=>Te.restart())}finish(){this._onFinish(),this.players.forEach(Te=>Te.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Te=>Te.destroy()),this._onDestroyFns.forEach(Te=>Te()),this._onDestroyFns=[])}reset(){this.players.forEach(Te=>Te.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Te){const xe=Te*this.totalTime;this.players.forEach(Dt=>{const Ee=Dt.totalTime?Math.min(1,xe/Dt.totalTime):1;Dt.setPosition(Ee)})}getPosition(){const Te=this.players.reduce((xe,Dt)=>null===xe||Dt.totalTime>xe.totalTime?Dt:xe,null);return null!=Te?Te.getPosition():0}beforeDestroy(){this.players.forEach(Te=>{Te.beforeDestroy&&Te.beforeDestroy()})}triggerCallback(Te){const xe="start"==Te?this._onStartFns:this._onDoneFns;xe.forEach(Dt=>Dt()),xe.length=0}}const _t="!"},6895:(yn,ct,Q)=>{Q.d(ct,{Do:()=>_t,EM:()=>Ro,HT:()=>Re,JF:()=>Os,K0:()=>We,Mx:()=>xs,O5:()=>Oe,Ov:()=>eo,PC:()=>$r,S$:()=>Yt,V_:()=>oe,Ye:()=>Be,b0:()=>Ot,bD:()=>Zi,ez:()=>Ps,mk:()=>Ci,q:()=>De,sg:()=>Ur,tP:()=>Kn,w_:()=>nt});var y=Q(8256);let G=null;function De(){return G}function Re(S){G||(G=S)}class nt{}const We=new y.OlP("DocumentToken");let Ve=(()=>{class S{historyGo(N){throw new Error("Not implemented")}}return S.\u0275fac=function(N){return new(N||S)},S.\u0275prov=y.Yz7({token:S,factory:function(){return function tt(){return(0,y.LFG)(pe)}()},providedIn:"platform"}),S})();const oe=new y.OlP("Location Initialized");let pe=(()=>{class S extends Ve{constructor(N){super(),this._doc=N,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return De().getBaseHref(this._doc)}onPopState(N){const q=De().getGlobalEventTarget(this._doc,"window");return q.addEventListener("popstate",N,!1),()=>q.removeEventListener("popstate",N)}onHashChange(N){const q=De().getGlobalEventTarget(this._doc,"window");return q.addEventListener("hashchange",N,!1),()=>q.removeEventListener("hashchange",N)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(N){this.location.pathname=N}pushState(N,q,de){qe()?this._history.pushState(N,q,de):this.location.hash=de}replaceState(N,q,de){qe()?this._history.replaceState(N,q,de):this.location.hash=de}forward(){this._history.forward()}back(){this._history.back()}historyGo(N=0){this._history.go(N)}getState(){return this._history.state}}return S.\u0275fac=function(N){return new(N||S)(y.LFG(We))},S.\u0275prov=y.Yz7({token:S,factory:function(){return function lt(){return new pe((0,y.LFG)(We))}()},providedIn:"platform"}),S})();function qe(){return!!window.history.pushState}function Ue(S,$){if(0==S.length)return $;if(0==$.length)return S;let N=0;return S.endsWith("/")&&N++,$.startsWith("/")&&N++,2==N?S+$.substring(1):1==N?S+$:S+"/"+$}function Et(S){const $=S.match(/#|\?|$/),N=$&&$.index||S.length;return S.slice(0,N-("/"===S[N-1]?1:0))+S.slice(N)}function Nt(S){return S&&"?"!==S[0]?"?"+S:S}let Yt=(()=>{class S{historyGo(N){throw new Error("Not implemented")}}return S.\u0275fac=function(N){return new(N||S)},S.\u0275prov=y.Yz7({token:S,factory:function(){return(0,y.f3M)(Ot)},providedIn:"root"}),S})();const Ut=new y.OlP("appBaseHref");let Ot=(()=>{class S extends Yt{constructor(N,q){super(),this._platformLocation=N,this._removeListenerFns=[],this._baseHref=q??this._platformLocation.getBaseHrefFromDOM()??(0,y.f3M)(We).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}prepareExternalUrl(N){return Ue(this._baseHref,N)}path(N=!1){const q=this._platformLocation.pathname+Nt(this._platformLocation.search),de=this._platformLocation.hash;return de&&N?`${q}${de}`:q}pushState(N,q,de,Ye){const ot=this.prepareExternalUrl(de+Nt(Ye));this._platformLocation.pushState(N,q,ot)}replaceState(N,q,de,Ye){const ot=this.prepareExternalUrl(de+Nt(Ye));this._platformLocation.replaceState(N,q,ot)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return S.\u0275fac=function(N){return new(N||S)(y.LFG(Ve),y.LFG(Ut,8))},S.\u0275prov=y.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})(),_t=(()=>{class S extends Yt{constructor(N,q){super(),this._platformLocation=N,this._baseHref="",this._removeListenerFns=[],null!=q&&(this._baseHref=q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}path(N=!1){let q=this._platformLocation.hash;return null==q&&(q="#"),q.length>0?q.substring(1):q}prepareExternalUrl(N){const q=Ue(this._baseHref,N);return q.length>0?"#"+q:q}pushState(N,q,de,Ye){let ot=this.prepareExternalUrl(de+Nt(Ye));0==ot.length&&(ot=this._platformLocation.pathname),this._platformLocation.pushState(N,q,ot)}replaceState(N,q,de,Ye){let ot=this.prepareExternalUrl(de+Nt(Ye));0==ot.length&&(ot=this._platformLocation.pathname),this._platformLocation.replaceState(N,q,ot)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return S.\u0275fac=function(N){return new(N||S)(y.LFG(Ve),y.LFG(Ut,8))},S.\u0275prov=y.Yz7({token:S,factory:S.\u0275fac}),S})(),Be=(()=>{class S{constructor(N){this._subject=new y.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=N;const q=this._locationStrategy.getBaseHref();this._baseHref=Et(Dt(q)),this._locationStrategy.onPopState(de=>{this._subject.emit({url:this.path(!0),pop:!0,state:de.state,type:de.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(N=!1){return this.normalize(this._locationStrategy.path(N))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(N,q=""){return this.path()==this.normalize(N+Nt(q))}normalize(N){return S.stripTrailingSlash(function xe(S,$){return S&&$.startsWith(S)?$.substring(S.length):$}(this._baseHref,Dt(N)))}prepareExternalUrl(N){return N&&"/"!==N[0]&&(N="/"+N),this._locationStrategy.prepareExternalUrl(N)}go(N,q="",de=null){this._locationStrategy.pushState(de,"",N,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Nt(q)),de)}replaceState(N,q="",de=null){this._locationStrategy.replaceState(de,"",N,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Nt(q)),de)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(N=0){this._locationStrategy.historyGo?.(N)}onUrlChange(N){return this._urlChangeListeners.push(N),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(q=>{this._notifyUrlChangeListeners(q.url,q.state)})),()=>{const q=this._urlChangeListeners.indexOf(N);this._urlChangeListeners.splice(q,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(N="",q){this._urlChangeListeners.forEach(de=>de(N,q))}subscribe(N,q,de){return this._subject.subscribe({next:N,error:q,complete:de})}}return S.normalizeQueryParams=Nt,S.joinWithSlash=Ue,S.stripTrailingSlash=Et,S.\u0275fac=function(N){return new(N||S)(y.LFG(Yt))},S.\u0275prov=y.Yz7({token:S,factory:function(){return function Te(){return new Be((0,y.LFG)(Yt))}()},providedIn:"root"}),S})();function Dt(S){return S.replace(/\/index.html$/,"")}function xs(S,$){$=encodeURIComponent($);for(const N of S.split(";")){const q=N.indexOf("="),[de,Ye]=-1==q?[N,""]:[N.slice(0,q),N.slice(q+1)];if(de.trim()===$)return decodeURIComponent(Ye)}return null}let Ci=(()=>{class S{constructor(N,q,de,Ye){this._iterableDiffers=N,this._keyValueDiffers=q,this._ngEl=de,this._renderer=Ye,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(N){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof N?N.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(N){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof N?N.split(/\s+/):N,this._rawClass&&((0,y.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const N=this._iterableDiffer.diff(this._rawClass);N&&this._applyIterableChanges(N)}else if(this._keyValueDiffer){const N=this._keyValueDiffer.diff(this._rawClass);N&&this._applyKeyValueChanges(N)}}_applyKeyValueChanges(N){N.forEachAddedItem(q=>this._toggleClass(q.key,q.currentValue)),N.forEachChangedItem(q=>this._toggleClass(q.key,q.currentValue)),N.forEachRemovedItem(q=>{q.previousValue&&this._toggleClass(q.key,!1)})}_applyIterableChanges(N){N.forEachAddedItem(q=>{if("string"!=typeof q.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,y.AaK)(q.item)}`);this._toggleClass(q.item,!0)}),N.forEachRemovedItem(q=>this._toggleClass(q.item,!1))}_applyClasses(N){N&&(Array.isArray(N)||N instanceof Set?N.forEach(q=>this._toggleClass(q,!0)):Object.keys(N).forEach(q=>this._toggleClass(q,!!N[q])))}_removeClasses(N){N&&(Array.isArray(N)||N instanceof Set?N.forEach(q=>this._toggleClass(q,!1)):Object.keys(N).forEach(q=>this._toggleClass(q,!1)))}_toggleClass(N,q){(N=N.trim())&&N.split(/\s+/g).forEach(de=>{q?this._renderer.addClass(this._ngEl.nativeElement,de):this._renderer.removeClass(this._ngEl.nativeElement,de)})}}return S.\u0275fac=function(N){return new(N||S)(y.Y36(y.ZZ4),y.Y36(y.aQg),y.Y36(y.SBq),y.Y36(y.Qsj))},S.\u0275dir=y.lG2({type:S,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),S})();class ri{constructor($,N,q,de){this.$implicit=$,this.ngForOf=N,this.index=q,this.count=de}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ur=(()=>{class S{constructor(N,q,de){this._viewContainer=N,this._template=q,this._differs=de,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;!this._differ&&N&&(this._differ=this._differs.find(N).create(this.ngForTrackBy))}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const q=this._viewContainer;N.forEachOperation((de,Ye,ot)=>{if(null==de.previousIndex)q.createEmbeddedView(this._template,new ri(de.item,this._ngForOf,-1,-1),null===ot?void 0:ot);else if(null==ot)q.remove(null===Ye?void 0:Ye);else if(null!==Ye){const zt=q.get(Ye);q.move(zt,ot),Ce(zt,de)}});for(let de=0,Ye=q.length;de<Ye;de++){const zt=q.get(de).context;zt.index=de,zt.count=Ye,zt.ngForOf=this._ngForOf}N.forEachIdentityChange(de=>{Ce(q.get(de.currentIndex),de)})}static ngTemplateContextGuard(N,q){return!0}}return S.\u0275fac=function(N){return new(N||S)(y.Y36(y.s_b),y.Y36(y.Rgc),y.Y36(y.ZZ4))},S.\u0275dir=y.lG2({type:S,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),S})();function Ce(S,$){S.context.$implicit=$.item}let Oe=(()=>{class S{constructor(N,q){this._viewContainer=N,this._context=new et,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=q}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){yt("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){yt("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,q){return!0}}return S.\u0275fac=function(N){return new(N||S)(y.Y36(y.s_b),y.Y36(y.Rgc))},S.\u0275dir=y.lG2({type:S,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),S})();class et{constructor(){this.$implicit=null,this.ngIf=null}}function yt(S,$){if($&&!$.createEmbeddedView)throw new Error(`${S} must be a TemplateRef, but received '${(0,y.AaK)($)}'.`)}let $r=(()=>{class S{constructor(N,q,de){this._ngEl=N,this._differs=q,this._renderer=de,this._ngStyle=null,this._differ=null}set ngStyle(N){this._ngStyle=N,!this._differ&&N&&(this._differ=this._differs.find(N).create())}ngDoCheck(){if(this._differ){const N=this._differ.diff(this._ngStyle);N&&this._applyChanges(N)}}_setStyle(N,q){const[de,Ye]=N.split("."),ot=-1===de.indexOf("-")?void 0:y.JOm.DashCase;null!=q?this._renderer.setStyle(this._ngEl.nativeElement,de,Ye?`${q}${Ye}`:q,ot):this._renderer.removeStyle(this._ngEl.nativeElement,de,ot)}_applyChanges(N){N.forEachRemovedItem(q=>this._setStyle(q.key,null)),N.forEachAddedItem(q=>this._setStyle(q.key,q.currentValue)),N.forEachChangedItem(q=>this._setStyle(q.key,q.currentValue))}}return S.\u0275fac=function(N){return new(N||S)(y.Y36(y.SBq),y.Y36(y.aQg),y.Y36(y.Qsj))},S.\u0275dir=y.lG2({type:S,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),S})(),Kn=(()=>{class S{constructor(N){this._viewContainerRef=N,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(N){if(N.ngTemplateOutlet||N.ngTemplateOutletInjector){const q=this._viewContainerRef;if(this._viewRef&&q.remove(q.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:de,ngTemplateOutletContext:Ye,ngTemplateOutletInjector:ot}=this;this._viewRef=q.createEmbeddedView(de,Ye,ot?{injector:ot}:void 0)}else this._viewRef=null}else this._viewRef&&N.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return S.\u0275fac=function(N){return new(N||S)(y.Y36(y.s_b))},S.\u0275dir=y.lG2({type:S,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[y.TTD]}),S})();class ys{createSubscription($,N){return $.subscribe({next:N,error:q=>{throw q}})}dispose($){$.unsubscribe()}}class _i{createSubscription($,N){return $.then(N,q=>{throw q})}dispose($){}}const Jo=new _i,Ns=new ys;let eo=(()=>{class S{constructor(N){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=N}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(N){return this._obj?N!==this._obj?(this._dispose(),this.transform(N)):this._latestValue:(N&&this._subscribe(N),this._latestValue)}_subscribe(N){this._obj=N,this._strategy=this._selectStrategy(N),this._subscription=this._strategy.createSubscription(N,q=>this._updateLatestValue(N,q))}_selectStrategy(N){if((0,y.QGY)(N))return Jo;if((0,y.F4k)(N))return Ns;throw function Gr(S,$){return new y.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(N,q){N===this._obj&&(this._latestValue=q,this._ref.markForCheck())}}return S.\u0275fac=function(N){return new(N||S)(y.Y36(y.sBO,16))},S.\u0275pipe=y.Yjl({name:"async",type:S,pure:!1,standalone:!0}),S})(),Ps=(()=>{class S{}return S.\u0275fac=function(N){return new(N||S)},S.\u0275mod=y.oAB({type:S}),S.\u0275inj=y.cJS({}),S})();const Zi="browser";let Ro=(()=>{class S{}return S.\u0275prov=(0,y.Yz7)({token:S,providedIn:"root",factory:()=>new Ai((0,y.LFG)(We),window)}),S})();class Ai{constructor($,N){this.document=$,this.window=N,this.offset=()=>[0,0]}setOffset($){this.offset=Array.isArray($)?()=>$:$}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition($){this.supportsScrolling()&&this.window.scrollTo($[0],$[1])}scrollToAnchor($){if(!this.supportsScrolling())return;const N=function Ks(S,$){const N=S.getElementById($)||S.getElementsByName($)[0];if(N)return N;if("function"==typeof S.createTreeWalker&&S.body&&(S.body.createShadowRoot||S.body.attachShadow)){const q=S.createTreeWalker(S.body,NodeFilter.SHOW_ELEMENT);let de=q.currentNode;for(;de;){const Ye=de.shadowRoot;if(Ye){const ot=Ye.getElementById($)||Ye.querySelector(`[name="${$}"]`);if(ot)return ot}de=q.nextNode()}}return null}(this.document,$);N&&(this.scrollToElement(N),N.focus())}setHistoryScrollRestoration($){if(this.supportScrollRestoration()){const N=this.window.history;N&&N.scrollRestoration&&(N.scrollRestoration=$)}}scrollToElement($){const N=$.getBoundingClientRect(),q=N.left+this.window.pageXOffset,de=N.top+this.window.pageYOffset,Ye=this.offset();this.window.scrollTo(q-Ye[0],de-Ye[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const $=Hi(this.window.history)||Hi(Object.getPrototypeOf(this.window.history));return!(!$||!$.writable&&!$.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Hi(S){return Object.getOwnPropertyDescriptor(S,"scrollRestoration")}class Os{}},8256:(yn,ct,Q)=>{Q.d(ct,{QbO:()=>zI,tb:()=>WE,AFp:()=>HE,ip1:()=>jE,CZH:()=>Jg,hGG:()=>ND,z2F:()=>tm,sBO:()=>gD,Sil:()=>YI,_Vd:()=>vc,EJc:()=>KI,Xts:()=>Ra,SBq:()=>_c,lqb:()=>Pa,qLn:()=>Ic,vpe:()=>$u,XFs:()=>Tt,OlP:()=>Mn,zs3:()=>gu,ZZ4:()=>fv,aQg:()=>pv,soG:()=>em,YKP:()=>G_,h0i:()=>bh,PXZ:()=>lD,R0b:()=>ru,FiY:()=>Pt,Lbi:()=>GI,g9A:()=>zE,Qsj:()=>gm,FYo:()=>wp,JOm:()=>Xa,tp0:()=>Un,Rgc:()=>np,dDg:()=>sD,eoX:()=>JE,q4F:()=>Uh,GfV:()=>Dp,s_b:()=>Yg,ifc:()=>ti,MMx:()=>jy,Lck:()=>H0,eFA:()=>nw,G48:()=>pD,Gpc:()=>Ot,f3M:()=>x,_c5:()=>xD,c2e:()=>WI,zSh:()=>Fh,wAp:()=>Bn,vHH:()=>xe,lri:()=>QE,rWj:()=>XE,D6c:()=>RD,cg1:()=>Oy,kL8:()=>g_,dqk:()=>rn,Z0I:()=>rr,sIi:()=>dh,CqO:()=>Ey,QGY:()=>vh,QP$:()=>Qe,F4k:()=>_y,RDi:()=>vl,AaK:()=>Nt,qOj:()=>Pf,TTD:()=>ji,_Bn:()=>H_,jDz:()=>W_,xp6:()=>Qp,uIk:()=>Zl,Tol:()=>Py,ekj:()=>Gg,Suo:()=>_E,Xpm:()=>Je,lG2:()=>Me,Yz7:()=>fr,cJS:()=>vr,oAB:()=>On,Yjl:()=>ce,Y36:()=>Ru,_UZ:()=>Lg,GkF:()=>Vg,BQk:()=>Qc,ynx:()=>Hf,qZA:()=>yh,TgZ:()=>jf,EpF:()=>vy,n5z:()=>ia,LFG:()=>Li,$8M:()=>Oo,$Z:()=>ul,NdJ:()=>_h,CRH:()=>EE,oxw:()=>qf,ALo:()=>cE,lcZ:()=>dE,Hsn:()=>Dy,F$t:()=>Eh,Q6J:()=>ec,DdM:()=>J_,VKq:()=>eE,WLB:()=>tE,kEZ:()=>nE,l5B:()=>rE,HTZ:()=>iE,iGM:()=>yE,MAs:()=>Fg,KtG:()=>lo,CHM:()=>uo,LSH:()=>xh,Udp:()=>Hg,YNc:()=>Bf,_uU:()=>Ni,Oqu:()=>di,hij:()=>Ms,AsE:()=>Di,Gf:()=>vE});var y=Q(7579),G=Q(727),De=Q(9751),me=Q(8189),Re=Q(8421),nt=Q(515),We=Q(7669),Ve=Q(8996),oe=Q(2961),pe=Q(4482);function lt(t,r,...s){if(!0===r)return void t();if(!1===r)return;const a=new oe.Hp({next:()=>{a.unsubscribe(),t()}});return r(...s).subscribe(a)}function Ue(t){for(let r in t)if(t[r]===Ue)return r;throw Error("Could not find renamed property on target object.")}function Et(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function Nt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Nt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Yt(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Ut=Ue({__forward_ref__:Ue});function Ot(t){return t.__forward_ref__=Ot,t.toString=function(){return Nt(this())},t}function _t(t){return Be(t)?t():t}function Be(t){return"function"==typeof t&&t.hasOwnProperty(Ut)&&t.__forward_ref__===Ot}class xe extends Error{constructor(r,s){super(function Dt(t,r){return`NG0${Math.abs(t)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function Ee(t){return"string"==typeof t?t:null==t?"":String(t)}function He(t,r){throw new xe(-201,!1)}function An(t,r){null==t&&function fn(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function fr(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function vr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Sr(t){return Bt(t,dr)||Bt(t,pr)}function rr(t){return null!==Sr(t)}function Bt(t,r){return t.hasOwnProperty(r)?t[r]:null}function Er(t){return t&&(t.hasOwnProperty(Ui)||t.hasOwnProperty(Dr))?t[Ui]:null}const dr=Ue({\u0275prov:Ue}),Ui=Ue({\u0275inj:Ue}),pr=Ue({ngInjectableDef:Ue}),Dr=Ue({ngInjectorDef:Ue});var Tt=(()=>((Tt=Tt||{})[Tt.Default=0]="Default",Tt[Tt.Host=1]="Host",Tt[Tt.Self=2]="Self",Tt[Tt.SkipSelf=4]="SkipSelf",Tt[Tt.Optional=8]="Optional",Tt))();let Vt;function un(t){const r=Vt;return Vt=t,r}function ir(t,r,s){const a=Sr(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Tt.Optional?null:void 0!==r?r:void He(Nt(t))}function Yr(t){return{toString:t}.toString()}var Vn=(()=>((Vn=Vn||{})[Vn.OnPush=0]="OnPush",Vn[Vn.Default=1]="Default",Vn))(),ti=(()=>{return(t=ti||(ti={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",ti;var t})();const rn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),gt={},Pe=[],It=Ue({\u0275cmp:Ue}),st=Ue({\u0275dir:Ue}),Ct=Ue({\u0275pipe:Ue}),En=Ue({\u0275mod:Ue}),le=Ue({\u0275fac:Ue}),ae=Ue({__NG_ELEMENT_ID__:Ue});let ve=0;function Je(t){return Yr(()=>{const s=!0===t.standalone,a={},l={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Vn.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||Pe,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||ti.Emulated,id:"c"+ve++,styles:t.styles||Pe,_:null,setInput:null,schemas:t.schemas||null,tView:null},d=t.dependencies,v=t.features;return l.inputs=jn(t.inputs,a),l.outputs=jn(t.outputs),v&&v.forEach(I=>I(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(Rt).filter(en):null,l.pipeDefs=d?()=>("function"==typeof d?d():d).map(Ie).filter(en):null,l})}function Rt(t){return ne(t)||ke(t)}function en(t){return null!==t}function On(t){return Yr(()=>({type:t.type,bootstrap:t.bootstrap||Pe,declarations:t.declarations||Pe,imports:t.imports||Pe,exports:t.exports||Pe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function jn(t,r){if(null==t)return gt;const s={};for(const a in t)if(t.hasOwnProperty(a)){let l=t[a],d=l;Array.isArray(l)&&(d=l[1],l=l[0]),s[l]=a,r&&(r[l]=d)}return s}const Me=Je;function ce(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ne(t){return t[It]||null}function ke(t){return t[st]||null}function Ie(t){return t[Ct]||null}function Qe(t){const r=ne(t)||ke(t)||Ie(t);return null!==r&&r.standalone}function mt(t,r){const s=t[En]||null;if(!s&&!0===r)throw new Error(`Type ${Nt(t)} does not have '\u0275mod' property.`);return s}function $r(t){return Array.isArray(t)&&"object"==typeof t[1]}function Kn(t){return Array.isArray(t)&&!0===t[1]}function Ti(t){return 0!=(8&t.flags)}function Gr(t){return 2==(2&t.flags)}function ys(t){return 1==(1&t.flags)}function _i(t){return null!==t.template}function Jo(t){return 0!=(256&t[2])}function Ps(t,r){return t.hasOwnProperty(le)?t[le]:null}class Zi{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function ji(){return Do}function Do(t){return t.type.prototype.ngOnChanges&&(t.setInput=Qr),Yi}function Yi(){const t=No(this),r=t?.current;if(r){const s=t.previous;if(s===gt)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function Qr(t,r,s,a){const l=No(t)||function Es(t,r){return t[ro]=r}(t,{previous:gt,current:null}),d=l.current||(l.current={}),v=l.previous,I=this.declaredInputs[s],A=v[I];d[I]=new Zi(A&&A.currentValue,r,v===gt),t[a]=r}ji.ngInherit=!0;const ro="__ngSimpleChanges__";function No(t){return t[ro]||null}function wn(t){for(;Array.isArray(t);)t=t[0];return t}function cs(t,r){return wn(r[t])}function pi(t,r){return wn(r[t.index])}function Lr(t,r){return t.data[r]}function Fs(t,r){return t[r]}function ii(t,r){const s=r[t];return $r(s)?s:s[0]}function ds(t){return 64==(64&t[2])}function Xr(t,r){return null==r?null:t[r]}function ss(t){t[18]=0}function so(t,r){t[5]+=r;let s=t,a=t[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const Ft={lFrame:ot(null),bindingsEnabled:!0};function Is(){return Ft.bindingsEnabled}function ht(){return Ft.lFrame.lView}function mn(){return Ft.lFrame.tView}function uo(t){return Ft.lFrame.contextLView=t,t[8]}function lo(t){return Ft.lFrame.contextLView=null,t}function F(){let t=k();for(;null!==t&&64===t.type;)t=t.parent;return t}function k(){return Ft.lFrame.currentTNode}function Z(t,r){const s=Ft.lFrame;s.currentTNode=t,s.isParent=r}function Ge(){return Ft.lFrame.isParent}function jt(){Ft.lFrame.isParent=!1}function gi(){const t=Ft.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function Si(){return Ft.lFrame.bindingIndex++}function Vs(t){const r=Ft.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function na(t,r){const s=Ft.lFrame;s.bindingIndex=s.bindingRootIndex=t,Us(r)}function Us(t){Ft.lFrame.currentDirectiveIndex=t}function S(){return Ft.lFrame.currentQueryIndex}function $(t){Ft.lFrame.currentQueryIndex=t}function N(t){const r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function q(t,r,s){if(s&Tt.SkipSelf){let l=r,d=t;for(;!(l=l.parent,null!==l||s&Tt.Host||(l=N(d),null===l||(d=d[15],10&l.type))););if(null===l)return!1;r=l,t=d}const a=Ft.lFrame=Ye();return a.currentTNode=r,a.lView=t,!0}function de(t){const r=Ye(),s=t[1];Ft.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Ye(){const t=Ft.lFrame,r=null===t?null:t.child;return null===r?ot(t):r}function ot(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function zt(){const t=Ft.lFrame;return Ft.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const gr=zt;function or(){const t=zt();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Zn(){return Ft.lFrame.selectedIndex}function mr(t){Ft.lFrame.selectedIndex=t}function Fn(){const t=Ft.lFrame;return Lr(t.tView,t.selectedIndex)}function qo(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=t.data[s].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:I,ngAfterViewInit:A,ngAfterViewChecked:U,ngOnDestroy:Y}=d;v&&(t.contentHooks||(t.contentHooks=[])).push(-s,v),I&&((t.contentHooks||(t.contentHooks=[])).push(s,I),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,I)),A&&(t.viewHooks||(t.viewHooks=[])).push(-s,A),U&&((t.viewHooks||(t.viewHooks=[])).push(s,U),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,U)),null!=Y&&(t.destroyHooks||(t.destroyHooks=[])).push(s,Y)}}function L(t,r,s){O(t,r,3,s)}function g(t,r,s,a){(3&t[2])===s&&O(t,r,s,a)}function w(t,r){let s=t[2];(3&s)===r&&(s&=2047,s+=1,t[2]=s)}function O(t,r,s,a){const d=a??-1,v=r.length-1;let I=0;for(let A=void 0!==a?65535&t[18]:0;A<v;A++)if("number"==typeof r[A+1]){if(I=r[A],null!=a&&I>=a)break}else r[A]<0&&(t[18]+=65536),(I<d||-1==d)&&(B(t,s,r,A),t[18]=(4294901760&t[18])+A+2),A++}function B(t,r,s,a){const l=s[a]<0,d=s[a+1],I=t[l?-s[a]:s[a]];if(l){if(t[2]>>11<t[18]>>16&&(3&t[2])===r){t[2]+=2048;try{d.call(I)}finally{}}}else try{d.call(I)}finally{}}const K=-1;class fe{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function bn(t,r,s){let a=0;for(;a<s.length;){const l=s[a];if("number"==typeof l){if(0!==l)break;a++;const d=s[a++],v=s[a++],I=s[a++];t.setAttribute(r,v,I,d)}else{const d=l,v=s[++a];xr(d)?t.setProperty(r,d,v):t.setAttribute(r,d,v),a++}}return a}function Tr(t){return 3===t||4===t||6===t}function xr(t){return 64===t.charCodeAt(0)}function ci(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const l=r[a];"number"==typeof l?s=l:0===s||as(t,s,l,null,-1===s||2===s?r[++a]:null)}}return t}function as(t,r,s,a,l){let d=0,v=t.length;if(-1===r)v=-1;else for(;d<t.length;){const I=t[d++];if("number"==typeof I){if(I===r){v=-1;break}if(I>r){v=d-1;break}}}for(;d<t.length;){const I=t[d];if("number"==typeof I)break;if(I===s){if(null===a)return void(null!==l&&(t[d+1]=l));if(a===t[d+1])return void(t[d+2]=l)}d++,null!==a&&d++,null!==l&&d++}-1!==v&&(t.splice(v,0,r),d=v+1),t.splice(d++,0,s),null!==a&&t.splice(d++,0,a),null!==l&&t.splice(d++,0,l)}function Xn(t){return t!==K}function Bs(t){return 32767&t}function Kr(t,r){let s=function ln(t){return t>>16}(t),a=r;for(;s>0;)a=a[15],s--;return a}let Gi=!0;function er(t){const r=Gi;return Gi=t,r}let fo=0;const yr={};function Ht(t,r){const s=tn(t,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(t.injectorIndex=r.length,sn(a.data,t),sn(r,null),sn(a.blueprint,null));const l=Yn(t,r),d=t.injectorIndex;if(Xn(l)){const v=Bs(l),I=Kr(l,r),A=I[1].data;for(let U=0;U<8;U++)r[d+U]=I[v+U]|A[v+U]}return r[d+8]=l,d}function sn(t,r){t.push(0,0,0,0,0,0,0,0,r)}function tn(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Yn(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,l=r;for(;null!==l;){if(a=$s(l),null===a)return K;if(s++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return K}function Nr(t,r,s){!function xt(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(ae)&&(a=s[ae]),null==a&&(a=s[ae]=fo++);const l=255&a;r.data[t+(l>>5)]|=1<<l}(t,r,s)}function mi(t,r,s){if(s&Tt.Optional||void 0!==t)return t;He()}function Ji(t,r,s,a){if(s&Tt.Optional&&void 0===a&&(a=null),0==(s&(Tt.Self|Tt.Host))){const l=t[9],d=un(void 0);try{return l?l.get(r,a,s&Tt.Optional):ir(r,a,s&Tt.Optional)}finally{un(d)}}return mi(a,0,s)}function Zr(t,r,s,a=Tt.Default,l){if(null!==t){if(1024&r[2]){const v=function Ko(t,r,s,a,l){let d=t,v=r;for(;null!==d&&null!==v&&1024&v[2]&&!(256&v[2]);){const I=es(d,v,s,a|Tt.Self,yr);if(I!==yr)return I;let A=d.parent;if(!A){const U=v[21];if(U){const Y=U.get(s,yr,a);if(Y!==yr)return Y}A=$s(v),v=v[15]}d=A}return l}(t,r,s,a,yr);if(v!==yr)return v}const d=es(t,r,s,a,yr);if(d!==yr)return d}return Ji(r,s,a,l)}function es(t,r,s,a,l){const d=function vi(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(ae)?t[ae]:void 0;return"number"==typeof r?r>=0?255&r:bs:r}(s);if("function"==typeof d){if(!q(r,t,a))return a&Tt.Host?mi(l,0,a):Ji(r,s,a,l);try{const v=d(a);if(null!=v||a&Tt.Optional)return v;He()}finally{gr()}}else if("number"==typeof d){let v=null,I=tn(t,r),A=K,U=a&Tt.Host?r[16][6]:null;for((-1===I||a&Tt.SkipSelf)&&(A=-1===I?Yn(t,r):r[I+8],A!==K&&Le(a,!1)?(v=r[1],I=Bs(A),r=Kr(A,r)):I=-1);-1!==I;){const Y=r[1];if(si(d,I,Y.data)){const re=Ka(I,r,s,v,a,U);if(re!==yr)return re}A=r[I+8],A!==K&&Le(a,r[1].data[I+8]===U)&&si(d,I,r)?(v=Y,I=Bs(A),r=Kr(A,r)):I=-1}}return l}function Ka(t,r,s,a,l,d){const v=r[1],I=v.data[t+8],Y=yi(I,v,s,null==a?Gr(I)&&Gi:a!=v&&0!=(3&I.type),l&Tt.Host&&d===I);return null!==Y?Xs(r,v,Y,I):yr}function yi(t,r,s,a,l){const d=t.providerIndexes,v=r.data,I=1048575&d,A=t.directiveStart,Y=d>>20,_e=l?I+Y:t.directiveEnd;for(let $e=a?I:I+Y;$e<_e;$e++){const ut=v[$e];if($e<A&&s===ut||$e>=A&&ut.type===s)return $e}if(l){const $e=v[A];if($e&&_i($e)&&$e.type===s)return A}return null}function Xs(t,r,s,a){let l=t[s];const d=r.data;if(function ee(t){return t instanceof fe}(l)){const v=l;v.resolving&&function rt(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new xe(-200,`Circular dependency in DI detected for ${t}${s}`)}(function Se(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ee(t)}(d[s]));const I=er(v.canSeeViewProviders);v.resolving=!0;const A=v.injectImpl?un(v.injectImpl):null;q(t,a,Tt.Default);try{l=t[s]=v.factory(void 0,d,t,a),r.firstCreatePass&&s>=a.directiveStart&&function Ds(t,r,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:d}=r.type.prototype;if(a){const v=Do(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,v),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,v)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,l),d&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,d),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,d))}(s,d[s],r)}finally{null!==A&&un(A),er(I),v.resolving=!1,gr()}}return l}function si(t,r,s){return!!(s[r+(t>>5)]&1<<t)}function Le(t,r){return!(t&Tt.Self||t&Tt.Host&&r)}class Co{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return Zr(this._tNode,this._lView,r,a,s)}}function bs(){return new Co(F(),ht())}function ia(t){return Yr(()=>{const r=t.prototype.constructor,s=r[le]||sa(r),a=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==a;){const d=l[le]||sa(l);if(d&&d!==s)return d;l=Object.getPrototypeOf(l)}return d=>new d})}function sa(t){return Be(t)?()=>{const r=sa(_t(t));return r&&r()}:Ps(t)}function $s(t){const r=t[1],s=r.type;return 2===s?r.declTNode:1===s?t[6]:null}function Oo(t){return function po(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const d=s[l];if(Tr(d))break;if(0===d)l+=2;else if("number"==typeof d)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(d===r)return s[l+1];l+=2}}}return null}(F(),t)}const oa="__parameters__";function Ca(t,r,s){return Yr(()=>{const a=function zi(t){return function(...s){if(t){const a=t(...s);for(const l in a)this[l]=a[l]}}}(r);function l(...d){if(this instanceof l)return a.apply(this,d),this;const v=new l(...d);return I.annotation=v,I;function I(A,U,Y){const re=A.hasOwnProperty(oa)?A[oa]:Object.defineProperty(A,oa,{value:[]})[oa];for(;re.length<=Y;)re.push(null);return(re[Y]=re[Y]||[]).push(v),A}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}class Mn{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=fr({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ii(t,r){void 0===r&&(r=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(r===t&&(r=t.slice(0,s)),Ii(a,r)):r!==t&&r.push(a)}return r}function ts(t,r){t.forEach(s=>Array.isArray(s)?ts(s,r):r(s))}function Sa(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function la(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function Va(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}function m(t,r,s){let a=P(t,r);return a>=0?t[1|a]=s:(a=~a,function ya(t,r,s,a){let l=t.length;if(l==r)t.push(s,a);else if(1===l)t.push(a,t[0]),t[0]=s;else{for(l--,t.push(t[l-1],t[l]);l>r;)t[l]=t[l-2],l--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function T(t,r){const s=P(t,r);if(s>=0)return t[1|s]}function P(t,r){return function se(t,r,s){let a=0,l=t.length>>s;for(;l!==a;){const d=a+(l-a>>1),v=t[d<<s];if(r===v)return d<<s;v>r?l=d:a=d+1}return~(l<<s)}(t,r,1)}const ns={},Wi="__NG_DI_FLAG__",Yo="ngTempTokenPath",nd=/\n/gm,_a="__source";let Hu;function ca(t){const r=Hu;return Hu=t,r}function Ya(t,r=Tt.Default){if(void 0===Hu)throw new xe(-203,!1);return null===Hu?ir(t,void 0,r):Hu.get(t,r&Tt.Optional?null:void 0,r)}function Li(t,r=Tt.Default){return(function nn(){return Vt}()||Ya)(_t(t),r)}function x(t,r=Tt.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),Li(t,r)}function R(t){const r=[];for(let s=0;s<t.length;s++){const a=_t(t[s]);if(Array.isArray(a)){if(0===a.length)throw new xe(900,!1);let l,d=Tt.Default;for(let v=0;v<a.length;v++){const I=a[v],A=ie(I);"number"==typeof A?-1===A?l=I.token:d|=A:l=I}r.push(Li(l,d))}else r.push(Li(a))}return r}function H(t,r){return t[Wi]=r,t.prototype[Wi]=r,t}function ie(t){return t[Wi]}const Pt=H(Ca("Optional"),8),Un=H(Ca("SkipSelf"),4);let zu;function vl(t){zu=t}class lc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function $a(t){return t instanceof lc?t.changingThisBreaksApplicationSecurity:t}const qt=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var js=(()=>((js=js||{})[js.NONE=0]="NONE",js[js.HTML=1]="HTML",js[js.STYLE=2]="STYLE",js[js.SCRIPT=3]="SCRIPT",js[js.URL=4]="URL",js[js.RESOURCE_URL=5]="RESOURCE_URL",js))();function xh(t){const r=function cu(){const t=ht();return t&&t[12]}();return r?r.sanitize(js.URL,t)||"":function ja(t,r){const s=function Mh(t){return t instanceof lc&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(t,"URL")?$a(t):function Kt(t){return(t=String(t)).match(qt)?t:"unsafe:"+t}(Ee(t))}const Ra=new Mn("ENVIRONMENT_INITIALIZER"),dd=new Mn("INJECTOR",-1),Nh=new Mn("INJECTOR_DEF_TYPES");class Sl{get(r,s=ns){if(s===ns){const a=new Error(`NullInjectorError: No provider for ${Nt(r)}!`);throw a.name="NullInjectorError",a}return s}}function hp(...t){return{\u0275providers:Rh(0,t)}}function Rh(t,...r){const s=[],a=new Set;let l;return ts(r,d=>{const v=d;Oh(v,s,[],a)&&(l||(l=[]),l.push(v))}),void 0!==l&&Ph(l,s),s}function Ph(t,r){for(let s=0;s<t.length;s++){const{providers:l}=t[s];ts(l,d=>{r.push(d)})}}function Oh(t,r,s,a){if(!(t=_t(t)))return!1;let l=null,d=Er(t);const v=!d&&ne(t);if(d||v){if(v&&!v.standalone)return!1;l=t}else{const A=t.ngModule;if(d=Er(A),!d)return!1;l=A}const I=a.has(l);if(v){if(I)return!1;if(a.add(l),v.dependencies){const A="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const U of A)Oh(U,r,s,a)}}else{if(!d)return!1;{if(null!=d.imports&&!I){let U;a.add(l);try{ts(d.imports,Y=>{Oh(Y,r,s,a)&&(U||(U=[]),U.push(Y))})}finally{}void 0!==U&&Ph(U,r)}if(!I){const U=Ps(l)||(()=>new l);r.push({provide:l,useFactory:U,deps:Pe},{provide:Nh,useValue:l,multi:!0},{provide:Ra,useValue:()=>Li(l),multi:!0})}const A=d.providers;null==A||I||ts(A,Y=>{r.push(Y)})}}return l!==t&&void 0!==t.providers}const gc=Ue({provide:String,useValue:Ue});function mc(t){return null!==t&&"object"==typeof t&&gc in t}function du(t){return"function"==typeof t}const Fh=new Mn("Set Injector scope."),yc={},um={};let Lh;function hu(){return void 0===Lh&&(Lh=new Sl),Lh}class Pa{}class gp extends Pa{constructor(r,s,a,l){super(),this.parent=s,this.source=a,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fd(r,v=>this.processProvider(v)),this.records.set(dd,Al(void 0,this)),l.has("environment")&&this.records.set(Pa,Al(void 0,this));const d=this.records.get(Fh);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Nh.multi,Pe,Tt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=ca(this),a=un(void 0);try{return r()}finally{ca(s),un(a)}}get(r,s=ns,a=Tt.Default){this.assertNotDestroyed();const l=ca(this),d=un(void 0);try{if(!(a&Tt.SkipSelf)){let I=this.records.get(r);if(void 0===I){const A=function vp(t){return"function"==typeof t||"object"==typeof t&&t instanceof Mn}(r)&&Sr(r);I=A&&this.injectableDefInScope(A)?Al(Vh(r),yc):null,this.records.set(r,I)}if(null!=I)return this.hydrate(r,I)}return(a&Tt.Self?hu():this.parent).get(r,s=a&Tt.Optional&&s===ns?null:s)}catch(v){if("NullInjectorError"===v.name){if((v[Yo]=v[Yo]||[]).unshift(Nt(r)),l)throw v;return function Ae(t,r,s,a){const l=t[Yo];throw r[_a]&&l.unshift(r[_a]),t.message=function Ke(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let l=Nt(r);if(Array.isArray(r))l=r.map(Nt).join(" -> ");else if("object"==typeof r){let d=[];for(let v in r)if(r.hasOwnProperty(v)){let I=r[v];d.push(v+":"+("string"==typeof I?JSON.stringify(I):Nt(I)))}l=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${t.replace(nd,"\n  ")}`}("\n"+t.message,l,s,a),t.ngTokenPath=l,t[Yo]=null,t}(v,r,"R3InjectorError",this.source)}throw v}finally{un(d),ca(l)}}resolveInjectorInitializers(){const r=ca(this),s=un(void 0);try{const a=this.get(Ra.multi,Pe,Tt.Self);for(const l of a)l()}finally{ca(r),un(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(Nt(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processProvider(r){let s=du(r=_t(r))?r:_t(r&&r.provide);const a=function mp(t){return mc(t)?Al(void 0,t.useValue):Al(Bo(t),yc)}(r);if(du(r)||!0!==r.multi)this.records.get(s);else{let l=this.records.get(s);l||(l=Al(void 0,yc,!0),l.factory=()=>R(l.multi),this.records.set(s,l)),s=r,l.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===yc&&(s.value=um,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Qa(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=_t(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function Vh(t){const r=Sr(t),s=null!==r?r.factory:Ps(t);if(null!==s)return s;if(t instanceof Mn)throw new xe(204,!1);if(t instanceof Function)return function lm(t){const r=t.length;if(r>0)throw Va(r,"?"),new xe(204,!1);const s=function zn(t){const r=t&&(t[dr]||t[pr]);if(r){const s=function Ir(t){if(t.hasOwnProperty("name"))return t.name;const r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new xe(204,!1)}function Bo(t,r,s){let a;if(du(t)){const l=_t(t);return Ps(l)||Vh(l)}if(mc(t))a=()=>_t(t.useValue);else if(function kh(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...R(t.deps||[]));else if(function fp(t){return!(!t||!t.useExisting)}(t))a=()=>Li(_t(t.useExisting));else{const l=_t(t&&(t.useClass||t.provide));if(!function yp(t){return!!t.deps}(t))return Ps(l)||Vh(l);a=()=>new l(...R(t.deps))}return a}function Al(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function hd(t){return!!t.\u0275providers}function fd(t,r){for(const s of t)Array.isArray(s)?fd(s,r):hd(s)?fd(s.\u0275providers,r):r(s)}class _p{}class hm{resolveComponentFactory(r){throw function dm(t){const r=Error(`No component factory found for ${Nt(t)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=t,r}(r)}}let vc=(()=>{class t{}return t.NULL=new hm,t})();function fm(){return Ml(F(),ht())}function Ml(t,r){return new _c(pi(t,r))}let _c=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=fm,t})();function pm(t){return t instanceof _c?t.nativeElement:t}class wp{}let gm=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function mm(){const t=ht(),s=ii(F().index,t);return($r(s)?s:t)[11]}(),t})(),Ip=(()=>{class t{}return t.\u0275prov=fr({token:t,providedIn:"root",factory:()=>null}),t})();class Dp{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Uh=new Dp("14.2.7"),pd={};function md(t){return t.ngOriginalError}class Ic{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&md(r);for(;s&&md(s);)s=md(s);return s||null}}const Hh=new Map;let Im=0;const Gh="__ngContext__";function Mo(t,r){$r(r)?(t[Gh]=r[20],function tl(t){Hh.set(t[20],t)}(r)):t[Gh]=r}function pa(t){return t instanceof Function?t():t}var Xa=(()=>((Xa=Xa||{})[Xa.Important=1]="Important",Xa[Xa.DashCase=2]="DashCase",Xa))();function qh(t,r){return undefined(t,r)}function kl(t){const r=t[3];return Kn(r)?r[3]:r}function _d(t){return Fp(t[13])}function Ed(t){return Fp(t[4])}function Fp(t){for(;null!==t&&!Kn(t);)t=t[4];return t}function Fl(t,r,s,a,l){if(null!=a){let d,v=!1;Kn(a)?d=a:$r(a)&&(v=!0,a=a[0]);const I=wn(a);0===t&&null!==s?null==l?Up(r,s,I):xu(r,s,I,l||null,!0):1===t&&null!==s?xu(r,s,I,l||null,!0):2===t?function ef(t,r,s){const a=Ad(t,r);a&&function Bp(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,I,v):3===t&&r.destroyNode(I),null!=d&&function zp(t,r,s,a,l){const d=s[7];d!==wn(s)&&Fl(r,t,a,d,l);for(let I=10;I<s.length;I++){const A=s[I];ol(A[1],A,t,r,a,d)}}(r,t,d,s,l)}}function Yh(t,r,s){return t.createElement(r,s)}function Vp(t,r){const s=t[9],a=s.indexOf(r),l=r[3];512&r[2]&&(r[2]&=-513,so(l,-1)),s.splice(a,1)}function Dd(t,r){if(t.length<=10)return;const s=10+r,a=t[s];if(a){const l=a[17];null!==l&&l!==t&&Vp(l,a),r>0&&(t[s-1][4]=a[4]);const d=la(t,10+r);!function Am(t,r){ol(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const v=d[19];null!==v&&v.detachView(d[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function bd(t,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&ol(t,r,s,3,null,null),function Lp(t){let r=t[13];if(!r)return xc(t[1],t);for(;r;){let s=null;if($r(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==t;)$r(r)&&xc(r[1],r),r=r[3];null===r&&(r=t),$r(r)&&xc(r[1],r),s=r&&r[4]}r=s}}(r)}}function xc(t,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Cd(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const l=r[s[a]];if(!(l instanceof fe)){const d=s[a+1];if(Array.isArray(d))for(let v=0;v<d.length;v+=2){const I=l[d[v]],A=d[v+1];try{A.call(I)}finally{}}else try{d.call(l)}finally{}}}}(t,r),function Nc(t,r){const s=t.cleanup,a=r[7];let l=-1;if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const v=s[d+1],I="function"==typeof v?v(r):wn(r[v]),A=a[l=s[d+2]],U=s[d+3];"boolean"==typeof U?I.removeEventListener(s[d],A,U):U>=0?a[l=U]():a[l=-U].unsubscribe(),d+=2}else{const v=a[l=s[d+1]];s[d].call(v)}if(null!==a){for(let d=l+1;d<a.length;d++)(0,a[d])();r[7]=null}}(t,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&Kn(r[3])){s!==r[3]&&Vp(s,r);const a=r[19];null!==a&&a.detachView(t)}!function xp(t){Hh.delete(t[20])}(r)}}function Td(t,r,s){return function Sd(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const l=t.data[a.directiveStart].encapsulation;if(l===ti.None||l===ti.Emulated)return null}return pi(a,s)}(t,r.parent,s)}function xu(t,r,s,a,l){t.insertBefore(r,s,a,l)}function Up(t,r,s){t.appendChild(r,s)}function Qh(t,r,s,a,l){null!==a?xu(t,r,s,a,l):Up(t,r,s)}function Ad(t,r){return t.parentNode(r)}function Hp(t,r,s){return Gp(t,r,s)}let Gp=function Xh(t,r,s){return 40&t.type?pi(t,s):null};function Ll(t,r,s,a){const l=Td(t,a,r),d=r[11],I=Hp(a.parent||r[6],a,r);if(null!=l)if(Array.isArray(s))for(let A=0;A<s.length;A++)Qh(d,l,s[A],I,!1);else Qh(d,l,s,I,!1)}function sl(t,r){if(null!==r){const s=r.type;if(3&s)return pi(r,t);if(4&s)return Md(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return sl(t,a);{const l=t[r.index];return Kn(l)?Md(-1,l):wn(l)}}if(32&s)return qh(r,t)()||wn(t[r.index]);{const a=Jh(t,r);return null!==a?Array.isArray(a)?a[0]:sl(kl(t[16]),a):sl(t,r.next)}}return null}function Jh(t,r){return null!==r?t[16][6].projection[r.projection]:null}function Md(t,r){const s=10+t+1;if(s<r.length){const a=r[s],l=a[1].firstChild;if(null!==l)return sl(a,l)}return r[7]}function tf(t,r,s,a,l,d,v){for(;null!=s;){const I=a[s.index],A=s.type;if(v&&0===r&&(I&&Mo(wn(I),a),s.flags|=4),64!=(64&s.flags))if(8&A)tf(t,r,s.child,a,l,d,!1),Fl(r,t,l,I,d);else if(32&A){const U=qh(s,a);let Y;for(;Y=U();)Fl(r,t,l,Y,d);Fl(r,t,l,I,d)}else 16&A?xd(t,r,a,s,l,d):Fl(r,t,l,I,d);s=v?s.projectionNext:s.next}}function ol(t,r,s,a,l,d){tf(s,a,t.firstChild,r,l,d,!1)}function xd(t,r,s,a,l,d){const v=s[16],A=v[6].projection[a.projection];if(Array.isArray(A))for(let U=0;U<A.length;U++)Fl(r,t,l,A[U],d);else tf(t,r,A,v[3],l,d,!0)}function Nd(t,r,s){t.setAttribute(r,"style",s)}function Vl(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function Ul(t,r,s){let a=t.length;for(;;){const l=t.indexOf(r,s);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const d=r.length;if(l+d===a||t.charCodeAt(l+d)<=32)return l}s=l+1}}const Rd="ng-template";function rf(t,r,s){let a=0;for(;a<t.length;){let l=t[a++];if(s&&"class"===l){if(l=t[a],-1!==Ul(l.toLowerCase(),r,0))return!0}else if(1===l){for(;a<t.length&&"string"==typeof(l=t[a++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function Pd(t){return 4===t.type&&t.value!==Rd}function qp(t,r,s){return r===(4!==t.type||s?t.value:Rd)}function Pm(t,r,s){let a=4;const l=t.attrs||[],d=function Zp(t){for(let r=0;r<t.length;r++)if(Tr(t[r]))return r;return t.length}(l);let v=!1;for(let I=0;I<r.length;I++){const A=r[I];if("number"!=typeof A){if(!v)if(4&a){if(a=2|1&a,""!==A&&!qp(t,A,s)||""===A&&1===r.length){if(Oa(a))return!1;v=!0}}else{const U=8&a?A:r[++I];if(8&a&&null!==t.attrs){if(!rf(t.attrs,U,s)){if(Oa(a))return!1;v=!0}continue}const re=Om(8&a?"class":A,l,Pd(t),s);if(-1===re){if(Oa(a))return!1;v=!0;continue}if(""!==U){let _e;_e=re>d?"":l[re+1].toLowerCase();const $e=8&a?_e:null;if($e&&-1!==Ul($e,U,0)||2&a&&U!==_e){if(Oa(a))return!1;v=!0}}}}else{if(!v&&!Oa(a)&&!Oa(A))return!1;if(v&&Oa(A))continue;v=!1,a=A|1&a}}return Oa(a)||v}function Oa(t){return 0==(1&t)}function Om(t,r,s,a){if(null===r)return-1;let l=0;if(a||!s){let d=!1;for(;l<r.length;){const v=r[l];if(v===t)return l;if(3===v||6===v)d=!0;else{if(1===v||2===v){let I=r[++l];for(;"string"==typeof I;)I=r[++l];continue}if(4===v)break;if(0===v){l+=4;continue}}l+=d?1:2}return-1}return function Od(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function Kp(t,r,s=!1){for(let a=0;a<r.length;a++)if(Pm(t,r[a],s))return!0;return!1}function Rc(t,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(t.length===a.length){for(let l=0;l<t.length;l++)if(t[l]!==a[l])continue e;return!0}}return!1}function kd(t,r){return t?":not("+r.trim()+")":r}function Yp(t){let r=t[0],s=1,a=2,l="",d=!1;for(;s<t.length;){let v=t[s];if("string"==typeof v)if(2&a){const I=t[++s];l+="["+v+(I.length>0?'="'+I+'"':"")+"]"}else 8&a?l+="."+v:4&a&&(l+=" "+v);else""!==l&&!Oa(v)&&(r+=kd(d,l),l=""),a=v,d=d||!Oa(a);s++}return""!==l&&(r+=kd(d,l)),r}const cr={};function Qp(t){Fd(mn(),ht(),Zn()+t,!1)}function Fd(t,r,s,a){if(!a)if(3==(3&r[2])){const d=t.preOrderCheckHooks;null!==d&&L(r,d,s)}else{const d=t.preOrderHooks;null!==d&&g(r,d,0,s)}mr(s)}function sf(t,r=null,s=null,a){const l=Bd(t,r,s,a);return l.resolveInjectorInitializers(),l}function Bd(t,r=null,s=null,a,l=new Set){const d=[s||Pe,hp(t)];return a=a||("object"==typeof t?void 0:Nt(t)),new gp(d,r||hu(),a||null,l)}let gu=(()=>{class t{static create(s,a){if(Array.isArray(s))return sf({name:""},a,s,"");{const l=s.name??"";return sf({name:l},s.parent,s.providers,l)}}}return t.THROW_IF_NOT_FOUND=ns,t.NULL=new Sl,t.\u0275prov=fr({token:t,providedIn:"any",factory:()=>Li(dd)}),t.__NG_ELEMENT_ID__=-1,t})();function Ru(t,r=Tt.Default){const s=ht();return null===s?Li(t,r):Zr(F(),s,_t(t),r)}function ul(){throw new Error("invalid")}function Vc(t,r){return t<<17|r<<2}function $o(t){return t>>17&32767}function Uc(t){return 2|t}function Ga(t){return(131068&t)>>2}function Bc(t,r){return-131069&t|r<<2}function gf(t){return 1|t}function yg(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const l=s[a],d=s[a+1];if(-1!==d){const v=t.data[d];$(l),v.contentQueries(2,r[d],d)}}}function eh(t,r,s,a,l,d,v,I,A,U,Y){const re=r.blueprint.slice();return re[0]=l,re[2]=76|a,(null!==Y||t&&1024&t[2])&&(re[2]|=1024),ss(re),re[3]=re[15]=t,re[8]=s,re[10]=v||t&&t[10],re[11]=I||t&&t[11],re[12]=A||t&&t[12]||null,re[9]=U||t&&t[9]||null,re[6]=d,re[20]=function Dc(){return Im++}(),re[21]=Y,re[16]=2==r.type?t[16]:re,re}function Pu(t,r,s,a,l){let d=t.data[r];if(null===d)d=function Df(t,r,s,a,l){const d=k(),v=Ge(),A=t.data[r]=function ey(t,r,s,a,l,d){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?d:d&&d.parent,s,r,a,l);return null===t.firstChild&&(t.firstChild=A),null!==d&&(v?null==d.child&&null!==A.parent&&(d.child=A):null===d.next&&(d.next=A)),A}(t,r,s,a,l),function co(){return Ft.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=s,d.value=a,d.attrs=l;const v=function M(){const t=Ft.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();d.injectorIndex=null===v?-1:v.injectorIndex}return Z(d,!0),d}function Ou(t,r,s,a){if(0===s)return-1;const l=r.length;for(let d=0;d<s;d++)r.push(a),t.blueprint.push(a),t.data.push(null);return l}function bf(t,r,s){de(r);try{const a=t.viewQuery;null!==a&&zc(1,a,s);const l=t.template;null!==l&&Cf(t,r,l,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&yg(t,r),t.staticViewQueries&&zc(2,t.viewQuery,s);const d=t.components;null!==d&&function If(t,r){for(let s=0;s<r.length;s++)cy(t,r[s])}(r,d)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[2]&=-5,or()}}function jl(t,r,s,a){const l=r[2];if(128!=(128&l)){de(r);try{ss(r),function Qs(t){return Ft.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Cf(t,r,s,2,a);const v=3==(3&l);if(v){const U=t.preOrderCheckHooks;null!==U&&L(r,U,null)}else{const U=t.preOrderHooks;null!==U&&g(r,U,0,null),w(r,0)}if(function uy(t){for(let r=_d(t);null!==r;r=Ed(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const l=s[a],d=l[3];0==(512&l[2])&&so(d,1),l[2]|=512}}}(r),function ay(t){for(let r=_d(t);null!==r;r=Ed(r))for(let s=10;s<r.length;s++){const a=r[s],l=a[1];ds(a)&&jl(l,a,l.template,a[8])}}(r),null!==t.contentQueries&&yg(t,r),v){const U=t.contentCheckHooks;null!==U&&L(r,U)}else{const U=t.contentHooks;null!==U&&g(r,U,1),w(r,1)}!function wf(t,r){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)mr(~l);else{const d=l,v=s[++a],I=s[++a];na(v,d),I(2,r[d])}}}finally{mr(-1)}}(t,r);const I=t.components;null!==I&&function Xm(t,r){for(let s=0;s<r.length;s++)ly(t,r[s])}(r,I);const A=t.viewQuery;if(null!==A&&zc(2,A,a),v){const U=t.viewCheckHooks;null!==U&&L(r,U)}else{const U=t.viewHooks;null!==U&&g(r,U,2),w(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,so(r[3],-1))}finally{or()}}}function Cf(t,r,s,a,l){const d=Zn(),v=2&a;try{mr(-1),v&&r.length>22&&Fd(t,r,22,!1),s(a,l)}finally{mr(d)}}function th(t,r,s){if(Ti(r)){const l=r.directiveEnd;for(let d=r.directiveStart;d<l;d++){const v=t.data[d];v.contentQueries&&v.contentQueries(1,s[d],d)}}}function nh(t,r,s){!Is()||(function bg(t,r,s,a){const l=s.directiveStart,d=s.directiveEnd;t.firstCreatePass||Ht(s,r),Mo(a,r);const v=s.initialInputs;for(let I=l;I<d;I++){const A=t.data[I],U=_i(A);U&&Sg(r,s,A);const Y=Xs(r,t,I,s);Mo(Y,r),null!==v&&Ag(0,I-l,Y,A,0,v),U&&(ii(s.index,r)[8]=Y)}}(t,r,s,pi(s,r)),128==(128&s.flags)&&function Cg(t,r,s){const a=s.directiveStart,l=s.directiveEnd,d=s.index,v=function ra(){return Ft.lFrame.currentDirectiveIndex}();try{mr(d);for(let I=a;I<l;I++){const A=t.data[I],U=r[I];Us(I),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&Gl(A,U)}}finally{mr(-1),Us(v)}}(t,r,s))}function Tf(t,r,s=pi){const a=r.localNames;if(null!==a){let l=r.index+1;for(let d=0;d<a.length;d+=2){const v=a[d+1],I=-1===v?s(r,t):t[v];t[l++]=I}}}function vg(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Gc(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function Gc(t,r,s,a,l,d,v,I,A,U){const Y=22+a,re=Y+l,_e=function Jm(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:cr);return s}(Y,re),$e="function"==typeof U?U():U;return _e[1]={type:t,blueprint:_e,template:s,queries:null,viewQuery:I,declTNode:r,data:_e.slice().fill(null,Y),bindingStartIndex:Y,expandoStartIndex:re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:A,consts:$e,incompleteFirstPass:!1}}function rh(t,r,s,a){const l=uh(r);null===s?l.push(a):(l.push(s),t.firstCreatePass&&xf(t).push(a,l.length-1))}function Eg(t,r,s){for(let a in t)if(t.hasOwnProperty(a)){const l=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,l):s[a]=[r,l]}return s}function wg(t,r){const a=r.directiveEnd,l=t.data,d=r.attrs,v=[];let I=null,A=null;for(let U=r.directiveStart;U<a;U++){const Y=l[U],re=Y.inputs,_e=null===d||Pd(r)?null:oh(re,d);v.push(_e),I=Eg(re,U,I),A=Eg(Y.outputs,U,A)}null!==I&&(I.hasOwnProperty("class")&&(r.flags|=16),I.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=v,r.inputs=I,r.outputs=A}function ih(t,r){const s=ii(r,t);16&s[2]||(s[2]|=32)}function Hl(t,r,s,a){let l=!1;if(Is()){const d=function iy(t,r,s){const a=t.directiveRegistry;let l=null;if(a)for(let d=0;d<a.length;d++){const v=a[d];Kp(s,v.selectors,!1)&&(l||(l=[]),Nr(Ht(s,r),t,v.type),_i(v)?(ps(t,s),l.unshift(v)):l.push(v))}return l}(t,r,s),v=null===a?null:{"":-1};if(null!==d){l=!0,Tg(s,t.data.length,d.length);for(let Y=0;Y<d.length;Y++){const re=d[Y];re.providersResolver&&re.providersResolver(re)}let I=!1,A=!1,U=Ou(t,r,d.length,null);for(let Y=0;Y<d.length;Y++){const re=d[Y];s.mergedAttrs=ci(s.mergedAttrs,re.hostAttrs),sy(t,s,r,U,re),eu(U,re,v),null!==re.contentQueries&&(s.flags|=8),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(s.flags|=128);const _e=re.type.prototype;!I&&(_e.ngOnChanges||_e.ngOnInit||_e.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),I=!0),!A&&(_e.ngOnChanges||_e.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),A=!0),U++}wg(t,s)}v&&function Ho(t,r,s){if(r){const a=t.localNames=[];for(let l=0;l<r.length;l+=2){const d=s[r[l+1]];if(null==d)throw new xe(-301,!1);a.push(r[l],d)}}}(s,a,v)}return s.mergedAttrs=ci(s.mergedAttrs,s.attrs),l}function Hr(t,r,s,a,l,d){const v=d.hostBindings;if(v){let I=t.hostBindingOpCodes;null===I&&(I=t.hostBindingOpCodes=[]);const A=~r.index;(function Dg(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(I)!=A&&I.push(A),I.push(a,l,v)}}function Gl(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function ps(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function eu(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;_i(r)&&(s[""]=t)}}function Tg(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}function sy(t,r,s,a,l){t.data[a]=l;const d=l.factory||(l.factory=Ps(l.type)),v=new fe(d,_i(l),Ru);t.blueprint[a]=v,s[a]=v,Hr(t,r,0,a,Ou(t,s,l.hostVars,cr),l)}function Sg(t,r,s){const a=pi(r,t),l=vg(s),d=t[10],v=zl(t,eh(t,l,null,s.onPush?32:16,a,r,d,d.createRenderer(a,s),null,null,null));t[r.index]=v}function yu(t,r,s,a,l,d){const v=pi(t,r);!function sh(t,r,s,a,l,d,v){if(null==d)t.removeAttribute(r,l,s);else{const I=null==v?Ee(d):v(d,a||"",l);t.setAttribute(r,l,I,s)}}(r[11],v,d,t.value,s,a,l)}function Ag(t,r,s,a,l,d){const v=d[r];if(null!==v){const I=a.setInput;for(let A=0;A<v.length;){const U=v[A++],Y=v[A++],re=v[A++];null!==I?a.setInput(s,re,U,Y):s[Y]=re}}}function oh(t,r){let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;t.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,t[l],r[a+1])),a+=2}else a+=2;else a+=4}return s}function oy(t,r,s,a){return new Array(t,!0,!1,r,null,0,a,s,null,null)}function ly(t,r){const s=ii(r,t);if(ds(s)){const a=s[1];48&s[2]?jl(a,s,a.template,s[8]):s[5]>0&&Af(s)}}function Af(t){for(let a=_d(t);null!==a;a=Ed(a))for(let l=10;l<a.length;l++){const d=a[l];if(ds(d))if(512&d[2]){const v=d[1];jl(v,d,v.template,d[8])}else d[5]>0&&Af(d)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const l=ii(s[a],t);ds(l)&&l[5]>0&&Af(l)}}function cy(t,r){const s=ii(r,t),a=s[1];(function Mg(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])})(a,s),bf(a,s,s[8])}function zl(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function ah(t){for(;t;){t[2]|=32;const r=kl(t);if(Jo(t)&&!r)return t;t=r}return null}function Wl(t,r,s,a=!0){const l=r[10];l.begin&&l.begin();try{jl(t,r,t.template,s)}catch(v){throw a&&lh(r,v),v}finally{l.end&&l.end()}}function zc(t,r,s){$(0),r(t,s)}function uh(t){return t[7]||(t[7]=[])}function xf(t){return t.cleanup||(t.cleanup=[])}function lh(t,r){const s=t[9],a=s?s.get(Ic,null):null;a&&a.handleError(r)}function qc(t,r,s,a,l){for(let d=0;d<s.length;){const v=s[d++],I=s[d++],A=r[v],U=t.data[v];null!==U.setInput?U.setInput(A,l,a,I):A[I]=l}}function tu(t,r,s){const a=cs(r,t);!function wd(t,r,s){t.setValue(r,s)}(t[11],a,s)}function vu(t,r,s){let a=s?t.styles:null,l=s?t.classes:null,d=0;if(null!==r)for(let v=0;v<r.length;v++){const I=r[v];"number"==typeof I?d=I:1==d?l=Yt(l,I):2==d&&(a=Yt(a,I+": "+r[++v]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=l:t.classesWithoutHost=l}function ql(t,r,s,a,l=!1){for(;null!==s;){const d=r[s.index];if(null!==d&&a.push(wn(d)),Kn(d))for(let I=10;I<d.length;I++){const A=d[I],U=A[1].firstChild;null!==U&&ql(A[1],A,U,a)}const v=s.type;if(8&v)ql(t,r,s.child,a);else if(32&v){const I=qh(s,r);let A;for(;A=I();)a.push(A)}else if(16&v){const I=Jh(r,s);if(Array.isArray(I))a.push(...I);else{const A=kl(r[16]);ql(A[1],A,I,a,!0)}}s=l?s.projectionNext:s.next}return a}class Kc{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return ql(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Kn(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(Dd(r,a),la(s,a))}this._attachedToViewContainer=!1}bd(this._lView[1],this._lView)}onDestroy(r){rh(this._lView[1],this._lView,null,r)}markForCheck(){ah(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Wl(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function xm(t,r){ol(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new xe(902,!1);this._appRef=r}}class dy extends Kc{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Wl(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class Nf extends vc{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=ne(r);return new Zc(s,this.ngModule)}}function Rf(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class Ng{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const l=this.injector.get(r,pd,a);return l!==pd||s===pd?l:this.parentInjector.get(r,s,a)}}class Zc extends _p{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Fm(t){return t.map(Yp).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Rf(this.componentDef.inputs)}get outputs(){return Rf(this.componentDef.outputs)}create(r,s,a,l){let d=(l=l||this.ngModule)instanceof Pa?l:l?.injector;d&&null!==this.componentDef.getStandaloneInjector&&(d=this.componentDef.getStandaloneInjector(d)||d);const v=d?new Ng(r,d):r,I=v.get(wp,null);if(null===I)throw new xe(407,!1);const A=v.get(Ip,null),U=I.createRenderer(null,this.componentDef),Y=this.componentDef.selectors[0][0]||"div",re=a?function Sf(t,r,s){return t.selectRootElement(r,s===ti.ShadowDom)}(U,a,this.componentDef.encapsulation):Yh(I.createRenderer(null,this.componentDef),Y,function hy(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Y)),_e=this.componentDef.onPush?288:272,$e=Gc(0,null,null,1,0,null,null,null,null,null),ut=eh(null,$e,null,_e,null,null,I,U,A,v,null);let St,Gt;de(ut);try{const on=function gy(t,r,s,a,l,d){const v=s[1];s[22]=t;const A=Pu(v,22,2,"#host",null),U=A.mergedAttrs=r.hostAttrs;null!==U&&(vu(A,U,!0),null!==t&&(bn(l,t,U),null!==A.classes&&Vl(l,t,A.classes),null!==A.styles&&Nd(l,t,A.styles)));const Y=a.createRenderer(t,r),re=eh(s,vg(r),null,r.onPush?32:16,s[22],A,a,Y,d||null,null,null);return v.firstCreatePass&&(Nr(Ht(A,s),v,r.type),ps(v,A),Tg(A,s.length,1)),zl(s,re),s[22]=re}(re,this.componentDef,ut,I,U);if(re)if(a)bn(U,re,["ng-version",Uh.full]);else{const{attrs:Sn,classes:wt}=function Lm(t){const r=[],s=[];let a=1,l=2;for(;a<t.length;){let d=t[a];if("string"==typeof d)2===l?""!==d&&r.push(d,t[++a]):8===l&&s.push(d);else{if(!Oa(l))break;l=d}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Sn&&bn(U,re,Sn),wt&&wt.length>0&&Vl(U,re,wt.join(" "))}if(Gt=Lr($e,22),void 0!==s){const Sn=Gt.projection=[];for(let wt=0;wt<this.ngContentSelectors.length;wt++){const Gn=s[wt];Sn.push(null!=Gn?Array.from(Gn):null)}}St=function Uv(t,r,s,a){const l=s[1],d=function Ig(t,r,s){const a=F();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),sy(t,a,r,Ou(t,r,1,null),s),wg(t,a));const l=Xs(r,t,a.directiveStart,a);Mo(l,r);const d=pi(a,r);return d&&Mo(d,r),l}(l,s,r);if(t[8]=s[8]=d,null!==a)for(const I of a)I(d,r);if(r.contentQueries){const I=F();r.contentQueries(1,d,I.directiveStart)}const v=F();return!l.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(mr(v.index),Hr(s[1],v,0,v.directiveStart,v.directiveEnd,r),Gl(r,d)),d}(on,this.componentDef,ut,[qi]),bf($e,ut,null)}finally{or()}return new py(this.componentType,St,Ml(Gt,ut),ut,Gt)}}class py extends class cm{}{constructor(r,s,a,l,d){super(),this.location=a,this._rootLView=l,this._tNode=d,this.instance=s,this.hostView=this.changeDetectorRef=new dy(l),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let l;if(null!==a&&(l=a[r])){const d=this._rootLView;qc(d[1],d,l,r,s),ih(d,this._tNode.index)}}get injector(){return new Co(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function qi(){const t=F();qo(ht()[1],t)}function Pf(t){let r=function my(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let l;if(_i(t))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new xe(903,!1);l=r.\u0275dir}if(l){if(s){a.push(l);const v=t;v.inputs=ch(t.inputs),v.declaredInputs=ch(t.declaredInputs),v.outputs=ch(t.outputs);const I=l.hostBindings;I&&Pg(t,I);const A=l.viewQuery,U=l.contentQueries;if(A&&Bv(t,A),U&&$v(t,U),Et(t.inputs,l.inputs),Et(t.declaredInputs,l.declaredInputs),Et(t.outputs,l.outputs),_i(l)&&l.data.animation){const Y=t.data;Y.animation=(Y.animation||[]).concat(l.data.animation)}}const d=l.features;if(d)for(let v=0;v<d.length;v++){const I=d[v];I&&I.ngInherit&&I(t),I===Pf&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Gs(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const l=t[a];l.hostVars=r+=l.hostVars,l.hostAttrs=ci(l.hostAttrs,s=ci(s,l.hostAttrs))}}(a)}function ch(t){return t===gt?{}:t===Pe?[]:t}function Bv(t,r){const s=t.viewQuery;t.viewQuery=s?(a,l)=>{r(a,l),s(a,l)}:r}function $v(t,r){const s=t.contentQueries;t.contentQueries=s?(a,l,d)=>{r(a,l,d),s(a,l,d)}:r}function Pg(t,r){const s=t.hostBindings;t.hostBindings=s?(a,l)=>{r(a,l),s(a,l)}:r}let Of=null;function Kl(){if(!Of){const t=rn.Symbol;if(t&&t.iterator)Of=t.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Of=a)}}}return Of}function dh(t){return!!ku(t)&&(Array.isArray(t)||!(t instanceof Map)&&Kl()in t)}function ku(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function za(t,r,s){return t[r]=s}function hl(t,r){return t[r]}function Go(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function fl(t,r,s,a){const l=Go(t,r,s);return Go(t,r+1,a)||l}function wa(t,r,s,a,l,d){const v=fl(t,r,s,a);return fl(t,r+2,l,d)||v}function Zl(t,r,s,a){const l=ht();return Go(l,Si(),r)&&(mn(),yu(Fn(),l,t,r,s,a)),Zl}function Fu(t,r,s,a,l,d){const I=fl(t,function wi(){return Ft.lFrame.bindingIndex}(),s,l);return Vs(2),I?r+Ee(s)+a+Ee(l)+d:cr}function Bf(t,r,s,a,l,d,v,I){const A=ht(),U=mn(),Y=t+22,re=U.firstCreatePass?function gh(t,r,s,a,l,d,v,I,A){const U=r.consts,Y=Pu(r,t,4,v||null,Xr(U,I));Hl(r,s,Y,Xr(U,A)),qo(r,Y);const re=Y.tViews=Gc(2,Y,a,l,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,U);return null!==r.queries&&(r.queries.template(r,Y),re.queries=r.queries.embeddedTView(Y)),Y}(Y,U,A,r,s,a,l,d,v):U.data[Y];Z(re,!1);const _e=A[11].createComment("");Ll(U,A,_e,re),Mo(_e,A),zl(A,A[Y]=oy(_e,A,_e,re)),ys(re)&&nh(U,A,re),null!=v&&Tf(A,re,I)}function Fg(t){return Fs(function Qi(){return Ft.lFrame.contextLView}(),22+t)}function ec(t,r,s){const a=ht();return Go(a,Si(),r)&&function Xo(t,r,s,a,l,d,v,I){const A=pi(r,s);let Y,U=r.inputs;!I&&null!=U&&(Y=U[a])?(qc(t,s,Y,a,l),Gr(r)&&ih(s,r.index)):3&r.type&&(a=function ty(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),l=null!=v?v(l,r.value||"",a):l,d.setProperty(A,a,l))}(mn(),Fn(),a,t,r,a[11],s,!1),ec}function mh(t,r,s,a,l){const v=l?"class":"style";qc(t,s,r.inputs[v],v,a)}function jf(t,r,s,a){const l=ht(),d=mn(),v=22+t,I=l[11],A=l[v]=Yh(I,r,function Xi(){return Ft.lFrame.currentNamespace}()),U=d.firstCreatePass?function Wv(t,r,s,a,l,d,v){const I=r.consts,U=Pu(r,t,2,l,Xr(I,d));return Hl(r,s,U,Xr(I,v)),null!==U.attrs&&vu(U,U.attrs,!1),null!==U.mergedAttrs&&vu(U,U.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,U),U}(v,d,l,0,r,s,a):d.data[v];Z(U,!0);const Y=U.mergedAttrs;null!==Y&&bn(I,A,Y);const re=U.classes;null!==re&&Vl(I,A,re);const _e=U.styles;return null!==_e&&Nd(I,A,_e),64!=(64&U.flags)&&Ll(d,l,A,U),0===function ao(){return Ft.lFrame.elementDepthCount}()&&Mo(A,l),function Ys(){Ft.lFrame.elementDepthCount++}(),ys(U)&&(nh(d,l,U),th(d,U,l)),null!==a&&Tf(l,U),jf}function yh(){let t=F();Ge()?jt():(t=t.parent,Z(t,!1));const r=t;!function ea(){Ft.lFrame.elementDepthCount--}();const s=mn();return s.firstCreatePass&&(qo(s,t),Ti(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function Qt(t){return 0!=(16&t.flags)}(r)&&mh(s,r,ht(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function ur(t){return 0!=(32&t.flags)}(r)&&mh(s,r,ht(),r.stylesWithoutHost,!1),yh}function Lg(t,r,s,a){return jf(t,r,s,a),yh(),Lg}function Hf(t,r,s){const a=ht(),l=mn(),d=t+22,v=l.firstCreatePass?function yy(t,r,s,a,l){const d=r.consts,v=Xr(d,a),I=Pu(r,t,8,"ng-container",v);return null!==v&&vu(I,v,!0),Hl(r,s,I,Xr(d,l)),null!==r.queries&&r.queries.elementStart(r,I),I}(d,l,a,r,s):l.data[d];Z(v,!0);const I=a[d]=a[11].createComment("");return Ll(l,a,I,v),Mo(I,a),ys(v)&&(nh(l,a,v),th(l,v,a)),null!=s&&Tf(a,v),Hf}function Qc(){let t=F();const r=mn();return Ge()?jt():(t=t.parent,Z(t,!1)),r.firstCreatePass&&(qo(r,t),Ti(t)&&r.queries.elementEnd(t)),Qc}function Vg(t,r,s){return Hf(t,r,s),Qc(),Vg}function vy(){return ht()}function vh(t){return!!t&&"function"==typeof t.then}function _y(t){return!!t&&"function"==typeof t.subscribe}const Ey=_y;function _h(t,r,s,a){const l=ht(),d=mn(),v=F();return function Gf(t,r,s,a,l,d,v,I){const A=ys(a),Y=t.firstCreatePass&&xf(t),re=r[8],_e=uh(r);let $e=!0;if(3&a.type||I){const Gt=pi(a,r),on=I?I(Gt):Gt,Sn=_e.length,wt=I?bi=>I(wn(bi[a.index])):a.index;let Gn=null;if(!I&&A&&(Gn=function qv(t,r,s,a){const l=t.cleanup;if(null!=l)for(let d=0;d<l.length-1;d+=2){const v=l[d];if(v===s&&l[d+1]===a){const I=r[7],A=l[d+2];return I.length>A?I[A]:null}"string"==typeof v&&(d+=2)}return null}(t,r,l,a.index)),null!==Gn)(Gn.__ngLastListenerFn__||Gn).__ngNextListenerFn__=d,Gn.__ngLastListenerFn__=d,$e=!1;else{d=Wf(a,r,re,d,!1);const bi=s.listen(on,l,d);_e.push(d,bi),Y&&Y.push(l,wt,Sn,Sn+1)}}else d=Wf(a,r,re,d,!1);const ut=a.outputs;let St;if($e&&null!==ut&&(St=ut[l])){const Gt=St.length;if(Gt)for(let on=0;on<Gt;on+=2){const gs=r[St[on]][St[on+1]].subscribe(d),td=_e.length;_e.push(d,gs),Y&&Y.push(l,a.index,td,-(td+1))}}}(d,l,l[11],v,t,r,0,a),_h}function zf(t,r,s,a){try{return!1!==s(a)}catch(l){return lh(t,l),!1}}function Wf(t,r,s,a,l){return function d(v){if(v===Function)return a;ah(2&t.flags?ii(t.index,r):r);let A=zf(r,0,a,v),U=d.__ngNextListenerFn__;for(;U;)A=zf(r,0,U,v)&&A,U=U.__ngNextListenerFn__;return l&&!1===A&&(v.preventDefault(),v.returnValue=!1),A}}function qf(t=1){return function Cr(t){return(Ft.lFrame.contextLView=function ar(t,r){for(;t>0;)r=r[15],t--;return r}(t,Ft.lFrame.contextLView))[8]}(t)}function Iy(t,r){let s=null;const a=function km(t){const r=t.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(t);for(let l=0;l<r.length;l++){const d=r[l];if("*"!==d){if(null===a?Kp(t,d,!0):Rc(a,d))return l}else s=l}return s}function Eh(t){const r=ht()[16][6];if(!r.projection){const a=r.projection=Va(t?t.length:1,null),l=a.slice();let d=r.child;for(;null!==d;){const v=t?Iy(d,t):0;null!==v&&(l[v]?l[v].projectionNext=d:a[v]=d,l[v]=d),d=d.next}}}function Dy(t,r=0,s){const a=ht(),l=mn(),d=Pu(l,22+t,16,null,s||null);null===d.projection&&(d.projection=r),jt(),64!=(64&d.flags)&&function Rm(t,r,s){xd(r[11],0,r,s,Td(t,s,r),Hp(s.parent||r[6],s,r))}(l,a,d)}function Bg(t,r,s,a,l){const d=t[s+1],v=null===r;let I=a?$o(d):Ga(d),A=!1;for(;0!==I&&(!1===A||v);){const Y=t[I+1];Yv(t[I],r)&&(A=!0,t[I+1]=a?gf(Y):Uc(Y)),I=a?$o(Y):Ga(Y)}A&&(t[s+1]=a?Uc(d):gf(d))}function Yv(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&P(t,r)>=0}const Eo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function $g(t){return t.substring(Eo.key,Eo.keyEnd)}function tc(t,r){const s=Eo.textEnd;return s===r?-1:(r=Eo.keyEnd=function Ny(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,Eo.key=r,s),nc(t,r,s))}function nc(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function Hg(t,r,s){return i(t,r,s,!1),Hg}function Gg(t,r){return i(t,r,null,!0),Gg}function Py(t){!function e(t,r,s,a){const l=mn(),d=Vs(2);l.firstUpdatePass&&o(l,null,d,a);const v=ht();if(s!==cr&&Go(v,d,s)){const I=l.data[Zn()];if(ai(I,a)&&!n(l,d)){let A=a?I.classesWithoutHost:I.stylesWithoutHost;null!==A&&(s=Yt(A,s||"")),mh(l,I,v,s,a)}else!function ze(t,r,s,a,l,d,v,I){l===cr&&(l=Pe);let A=0,U=0,Y=0<l.length?l[0]:null,re=0<d.length?d[0]:null;for(;null!==Y||null!==re;){const _e=A<l.length?l[A+1]:void 0,$e=U<d.length?d[U+1]:void 0;let St,ut=null;Y===re?(A+=2,U+=2,_e!==$e&&(ut=re,St=$e)):null===re||null!==Y&&Y<re?(A+=2,ut=Y):(U+=2,ut=re,St=$e),null!==ut&&at(t,r,s,a,ut,St,v,I),Y=A<l.length?l[A]:null,re=U<d.length?d[U]:null}}(l,I,v,v[11],v[d+1],v[d+1]=function J(t,r,s){if(null==s||""===s)return Pe;const a=[],l=$a(s);if(Array.isArray(l))for(let d=0;d<l.length;d++)t(a,l[d],!0);else if("object"==typeof l)for(const d in l)l.hasOwnProperty(d)&&t(a,d,l[d]);else"string"==typeof l&&r(a,l);return a}(t,r,s),a,d)}}(m,qa,t,!0)}function qa(t,r){for(let s=function Qv(t){return function xy(t){Eo.key=0,Eo.keyEnd=0,Eo.value=0,Eo.valueEnd=0,Eo.textEnd=t.length}(t),tc(t,nc(t,0,Eo.textEnd))}(r);s>=0;s=tc(r,s))m(t,$g(r),!0)}function i(t,r,s,a){const l=ht(),d=mn(),v=Vs(2);d.firstUpdatePass&&o(d,t,v,a),r!==cr&&Go(l,v,r)&&at(d,d.data[Zn()],l,l[11],t,l[v+1]=function dn(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Nt($a(t)))),t}(r,s),a,v)}function n(t,r){return r>=t.expandoStartIndex}function o(t,r,s,a){const l=t.data;if(null===l[s+1]){const d=l[Zn()],v=n(t,s);ai(d,a)&&null===r&&!v&&(r=!1),r=function u(t,r,s,a){const l=function ma(t){const r=Ft.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let d=a?r.residualClasses:r.residualStyles;if(null===l)0===(a?r.classBindings:r.styleBindings)&&(s=j(s=V(null,t,r,s,a),r.attrs,a),d=null);else{const v=r.directiveStylingLast;if(-1===v||t[v]!==l)if(s=V(l,t,r,s,a),null===d){let A=function c(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Ga(a))return t[$o(a)]}(t,r,a);void 0!==A&&Array.isArray(A)&&(A=V(null,t,r,A[1],a),A=j(A,r.attrs,a),function f(t,r,s,a){t[$o(s?r.classBindings:r.styleBindings)]=a}(t,r,a,A))}else d=function b(t,r,s){let a;const l=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<l;d++)a=j(a,t[d].hostAttrs,s);return j(a,r.attrs,s)}(t,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(l,d,r,a),function Kv(t,r,s,a,l,d){let v=d?r.classBindings:r.styleBindings,I=$o(v),A=Ga(v);t[a]=s;let Y,U=!1;if(Array.isArray(s)){const re=s;Y=re[1],(null===Y||P(re,Y)>0)&&(U=!0)}else Y=s;if(l)if(0!==A){const _e=$o(t[I+1]);t[a+1]=Vc(_e,I),0!==_e&&(t[_e+1]=Bc(t[_e+1],a)),t[I+1]=function Hm(t,r){return 131071&t|r<<17}(t[I+1],a)}else t[a+1]=Vc(I,0),0!==I&&(t[I+1]=Bc(t[I+1],a)),I=a;else t[a+1]=Vc(A,0),0===I?I=a:t[A+1]=Bc(t[A+1],a),A=a;U&&(t[a+1]=Uc(t[a+1])),Bg(t,Y,a,!0),Bg(t,Y,a,!1),function Zv(t,r,s,a,l){const d=l?t.residualClasses:t.residualStyles;null!=d&&"string"==typeof r&&P(d,r)>=0&&(s[a+1]=gf(s[a+1]))}(r,Y,t,a,d),v=Vc(I,A),d?r.classBindings=v:r.styleBindings=v}(l,d,r,s,v,a)}}function V(t,r,s,a,l){let d=null;const v=s.directiveEnd;let I=s.directiveStylingLast;for(-1===I?I=s.directiveStart:I++;I<v&&(d=r[I],a=j(a,d.hostAttrs,l),d!==t);)I++;return null!==t&&(s.directiveStylingLast=I),a}function j(t,r,s){const a=s?1:2;let l=-1;if(null!==r)for(let d=0;d<r.length;d++){const v=r[d];"number"==typeof v?l=v:l===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),m(t,v,!!s||r[++d]))}return void 0===t?null:t}function at(t,r,s,a,l,d,v,I){if(!(3&r.type))return;const A=t.data,U=A[I+1];Zt(function zd(t){return 1==(1&t)}(U)?pt(A,r,s,l,Ga(U),v):void 0)||(Zt(d)||function og(t){return 2==(2&t)}(U)&&(d=pt(A,null,s,l,I,v)),function Wp(t,r,s,a,l){if(r)l?t.addClass(s,a):t.removeClass(s,a);else{let d=-1===a.indexOf("-")?void 0:Xa.DashCase;null==l?t.removeStyle(s,a,d):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),d|=Xa.Important),t.setStyle(s,a,l,d))}}(a,v,cs(Zn(),s),l,d))}function pt(t,r,s,a,l,d){const v=null===r;let I;for(;l>0;){const A=t[l],U=Array.isArray(A),Y=U?A[1]:A,re=null===Y;let _e=s[l+1];_e===cr&&(_e=re?Pe:void 0);let $e=re?T(_e,a):Y===a?_e:void 0;if(U&&!Zt($e)&&($e=T(A,a)),Zt($e)&&(I=$e,v))return I;const ut=t[l+1];l=v?$o(ut):Ga(ut)}if(null!==r){let A=d?r.residualClasses:r.residualStyles;null!=A&&(I=T(A,a))}return I}function Zt(t){return void 0!==t}function ai(t,r){return 0!=(t.flags&(r?16:32))}function Ni(t,r=""){const s=ht(),a=mn(),l=t+22,d=a.firstCreatePass?Pu(a,l,1,r,null):a.data[l],v=s[l]=function Zh(t,r){return t.createText(r)}(s[11],r);Ll(a,s,v,d),Z(d,!1)}function di(t){return Ms("",t,""),di}function Ms(t,r,s){const a=ht(),l=function Wa(t,r,s,a){return Go(t,Si(),s)?r+Ee(s)+a:cr}(a,t,r,s);return l!==cr&&tu(a,Zn(),l),Ms}function Di(t,r,s,a,l){const d=ht(),v=Fu(d,t,r,s,a,l);return v!==cr&&tu(d,Zn(),v),Di}const Jc=void 0;var Hw=["en",[["a","p"],["AM","PM"],Jc],[["AM","PM"],Jc,Jc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jc,"{1} 'at' {0}",Jc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function jw(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Ih={};function Oy(t){const r=function Gw(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=m_(r);if(s)return s;const a=r.split("-")[0];if(s=m_(a),s)return s;if("en"===a)return Hw;throw new xe(701,!1)}function g_(t){return Oy(t)[Bn.PluralCase]}function m_(t){return t in Ih||(Ih[t]=rn.ng&&rn.ng.common&&rn.ng.common.locales&&rn.ng.common.locales[t]),Ih[t]}var Bn=(()=>((Bn=Bn||{})[Bn.LocaleId=0]="LocaleId",Bn[Bn.DayPeriodsFormat=1]="DayPeriodsFormat",Bn[Bn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Bn[Bn.DaysFormat=3]="DaysFormat",Bn[Bn.DaysStandalone=4]="DaysStandalone",Bn[Bn.MonthsFormat=5]="MonthsFormat",Bn[Bn.MonthsStandalone=6]="MonthsStandalone",Bn[Bn.Eras=7]="Eras",Bn[Bn.FirstDayOfWeek=8]="FirstDayOfWeek",Bn[Bn.WeekendRange=9]="WeekendRange",Bn[Bn.DateFormat=10]="DateFormat",Bn[Bn.TimeFormat=11]="TimeFormat",Bn[Bn.DateTimeFormat=12]="DateTimeFormat",Bn[Bn.NumberSymbols=13]="NumberSymbols",Bn[Bn.NumberFormats=14]="NumberFormats",Bn[Bn.CurrencyCode=15]="CurrencyCode",Bn[Bn.CurrencySymbol=16]="CurrencySymbol",Bn[Bn.CurrencyName=17]="CurrencyName",Bn[Bn.Currencies=18]="Currencies",Bn[Bn.Directionality=19]="Directionality",Bn[Bn.PluralCase=20]="PluralCase",Bn[Bn.ExtraData=21]="ExtraData",Bn))();const Dh="en-US";let y_=Dh;function Ly(t,r,s,a,l){if(t=_t(t),Array.isArray(t))for(let d=0;d<t.length;d++)Ly(t[d],r,s,a,l);else{const d=mn(),v=ht();let I=du(t)?t:_t(t.provide),A=Bo(t);const U=F(),Y=1048575&U.providerIndexes,re=U.directiveStart,_e=U.providerIndexes>>20;if(du(t)||!t.multi){const $e=new fe(A,l,Ru),ut=Uy(I,r,l?Y:Y+_e,re);-1===ut?(Nr(Ht(U,v),d,I),Vy(d,t,r.length),r.push(I),U.directiveStart++,U.directiveEnd++,l&&(U.providerIndexes+=1048576),s.push($e),v.push($e)):(s[ut]=$e,v[ut]=$e)}else{const $e=Uy(I,r,Y+_e,re),ut=Uy(I,r,Y,Y+_e),St=$e>=0&&s[$e],Gt=ut>=0&&s[ut];if(l&&!Gt||!l&&!St){Nr(Ht(U,v),d,I);const on=function j0(t,r,s,a,l){const d=new fe(t,s,Ru);return d.multi=[],d.index=r,d.componentProviders=0,j_(d,l,a&&!s),d}(l?$0:B0,s.length,l,a,A);!l&&Gt&&(s[ut].providerFactory=on),Vy(d,t,r.length,0),r.push(I),U.directiveStart++,U.directiveEnd++,l&&(U.providerIndexes+=1048576),s.push(on),v.push(on)}else Vy(d,t,$e>-1?$e:ut,j_(s[l?ut:$e],A,!l&&a));!l&&a&&Gt&&s[ut].componentProviders++}}}function Vy(t,r,s,a){const l=du(r),d=function pp(t){return!!t.useClass}(r);if(l||d){const A=(d?_t(r.useClass):r).prototype.ngOnDestroy;if(A){const U=t.destroyHooks||(t.destroyHooks=[]);if(!l&&r.multi){const Y=U.indexOf(s);-1===Y?U.push(s,[a,A]):U[Y+1].push(a,A)}else U.push(s,A)}}}function j_(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function Uy(t,r,s,a){for(let l=s;l<a;l++)if(r[l]===t)return l;return-1}function B0(t,r,s,a){return By(this.multi,[])}function $0(t,r,s,a){const l=this.multi;let d;if(this.providerFactory){const v=this.providerFactory.componentProviders,I=Xs(s,s[1],this.providerFactory.index,a);d=I.slice(0,v),By(l,d);for(let A=v;A<I.length;A++)d.push(I[A])}else d=[],By(l,d);return d}function By(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function H_(t,r=[]){return s=>{s.providersResolver=(a,l)=>function U0(t,r,s){const a=mn();if(a.firstCreatePass){const l=_i(t);Ly(s,a.data,a.blueprint,l,!0),Ly(r,a.data,a.blueprint,l,!1)}}(a,l?l(t):t,r)}}class bh{}class G_{}function H0(t,r){return new z_(t,r??null)}class z_ extends bh{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Nf(this);const a=mt(r);this._bootstrapComponents=pa(a.bootstrap),this._r3Injector=Bd(r,s,[{provide:bh,useValue:this},{provide:vc,useValue:this.componentFactoryResolver}],Nt(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class $y extends G_{constructor(r){super(),this.moduleType=r}create(r){return new z_(this.moduleType,r)}}class G0 extends bh{constructor(r,s,a){super(),this.componentFactoryResolver=new Nf(this),this.instance=null;const l=new gp([...r,{provide:bh,useValue:this},{provide:vc,useValue:this.componentFactoryResolver}],s||hu(),a,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function jy(t,r,s=null){return new G0(t,r,s).injector}let z0=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=Rh(0,s.type),l=a.length>0?jy([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,l)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=fr({token:t,providedIn:"environment",factory:()=>new t(Li(Pa))}),t})();function W_(t){t.getStandaloneInjector=r=>r.get(z0).getOrCreateStandaloneInjector(t)}function J_(t,r,s){const a=gi()+t,l=ht();return l[a]===cr?za(l,a,s?r.call(s):r()):hl(l,a)}function eE(t,r,s,a){return sE(ht(),gi(),t,r,s,a)}function tE(t,r,s,a,l){return function oE(t,r,s,a,l,d,v){const I=r+s;return fl(t,I,l,d)?za(t,I+2,v?a.call(v,l,d):a(l,d)):ep(t,I+2)}(ht(),gi(),t,r,s,a,l)}function nE(t,r,s,a,l,d){return function aE(t,r,s,a,l,d,v,I){const A=r+s;return function Yc(t,r,s,a,l){const d=fl(t,r,s,a);return Go(t,r+2,l)||d}(t,A,l,d,v)?za(t,A+3,I?a.call(I,l,d,v):a(l,d,v)):ep(t,A+3)}(ht(),gi(),t,r,s,a,l,d)}function rE(t,r,s,a,l,d,v){return function uE(t,r,s,a,l,d,v,I,A){const U=r+s;return wa(t,U,l,d,v,I)?za(t,U+4,A?a.call(A,l,d,v,I):a(l,d,v,I)):ep(t,U+4)}(ht(),gi(),t,r,s,a,l,d,v)}function iE(t,r,s,a,l,d,v,I,A){const U=gi()+t,Y=ht(),re=wa(Y,U,s,a,l,d);return fl(Y,U+4,v,I)||re?za(Y,U+6,A?r.call(A,s,a,l,d,v,I):r(s,a,l,d,v,I)):hl(Y,U+6)}function ep(t,r){const s=t[r];return s===cr?void 0:s}function sE(t,r,s,a,l,d){const v=r+s;return Go(t,v,l)?za(t,v+1,d?a.call(d,l):a(l)):ep(t,v+1)}function cE(t,r){const s=mn();let a;const l=t+22;s.firstCreatePass?(a=function iI(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[l]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(l,a.onDestroy)):a=s.data[l];const d=a.factory||(a.factory=Ps(a.type)),v=un(Ru);try{const I=er(!1),A=d();return er(I),function $f(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,ht(),l,A),A}finally{un(v)}}function dE(t,r,s){const a=t+22,l=ht(),d=Fs(l,a);return function tp(t,r){return t[1].data[r].pure}(l,a)?sE(l,gi(),r,d.transform,s,d):d.transform(s)}function Gy(t){return r=>{setTimeout(t,void 0,r)}}const $u=class lI extends y.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let l=r,d=s||(()=>null),v=a;if(r&&"object"==typeof r){const A=r;l=A.next?.bind(A),d=A.error?.bind(A),v=A.complete?.bind(A)}this.__isAsync&&(d=Gy(d),l&&(l=Gy(l)),v&&(v=Gy(v)));const I=super.subscribe({next:l,error:d,complete:v});return r instanceof G.w0&&r.add(I),I}};function cI(){return this._results[Kl()]()}class zy{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Kl(),a=zy.prototype;a[s]||(a[s]=cI)}get changes(){return this._changes||(this._changes=new $u)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const l=Ii(r);(this._changesDetected=!function La(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let l=t[a],d=r[a];if(s&&(l=s(l),d=s(d)),d!==l)return!1}return!0}(a._results,l,s))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let np=(()=>{class t{}return t.__NG_ELEMENT_ID__=fI,t})();const dI=np,hI=class extends dI{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,l=eh(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);l[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(l[19]=v.createEmbeddedView(a)),bf(a,l,r),new Kc(l)}};function fI(){return Zg(F(),ht())}function Zg(t,r){return 4&t.type?new hI(r,t,Ml(t,r)):null}let Yg=(()=>{class t{}return t.__NG_ELEMENT_ID__=pI,t})();function pI(){return pE(F(),ht())}const gI=Yg,hE=class extends gI{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Ml(this._hostTNode,this._hostLView)}get injector(){return new Co(this._hostTNode,this._hostLView)}get parentInjector(){const r=Yn(this._hostTNode,this._hostLView);if(Xn(r)){const s=Kr(r,this._hostLView),a=Bs(r);return new Co(s[1].data[a+8],s)}return new Co(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=fE(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let l,d;"number"==typeof a?l=a:null!=a&&(l=a.index,d=a.injector);const v=r.createEmbeddedView(s||{},d);return this.insert(v,l),v}createComponent(r,s,a,l,d){const v=r&&!function ua(t){return"function"==typeof t}(r);let I;if(v)I=s;else{const re=s||{};I=re.index,a=re.injector,l=re.projectableNodes,d=re.environmentInjector||re.ngModuleRef}const A=v?r:new Zc(ne(r)),U=a||this.parentInjector;if(!d&&null==A.ngModule){const _e=(v?U:this.parentInjector).get(Pa,null);_e&&(d=_e)}const Y=A.create(U,l,void 0,d);return this.insert(Y.hostView,I),Y}insert(r,s){const a=r._lView,l=a[1];if(function Ei(t){return Kn(t[3])}(a)){const Y=this.indexOf(r);if(-1!==Y)this.detach(Y);else{const re=a[3],_e=new hE(re,re[6],re[3]);_e.detach(_e.indexOf(r))}}const d=this._adjustIndex(s),v=this._lContainer;!function Nm(t,r,s,a){const l=10+a,d=s.length;a>0&&(s[l-1][4]=r),a<d-10?(r[4]=s[l],Sa(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const v=r[17];null!==v&&s!==v&&function Id(t,r){const s=t[9];r[16]!==r[3][3][16]&&(t[2]=!0),null===s?t[9]=[r]:s.push(r)}(v,r);const I=r[19];null!==I&&I.insertView(t),r[2]|=64}(l,a,v,d);const I=Md(d,v),A=a[11],U=Ad(A,v[7]);return null!==U&&function Mm(t,r,s,a,l,d){a[0]=l,a[6]=r,ol(t,a,s,1,l,d)}(l,v[6],A,a,U,I),r.attachToViewContainerRef(),Sa(Wy(v),d,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=fE(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=Dd(this._lContainer,s);a&&(la(Wy(this._lContainer),s),bd(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=Dd(this._lContainer,s);return a&&null!=la(Wy(this._lContainer),s)?new Kc(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function fE(t){return t[8]}function Wy(t){return t[8]||(t[8]=[])}function pE(t,r){let s;const a=r[t.index];if(Kn(a))s=a;else{let l;if(8&t.type)l=wn(a);else{const d=r[11];l=d.createComment("");const v=pi(t,r);xu(d,Ad(d,v),l,function jp(t,r){return t.nextSibling(r)}(d,v),!1)}r[t.index]=s=oy(a,r,l,t),zl(r,s)}return new hE(s,t,r)}class qy{constructor(r){this.queryList=r,this.matches=null}clone(){return new qy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ky{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,l=[];for(let d=0;d<a;d++){const v=s.getByIndex(d);l.push(this.queries[v.indexInDeclarationView].clone())}return new Ky(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==DE(r,s).matches&&this.queries[s].setDirty()}}class gE{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class Zy{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const l=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,l);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new Zy(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class Yy{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new Yy(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const d=a[l];this.matchTNodeWithReadOption(r,s,vI(s,d)),this.matchTNodeWithReadOption(r,s,yi(s,r,d,!1,!1))}else a===np?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,yi(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===_c||l===Yg||l===np&&4&s.type)this.addMatch(s.index,-2);else{const d=yi(s,r,l,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function vI(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function EI(t,r,s,a){return-1===s?function _I(t,r){return 11&t.type?Ml(t,r):4&t.type?Zg(t,r):null}(r,t):-2===s?function wI(t,r,s){return s===_c?Ml(r,t):s===np?Zg(r,t):s===Yg?pE(r,t):void 0}(t,r,a):Xs(t,t[1],s,r)}function mE(t,r,s,a){const l=r[19].queries[a];if(null===l.matches){const d=t.data,v=s.matches,I=[];for(let A=0;A<v.length;A+=2){const U=v[A];I.push(U<0?null:EI(r,d[U],v[A+1],s.metadata.read))}l.matches=I}return l.matches}function Qy(t,r,s,a){const l=t.queries.getByIndex(s),d=l.matches;if(null!==d){const v=mE(t,r,l,s);for(let I=0;I<d.length;I+=2){const A=d[I];if(A>0)a.push(v[I/2]);else{const U=d[I+1],Y=r[-A];for(let re=10;re<Y.length;re++){const _e=Y[re];_e[17]===_e[3]&&Qy(_e[1],_e,U,a)}if(null!==Y[9]){const re=Y[9];for(let _e=0;_e<re.length;_e++){const $e=re[_e];Qy($e[1],$e,U,a)}}}}}return a}function yE(t){const r=ht(),s=mn(),a=S();$(a+1);const l=DE(s,a);if(t.dirty&&function Po(t){return 4==(4&t[2])}(r)===(2==(2&l.metadata.flags))){if(null===l.matches)t.reset([]);else{const d=l.crossesNgTemplate?Qy(s,r,a,[]):mE(s,r,l,a);t.reset(d,pm),t.notifyOnChanges()}return!0}return!1}function vE(t,r,s){const a=mn();a.firstCreatePass&&(IE(a,new gE(t,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),wE(a,ht(),r)}function _E(t,r,s,a){const l=mn();if(l.firstCreatePass){const d=F();IE(l,new gE(r,s,a),d.index),function DI(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(l,t),2==(2&s)&&(l.staticContentQueries=!0)}wE(l,ht(),s)}function EE(){return function II(t,r){return t[19].queries[r].queryList}(ht(),S())}function wE(t,r,s){const a=new zy(4==(4&s));rh(t,r,a,a.destroy),null===r[19]&&(r[19]=new Ky),r[19].queries.push(new qy(a))}function IE(t,r,s){null===t.queries&&(t.queries=new Zy),t.queries.track(new Yy(r,s))}function DE(t,r){return t.queries.getByIndex(r)}function Xg(...t){}const jE=new Mn("Application Initializer");let Jg=(()=>{class t{constructor(s){this.appInits=s,this.resolve=Xg,this.reject=Xg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const d=this.appInits[l]();if(vh(d))s.push(d);else if(Ey(d)){const v=new Promise((I,A)=>{d.subscribe({complete:I,error:A})});s.push(v)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(Li(jE,8))},t.\u0275prov=fr({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const HE=new Mn("AppId",{providedIn:"root",factory:function GE(){return`${nv()}${nv()}${nv()}`}});function nv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const zE=new Mn("Platform Initializer"),GI=new Mn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),WE=new Mn("appBootstrapListener"),zI=new Mn("AnimationModuleType");let WI=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=fr({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const em=new Mn("LocaleId",{providedIn:"root",factory:()=>x(em,Tt.Optional|Tt.SkipSelf)||function qI(){return typeof $localize<"u"&&$localize.locale||Dh}()}),KI=new Mn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ZI{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let YI=(()=>{class t{compileModuleSync(s){return new $y(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=pa(mt(s).declarations).reduce((v,I)=>{const A=ne(I);return A&&v.push(new Zc(A)),v},[]);return new ZI(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=fr({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const JI=(()=>Promise.resolve(0))();function rv(t){typeof Zone>"u"?JI.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ru{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $u(!1),this.onMicrotaskEmpty=new $u(!1),this.onStable=new $u(!1),this.onError=new $u(!1),typeof Zone>"u")throw new xe(908,!1);Zone.assertZonePatched();const l=this;if(l._nesting=0,l._outer=l._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const d=Zone.AsyncStackTaggingZoneSpec;l._inner=l._inner.fork(new d("Angular"))}Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function eD(){let t=rn.requestAnimationFrame,r=rn.cancelAnimationFrame;if(typeof Zone<"u"&&t&&r){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function rD(t){const r=()=>{!function nD(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(rn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,sv(t),t.isCheckStableRunning=!0,iv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),sv(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,d,v,I)=>{try{return ZE(t),s.invokeTask(l,d,v,I)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||t.shouldCoalesceRunChangeDetection)&&r(),YE(t)}},onInvoke:(s,a,l,d,v,I,A)=>{try{return ZE(t),s.invoke(l,d,v,I,A)}finally{t.shouldCoalesceRunChangeDetection&&r(),YE(t)}},onHasTask:(s,a,l,d)=>{s.hasTask(l,d),a===l&&("microTask"==d.change?(t._hasPendingMicrotasks=d.microTask,sv(t),iv(t)):"macroTask"==d.change&&(t.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,l,d)=>(s.handleError(l,d),t.runOutsideAngular(()=>t.onError.emit(d)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ru.isInAngularZone())throw new xe(909,!1)}static assertNotInAngularZone(){if(ru.isInAngularZone())throw new xe(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,l){const d=this._inner,v=d.scheduleEventTask("NgZoneEvent: "+l,r,tD,Xg,Xg);try{return d.runTask(v,s,a)}finally{d.cancelTask(v)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const tD={};function iv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sv(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ZE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function YE(t){t._nesting--,iv(t)}class iD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $u,this.onMicrotaskEmpty=new $u,this.onStable=new $u,this.onError=new $u}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,l){return r.apply(s,a)}}const QE=new Mn(""),XE=new Mn("");let ov,sD=(()=>{class t{constructor(s,a,l){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ov||(function oD(t){ov=t}(l),l.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ru.assertNotInAngularZone(),rv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())rv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,l){return[]}}return t.\u0275fac=function(s){return new(s||t)(Li(ru),Li(JE),Li(XE))},t.\u0275prov=fr({token:t,factory:t.\u0275fac}),t})(),JE=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return ov?.findTestabilityInTree(this,s,a)??null}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=fr({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),ic=null;const ew=new Mn("AllowMultipleToken"),av=new Mn("PlatformDestroyListeners");class lD{constructor(r,s){this.name=r,this.token=s}}function nw(t,r,s=[]){const a=`Platform: ${r}`,l=new Mn(a);return(d=[])=>{let v=uv();if(!v||v.injector.get(ew,!1)){const I=[...s,...d,{provide:l,useValue:!0}];t?t(I):function cD(t){if(ic&&!ic.get(ew,!1))throw new xe(400,!1);ic=t;const r=t.get(iw);(function tw(t){const r=t.get(zE,null);r&&r.forEach(s=>s())})(t)}(function rw(t=[],r){return gu.create({name:r,providers:[{provide:Fh,useValue:"platform"},{provide:av,useValue:new Set([()=>ic=null])},...t]})}(I,a))}return function hD(t){const r=uv();if(!r)throw new xe(401,!1);return r}()}}function uv(){return ic?.get(iw)??null}let iw=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const l=function ow(t,r){let s;return s="noop"===t?new iD:("zone.js"===t?void 0:t)||new ru(r),s}(a?.ngZone,function sw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(a)),d=[{provide:ru,useValue:l}];return l.run(()=>{const v=gu.create({providers:d,parent:this.injector,name:s.moduleType.name}),I=s.create(v),A=I.injector.get(Ic,null);if(!A)throw new xe(402,!1);return l.runOutsideAngular(()=>{const U=l.onError.subscribe({next:Y=>{A.handleError(Y)}});I.onDestroy(()=>{nm(this._modules,I),U.unsubscribe()})}),function aw(t,r,s){try{const a=s();return vh(a)?a.catch(l=>{throw r.runOutsideAngular(()=>t.handleError(l)),l}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(A,l,()=>{const U=I.injector.get(Jg);return U.runInitializers(),U.donePromise.then(()=>(function v_(t){An(t,"Expected localeId to be defined"),"string"==typeof t&&(y_=t.toLowerCase().replace(/_/g,"-"))}(I.injector.get(em,Dh)||Dh),this._moduleDoBootstrap(I),I))})})}bootstrapModule(s,a=[]){const l=uw({},a);return function aD(t,r,s){const a=new $y(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,l))}_moduleDoBootstrap(s){const a=s.injector.get(tm);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new xe(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(av,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(Li(gu))},t.\u0275prov=fr({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function uw(t,r){return Array.isArray(r)?r.reduce(uw,t):{...t,...r}}let tm=(()=>{class t{constructor(s,a,l){this._zone=s,this._injector=a,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const d=new De.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),v=new De.y(I=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{ru.assertNotInAngularZone(),rv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const U=this._zone.onUnstable.subscribe(()=>{ru.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{A.unsubscribe(),U.unsubscribe()}});this.isStable=function tt(...t){const r=(0,We.yG)(t),s=(0,We._6)(t,1/0),a=t;return a.length?1===a.length?(0,Re.Xf)(a[0]):(0,me.J)(s)((0,Ve.D)(a,r)):nt.E}(d,v.pipe(function qe(t={}){const{connector:r=(()=>new y.x),resetOnError:s=!0,resetOnComplete:a=!0,resetOnRefCountZero:l=!0}=t;return d=>{let v,I,A,U=0,Y=!1,re=!1;const _e=()=>{I?.unsubscribe(),I=void 0},$e=()=>{_e(),v=A=void 0,Y=re=!1},ut=()=>{const St=v;$e(),St?.unsubscribe()};return(0,pe.e)((St,Gt)=>{U++,!re&&!Y&&_e();const on=A=A??r();Gt.add(()=>{U--,0===U&&!re&&!Y&&(I=lt(ut,l))}),on.subscribe(Gt),!v&&U>0&&(v=new oe.Hp({next:Sn=>on.next(Sn),error:Sn=>{re=!0,_e(),I=lt($e,s,Sn),on.error(Sn)},complete:()=>{Y=!0,_e(),I=lt($e,a),on.complete()}}),(0,Re.Xf)(St).subscribe(v))})(d)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const l=s instanceof _p;if(!this._injector.get(Jg).done)throw!l&&Qe(s),new xe(405,false);let v;v=l?s:this._injector.get(vc).resolveComponentFactory(s),this.componentTypes.push(v.componentType);const I=function uD(t){return t.isBoundToModule}(v)?void 0:this._injector.get(bh),U=v.create(gu.NULL,[],a||v.selector,I),Y=U.location.nativeElement,re=U.injector.get(QE,null);return re?.registerApplication(Y),U.onDestroy(()=>{this.detachView(U.hostView),nm(this.components,U),re?.unregisterApplication(Y)}),this._loadComponent(U),U}tick(){if(this._runningTick)throw new xe(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;nm(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(WE,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>nm(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new xe(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(s){return new(s||t)(Li(ru),Li(Pa),Li(Ic))},t.\u0275prov=fr({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function nm(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}let cw=!0;function pD(){cw=!1}let gD=(()=>{class t{}return t.__NG_ELEMENT_ID__=mD,t})();function mD(t){return function yD(t,r,s){if(Gr(t)&&!s){const a=ii(t.index,r);return new Kc(a,a)}return 47&t.type?new Kc(r[16],r):null}(F(),ht(),16==(16&t))}class gw{constructor(){}supports(r){return dh(r)}create(r){return new DD(r)}}const ID=(t,r)=>r;class DD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||ID}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,l=0,d=null;for(;s||a;){const v=!a||s&&s.currentIndex<yw(a,l,d)?s:a,I=yw(v,l,d),A=v.currentIndex;if(v===a)l--,a=a._nextRemoved;else if(s=s._next,null==v.previousIndex)l++;else{d||(d=[]);const U=I-l,Y=A-l;if(U!=Y){for(let _e=0;_e<U;_e++){const $e=_e<d.length?d[_e]:d[_e]=0,ut=$e+_e;Y<=ut&&ut<U&&(d[_e]=$e+1)}d[v.previousIndex]=Y-U}}I!==A&&r(v,I,A)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!dh(r))throw new xe(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,d,v,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let I=0;I<this.length;I++)d=r[I],v=this._trackByFn(I,d),null!==s&&Object.is(s.trackById,v)?(a&&(s=this._verifyReinsertion(s,d,v,I)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,v,I),a=!0),s=s._next}else l=0,function dl(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Kl()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,I=>{v=this._trackByFn(l,I),null!==s&&Object.is(s.trackById,v)?(a&&(s=this._verifyReinsertion(s,I,v,l)),Object.is(s.item,I)||this._addIdentityChange(s,I)):(s=this._mismatch(s,I,v,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,l){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,l)):r=this._addAfter(new bD(s,a),d,l),r}_verifyReinsertion(r,s,a,l){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,d=r._nextRemoved;return null===l?this._removalsHead=d:l._nextRemoved=d,null===d?this._removalsTail=l:d._prevRemoved=l,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const l=null===s?this._itHead:s._next;return r._next=l,r._prev=s,null===l?this._itTail=r:l._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new mw),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mw),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class bD{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class mw{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new CD,this.map.set(s,a)),a.add(r)}get(r,s){const l=this.map.get(r);return l?l.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yw(t,r,s){const a=t.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+r+l}class vw{constructor(){}supports(r){return r instanceof Map||ku(r)}create(){return new TD}}class TD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||ku(r)))throw new xe(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,s);const d=l._prev,v=l._next;return d&&(d._next=v),v&&(v._prev=d),l._next=null,l._prev=null,l}const a=new SD(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class SD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function _w(){return new fv([new gw])}let fv=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||_w()),deps:[[t,new Un,new Pt]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new xe(901,!1)}}return t.\u0275prov=fr({token:t,providedIn:"root",factory:_w}),t})();function Ew(){return new pv([new vw])}let pv=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||Ew()),deps:[[t,new Un,new Pt]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(a)return a;throw new xe(901,!1)}}return t.\u0275prov=fr({token:t,providedIn:"root",factory:Ew}),t})();const xD=nw(null,"core",[]);let ND=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(Li(tm))},t.\u0275mod=On({type:t}),t.\u0275inj=vr({}),t})();function RD(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}},433:(yn,ct,Q)=>{Q.d(ct,{Fj:()=>Be,u:()=>Ps,sg:()=>Fi,u5:()=>ao,JU:()=>Et,JJ:()=>Dr,JL:()=>Tt,On:()=>Ns,j3:()=>mn,UX:()=>Ys,kI:()=>ye,_Y:()=>eo});var y=Q(8256),G=Q(6895),De=Q(8996),me=Q(9751),Re=Q(4742),nt=Q(8421),We=Q(7669),Ve=Q(5403),tt=Q(3268),oe=Q(1810),qe=Q(4004);let lt=(()=>{class F{constructor(M,Z){this._renderer=M,this._elementRef=Z,this.onChange=Ge=>{},this.onTouched=()=>{}}setProperty(M,Z){this._renderer.setProperty(this._elementRef.nativeElement,M,Z)}registerOnTouched(M){this.onTouched=M}registerOnChange(M){this.onChange=M}setDisabledState(M){this.setProperty("disabled",M)}}return F.\u0275fac=function(M){return new(M||F)(y.Y36(y.Qsj),y.Y36(y.SBq))},F.\u0275dir=y.lG2({type:F}),F})(),Ue=(()=>{class F extends lt{}return F.\u0275fac=function(){let k;return function(Z){return(k||(k=y.n5z(F)))(Z||F)}}(),F.\u0275dir=y.lG2({type:F,features:[y.qOj]}),F})();const Et=new y.OlP("NgValueAccessor"),Ut={provide:Et,useExisting:(0,y.Gpc)(()=>Be),multi:!0},_t=new y.OlP("CompositionEventMode");let Be=(()=>{class F extends lt{constructor(M,Z,Ge){super(M,Z),this._compositionMode=Ge,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ot(){const F=(0,G.q)()?(0,G.q)().getUserAgent():"";return/android (\d+)/.test(F.toLowerCase())}())}writeValue(M){this.setProperty("value",M??"")}_handleInput(M){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(M)}_compositionStart(){this._composing=!0}_compositionEnd(M){this._composing=!1,this._compositionMode&&this.onChange(M)}}return F.\u0275fac=function(M){return new(M||F)(y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(_t,8))},F.\u0275dir=y.lG2({type:F,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(M,Z){1&M&&y.NdJ("input",function(jt){return Z._handleInput(jt.target.value)})("blur",function(){return Z.onTouched()})("compositionstart",function(){return Z._compositionStart()})("compositionend",function(jt){return Z._compositionEnd(jt.target.value)})},features:[y._Bn([Ut]),y.qOj]}),F})();function xe(F){return null==F||("string"==typeof F||Array.isArray(F))&&0===F.length}function Dt(F){return null!=F&&"number"==typeof F.length}const Ee=new y.OlP("NgValidators"),Se=new y.OlP("NgAsyncValidators"),rt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ye{static min(k){return function be(F){return k=>{if(xe(k.value)||xe(F))return null;const M=parseFloat(k.value);return!isNaN(M)&&M<F?{min:{min:F,actual:k.value}}:null}}(k)}static max(k){return function He(F){return k=>{if(xe(k.value)||xe(F))return null;const M=parseFloat(k.value);return!isNaN(M)&&M>F?{max:{max:F,actual:k.value}}:null}}(k)}static required(k){return function Ne(F){return xe(F.value)?{required:!0}:null}(k)}static requiredTrue(k){return function it(F){return!0===F.value?null:{required:!0}}(k)}static email(k){return function Xe(F){return xe(F.value)||rt.test(F.value)?null:{email:!0}}(k)}static minLength(k){return function Mt(F){return k=>xe(k.value)||!Dt(k.value)?null:k.value.length<F?{minlength:{requiredLength:F,actualLength:k.value.length}}:null}(k)}static maxLength(k){return function an(F){return k=>Dt(k.value)&&k.value.length>F?{maxlength:{requiredLength:F,actualLength:k.value.length}}:null}(k)}static pattern(k){return function tr(F){if(!F)return Wt;let k,M;return"string"==typeof F?(M="","^"!==F.charAt(0)&&(M+="^"),M+=F,"$"!==F.charAt(F.length-1)&&(M+="$"),k=new RegExp(M)):(M=F.toString(),k=F),Z=>{if(xe(Z.value))return null;const Ge=Z.value;return k.test(Ge)?null:{pattern:{requiredPattern:M,actualValue:Ge}}}}(k)}static nullValidator(k){return null}static compose(k){return An(k)}static composeAsync(k){return qr(k)}}function Wt(F){return null}function hn(F){return null!=F}function $n(F){return(0,y.QGY)(F)?(0,De.D)(F):F}function Rn(F){let k={};return F.forEach(M=>{k=null!=M?{...k,...M}:k}),0===Object.keys(k).length?null:k}function Wr(F,k){return k.map(M=>M(F))}function pn(F){return F.map(k=>function Dn(F){return!F.validate}(k)?k:M=>k.validate(M))}function An(F){if(!F)return null;const k=F.filter(hn);return 0==k.length?null:function(M){return Rn(Wr(M,k))}}function fn(F){return null!=F?An(pn(F)):null}function qr(F){if(!F)return null;const k=F.filter(hn);return 0==k.length?null:function(M){return function pe(...F){const k=(0,We.jO)(F),{args:M,keys:Z}=(0,Re.D)(F),Ge=new me.y(jt=>{const{length:jr}=M;if(!jr)return void jt.complete();const Qi=new Array(jr);let Ls=jr,os=jr;for(let gi=0;gi<jr;gi++){let wi=!1;(0,nt.Xf)(M[gi]).subscribe((0,Ve.x)(jt,Qs=>{wi||(wi=!0,os--),Qi[gi]=Qs},()=>Ls--,void 0,()=>{(!Ls||!wi)&&(os||jt.next(Z?(0,oe.n)(Z,Qi):Qi),jt.complete())}))}});return k?Ge.pipe((0,tt.Z)(k)):Ge}(Wr(M,k).map($n)).pipe((0,qe.U)(Rn))}}function nr(F){return null!=F?qr(pn(F)):null}function Rr(F,k){return null===F?[k]:Array.isArray(F)?[...F,k]:[F,k]}function fr(F){return F._rawValidators}function ei(F){return F._rawAsyncValidators}function vr(F){return F?Array.isArray(F)?F:[F]:[]}function Sr(F,k){return Array.isArray(F)?F.includes(k):F===k}function rr(F,k){const M=vr(k);return vr(F).forEach(Ge=>{Sr(M,Ge)||M.push(Ge)}),M}function Bt(F,k){return vr(k).filter(M=>!Sr(F,M))}class zn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(k){this._rawValidators=k||[],this._composedValidatorFn=fn(this._rawValidators)}_setAsyncValidators(k){this._rawAsyncValidators=k||[],this._composedAsyncValidatorFn=nr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(k){this._onDestroyCallbacks.push(k)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(k=>k()),this._onDestroyCallbacks=[]}reset(k){this.control&&this.control.reset(k)}hasError(k,M){return!!this.control&&this.control.hasError(k,M)}getError(k,M){return this.control?this.control.getError(k,M):null}}class Ir extends zn{get formDirective(){return null}get path(){return null}}class Er extends zn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class dr{constructor(k){this._cd=k}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Dr=(()=>{class F extends dr{constructor(M){super(M)}}return F.\u0275fac=function(M){return new(M||F)(y.Y36(Er,2))},F.\u0275dir=y.lG2({type:F,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(M,Z){2&M&&y.ekj("ng-untouched",Z.isUntouched)("ng-touched",Z.isTouched)("ng-pristine",Z.isPristine)("ng-dirty",Z.isDirty)("ng-valid",Z.isValid)("ng-invalid",Z.isInvalid)("ng-pending",Z.isPending)},features:[y.qOj]}),F})(),Tt=(()=>{class F extends dr{constructor(M){super(M)}}return F.\u0275fac=function(M){return new(M||F)(y.Y36(Ir,10))},F.\u0275dir=y.lG2({type:F,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(M,Z){2&M&&y.ekj("ng-untouched",Z.isUntouched)("ng-touched",Z.isTouched)("ng-pristine",Z.isPristine)("ng-dirty",Z.isDirty)("ng-valid",Z.isValid)("ng-invalid",Z.isInvalid)("ng-pending",Z.isPending)("ng-submitted",Z.isSubmitted)},features:[y.qOj]}),F})();const En="VALID",le="INVALID",ae="PENDING",ve="DISABLED";function Je(F){return(On(F)?F.validators:F)||null}function je(F){return Array.isArray(F)?fn(F):F||null}function Rt(F,k){return(On(k)?k.asyncValidators:F)||null}function en(F){return Array.isArray(F)?nr(F):F||null}function On(F){return null!=F&&!Array.isArray(F)&&"object"==typeof F}function Pr(F,k,M){const Z=F.controls;if(!(k?Object.keys(Z):Z).length)throw new y.vHH(1e3,"");if(!Z[M])throw new y.vHH(1001,"")}function jn(F,k,M){F._forEachChild((Z,Ge)=>{if(void 0===M[Ge])throw new y.vHH(1002,"")})}class Me{constructor(k,M){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=k,this._rawAsyncValidators=M,this._composedValidatorFn=je(this._rawValidators),this._composedAsyncValidatorFn=en(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(k){this._rawValidators=this._composedValidatorFn=k}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(k){this._rawAsyncValidators=this._composedAsyncValidatorFn=k}get parent(){return this._parent}get valid(){return this.status===En}get invalid(){return this.status===le}get pending(){return this.status==ae}get disabled(){return this.status===ve}get enabled(){return this.status!==ve}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(k){this._rawValidators=k,this._composedValidatorFn=je(k)}setAsyncValidators(k){this._rawAsyncValidators=k,this._composedAsyncValidatorFn=en(k)}addValidators(k){this.setValidators(rr(k,this._rawValidators))}addAsyncValidators(k){this.setAsyncValidators(rr(k,this._rawAsyncValidators))}removeValidators(k){this.setValidators(Bt(k,this._rawValidators))}removeAsyncValidators(k){this.setAsyncValidators(Bt(k,this._rawAsyncValidators))}hasValidator(k){return Sr(this._rawValidators,k)}hasAsyncValidator(k){return Sr(this._rawAsyncValidators,k)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(k={}){this.touched=!0,this._parent&&!k.onlySelf&&this._parent.markAsTouched(k)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(k=>k.markAllAsTouched())}markAsUntouched(k={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(M=>{M.markAsUntouched({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}markAsDirty(k={}){this.pristine=!1,this._parent&&!k.onlySelf&&this._parent.markAsDirty(k)}markAsPristine(k={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(M=>{M.markAsPristine({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}markAsPending(k={}){this.status=ae,!1!==k.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!k.onlySelf&&this._parent.markAsPending(k)}disable(k={}){const M=this._parentMarkedDirty(k.onlySelf);this.status=ve,this.errors=null,this._forEachChild(Z=>{Z.disable({...k,onlySelf:!0})}),this._updateValue(),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...k,skipPristineCheck:M}),this._onDisabledChange.forEach(Z=>Z(!0))}enable(k={}){const M=this._parentMarkedDirty(k.onlySelf);this.status=En,this._forEachChild(Z=>{Z.enable({...k,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent}),this._updateAncestors({...k,skipPristineCheck:M}),this._onDisabledChange.forEach(Z=>Z(!1))}_updateAncestors(k){this._parent&&!k.onlySelf&&(this._parent.updateValueAndValidity(k),k.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(k){this._parent=k}getRawValue(){return this.value}updateValueAndValidity(k={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===En||this.status===ae)&&this._runAsyncValidator(k.emitEvent)),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!k.onlySelf&&this._parent.updateValueAndValidity(k)}_updateTreeValidity(k={emitEvent:!0}){this._forEachChild(M=>M._updateTreeValidity(k)),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ve:En}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(k){if(this.asyncValidator){this.status=ae,this._hasOwnPendingAsyncValidator=!0;const M=$n(this.asyncValidator(this));this._asyncValidationSubscription=M.subscribe(Z=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Z,{emitEvent:k})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(k,M={}){this.errors=k,this._updateControlsErrors(!1!==M.emitEvent)}get(k){let M=k;return null==M||(Array.isArray(M)||(M=M.split(".")),0===M.length)?null:M.reduce((Z,Ge)=>Z&&Z._find(Ge),this)}getError(k,M){const Z=M?this.get(M):this;return Z&&Z.errors?Z.errors[k]:null}hasError(k,M){return!!this.getError(k,M)}get root(){let k=this;for(;k._parent;)k=k._parent;return k}_updateControlsErrors(k){this.status=this._calculateStatus(),k&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(k)}_initObservables(){this.valueChanges=new y.vpe,this.statusChanges=new y.vpe}_calculateStatus(){return this._allControlsDisabled()?ve:this.errors?le:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ae)?ae:this._anyControlsHaveStatus(le)?le:En}_anyControlsHaveStatus(k){return this._anyControls(M=>M.status===k)}_anyControlsDirty(){return this._anyControls(k=>k.dirty)}_anyControlsTouched(){return this._anyControls(k=>k.touched)}_updatePristine(k={}){this.pristine=!this._anyControlsDirty(),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}_updateTouched(k={}){this.touched=this._anyControlsTouched(),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}_registerOnCollectionChange(k){this._onCollectionChange=k}_setUpdateStrategy(k){On(k)&&null!=k.updateOn&&(this._updateOn=k.updateOn)}_parentMarkedDirty(k){return!k&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(k){return null}}class ce extends Me{constructor(k,M,Z){super(Je(M),Rt(Z,M)),this.controls=k,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(k,M){return this.controls[k]?this.controls[k]:(this.controls[k]=M,M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange),M)}addControl(k,M,Z={}){this.registerControl(k,M),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}removeControl(k,M={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}setControl(k,M,Z={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],M&&this.registerControl(k,M),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}contains(k){return this.controls.hasOwnProperty(k)&&this.controls[k].enabled}setValue(k,M={}){jn(this,0,k),Object.keys(k).forEach(Z=>{Pr(this,!0,Z),this.controls[Z].setValue(k[Z],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(k,M={}){null!=k&&(Object.keys(k).forEach(Z=>{const Ge=this.controls[Z];Ge&&Ge.patchValue(k[Z],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(k={},M={}){this._forEachChild((Z,Ge)=>{Z.reset(k[Ge],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this._reduceChildren({},(k,M,Z)=>(k[Z]=M.getRawValue(),k))}_syncPendingControls(){let k=this._reduceChildren(!1,(M,Z)=>!!Z._syncPendingControls()||M);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_forEachChild(k){Object.keys(this.controls).forEach(M=>{const Z=this.controls[M];Z&&k(Z,M)})}_setUpControls(){this._forEachChild(k=>{k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(k){for(const[M,Z]of Object.entries(this.controls))if(this.contains(M)&&k(Z))return!0;return!1}_reduceValue(){return this._reduceChildren({},(M,Z,Ge)=>((Z.enabled||this.disabled)&&(M[Ge]=Z.value),M))}_reduceChildren(k,M){let Z=k;return this._forEachChild((Ge,jt)=>{Z=M(Z,Ge,jt)}),Z}_allControlsDisabled(){for(const k of Object.keys(this.controls))if(this.controls[k].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(k){return this.controls.hasOwnProperty(k)?this.controls[k]:null}}class Ie extends ce{}function mt(F,k){return[...k.path,F]}function $t(F,k){br(F,k),k.valueAccessor.writeValue(F.value),F.disabled&&k.valueAccessor.setDisabledState?.(!0),function _r(F,k){k.valueAccessor.registerOnChange(M=>{F._pendingValue=M,F._pendingChange=!0,F._pendingDirty=!0,"change"===F.updateOn&&sr(F,k)})}(F,k),function Pi(F,k){const M=(Z,Ge)=>{k.valueAccessor.writeValue(Z),Ge&&k.viewToModelUpdate(Z)};F.registerOnChange(M),k._registerOnDestroy(()=>{F._unregisterOnChange(M)})}(F,k),function Or(F,k){k.valueAccessor.registerOnTouched(()=>{F._pendingTouched=!0,"blur"===F.updateOn&&F._pendingChange&&sr(F,k),"submit"!==F.updateOn&&F.markAsTouched()})}(F,k),function gn(F,k){if(k.valueAccessor.setDisabledState){const M=Z=>{k.valueAccessor.setDisabledState(Z)};F.registerOnDisabledChange(M),k._registerOnDestroy(()=>{F._unregisterOnDisabledChange(M)})}}(F,k)}function dt(F,k,M=!0){const Z=()=>{};k.valueAccessor&&(k.valueAccessor.registerOnChange(Z),k.valueAccessor.registerOnTouched(Z)),Ar(F,k),F&&(k._invokeOnDestroyCallbacks(),F._registerOnCollectionChange(()=>{}))}function Xt(F,k){F.forEach(M=>{M.registerOnValidatorChange&&M.registerOnValidatorChange(k)})}function br(F,k){const M=fr(F);null!==k.validator?F.setValidators(Rr(M,k.validator)):"function"==typeof M&&F.setValidators([M]);const Z=ei(F);null!==k.asyncValidator?F.setAsyncValidators(Rr(Z,k.asyncValidator)):"function"==typeof Z&&F.setAsyncValidators([Z]);const Ge=()=>F.updateValueAndValidity();Xt(k._rawValidators,Ge),Xt(k._rawAsyncValidators,Ge)}function Ar(F,k){let M=!1;if(null!==F){if(null!==k.validator){const Ge=fr(F);if(Array.isArray(Ge)&&Ge.length>0){const jt=Ge.filter(jr=>jr!==k.validator);jt.length!==Ge.length&&(M=!0,F.setValidators(jt))}}if(null!==k.asyncValidator){const Ge=ei(F);if(Array.isArray(Ge)&&Ge.length>0){const jt=Ge.filter(jr=>jr!==k.asyncValidator);jt.length!==Ge.length&&(M=!0,F.setAsyncValidators(jt))}}}const Z=()=>{};return Xt(k._rawValidators,Z),Xt(k._rawAsyncValidators,Z),M}function sr(F,k){F._pendingDirty&&F.markAsDirty(),F.setValue(F._pendingValue,{emitModelToViewChange:!1}),k.viewToModelUpdate(F._pendingValue),F._pendingChange=!1}function kn(F,k){if(!F.hasOwnProperty("model"))return!1;const M=F.model;return!!M.isFirstChange()||!Object.is(k,M.currentValue)}function Ur(F,k){if(!k)return null;let M,Z,Ge;return Array.isArray(k),k.forEach(jt=>{jt.constructor===Be?M=jt:function Bi(F){return Object.getPrototypeOf(F.constructor)===Ue}(jt)?Z=jt:Ge=jt}),Ge||Z||M||null}function kt(F,k){const M=F.indexOf(k);M>-1&&F.splice(M,1)}function Cn(F){return"object"==typeof F&&null!==F&&2===Object.keys(F).length&&"value"in F&&"disabled"in F}const hr=class extends Me{constructor(k=null,M,Z){super(Je(M),Rt(Z,M)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(k),this._setUpdateStrategy(M),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),On(M)&&(M.nonNullable||M.initialValueIsDefault)&&(this.defaultValue=Cn(k)?k.value:k)}setValue(k,M={}){this.value=this._pendingValue=k,this._onChange.length&&!1!==M.emitModelToViewChange&&this._onChange.forEach(Z=>Z(this.value,!1!==M.emitViewToModelChange)),this.updateValueAndValidity(M)}patchValue(k,M={}){this.setValue(k,M)}reset(k=this.defaultValue,M={}){this._applyFormState(k),this.markAsPristine(M),this.markAsUntouched(M),this.setValue(this.value,M),this._pendingChange=!1}_updateValue(){}_anyControls(k){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(k){this._onChange.push(k)}_unregisterOnChange(k){kt(this._onChange,k)}registerOnDisabledChange(k){this._onDisabledChange.push(k)}_unregisterOnDisabledChange(k){kt(this._onDisabledChange,k)}_forEachChild(k){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(k){Cn(k)?(this.value=this._pendingValue=k.value,k.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=k}},_i={provide:Er,useExisting:(0,y.Gpc)(()=>Ns)},Jo=(()=>Promise.resolve())();let Ns=(()=>{class F extends Er{constructor(M,Z,Ge,jt,jr){super(),this._changeDetectorRef=jr,this.control=new hr,this._registered=!1,this.update=new y.vpe,this._parent=M,this._setValidators(Z),this._setAsyncValidators(Ge),this.valueAccessor=Ur(0,jt)}ngOnChanges(M){if(this._checkForErrors(),!this._registered||"name"in M){if(this._registered&&(this._checkName(),this.formDirective)){const Z=M.name.previousValue;this.formDirective.removeControl({name:Z,path:this._getPath(Z)})}this._setUpControl()}"isDisabled"in M&&this._updateDisabled(M),kn(M,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){$t(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(M){Jo.then(()=>{this.control.setValue(M,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(M){const Z=M.isDisabled.currentValue,Ge=0!==Z&&(0,y.D6c)(Z);Jo.then(()=>{Ge&&!this.control.disabled?this.control.disable():!Ge&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(M){return this._parent?mt(M,this._parent):[M]}}return F.\u0275fac=function(M){return new(M||F)(y.Y36(Ir,9),y.Y36(Ee,10),y.Y36(Se,10),y.Y36(Et,10),y.Y36(y.sBO,8))},F.\u0275dir=y.lG2({type:F,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[y._Bn([_i]),y.qOj,y.TTD]}),F})(),eo=(()=>{class F{}return F.\u0275fac=function(M){return new(M||F)},F.\u0275dir=y.lG2({type:F,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),F})(),ga=(()=>{class F{}return F.\u0275fac=function(M){return new(M||F)},F.\u0275mod=y.oAB({type:F}),F.\u0275inj=y.cJS({}),F})();const $i=new y.OlP("NgModelWithFormControlWarning"),ki={provide:Ir,useExisting:(0,y.Gpc)(()=>Fi)};let Fi=(()=>{class F extends Ir{constructor(M,Z){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new y.vpe,this._setValidators(M),this._setAsyncValidators(Z)}ngOnChanges(M){this._checkFormPresent(),M.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ar(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(M){const Z=this.form.get(M.path);return $t(Z,M),Z.updateValueAndValidity({emitEvent:!1}),this.directives.push(M),Z}getControl(M){return this.form.get(M.path)}removeControl(M){dt(M.control||null,M,!1),function Ce(F,k){const M=F.indexOf(k);M>-1&&F.splice(M,1)}(this.directives,M)}addFormGroup(M){this._setUpFormContainer(M)}removeFormGroup(M){this._cleanUpFormContainer(M)}getFormGroup(M){return this.form.get(M.path)}addFormArray(M){this._setUpFormContainer(M)}removeFormArray(M){this._cleanUpFormContainer(M)}getFormArray(M){return this.form.get(M.path)}updateModel(M,Z){this.form.get(M.path).setValue(Z)}onSubmit(M){return this.submitted=!0,function ri(F,k){F._syncPendingControls(),k.forEach(M=>{const Z=M.control;"submit"===Z.updateOn&&Z._pendingChange&&(M.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(M),"dialog"===M?.target?.method}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_updateDomValue(){this.directives.forEach(M=>{const Z=M.control,Ge=this.form.get(M.path);Z!==Ge&&(dt(Z||null,M),(F=>F instanceof hr)(Ge)&&($t(Ge,M),M.control=Ge))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(M){const Z=this.form.get(M.path);(function li(F,k){br(F,k)})(Z,M),Z.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(M){if(this.form){const Z=this.form.get(M.path);Z&&function Nn(F,k){return Ar(F,k)}(Z,M)&&Z.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){br(this.form,this),this._oldForm&&Ar(this._oldForm,this)}_checkFormPresent(){}}return F.\u0275fac=function(M){return new(M||F)(y.Y36(Ee,10),y.Y36(Se,10))},F.\u0275dir=y.lG2({type:F,selectors:[["","formGroup",""]],hostBindings:function(M,Z){1&M&&y.NdJ("submit",function(jt){return Z.onSubmit(jt)})("reset",function(){return Z.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([ki]),y.qOj,y.TTD]}),F})();const Io={provide:Er,useExisting:(0,y.Gpc)(()=>Ps)};let Ps=(()=>{class F extends Er{constructor(M,Z,Ge,jt,jr){super(),this._ngModelWarningConfig=jr,this._added=!1,this.update=new y.vpe,this._ngModelWarningSent=!1,this._parent=M,this._setValidators(Z),this._setAsyncValidators(Ge),this.valueAccessor=Ur(0,jt)}set isDisabled(M){}ngOnChanges(M){this._added||this._setUpControl(),kn(M,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}get path(){return mt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return F._ngModelWarningSentOnce=!1,F.\u0275fac=function(M){return new(M||F)(y.Y36(Ir,13),y.Y36(Ee,10),y.Y36(Se,10),y.Y36(Et,10),y.Y36($i,8))},F.\u0275dir=y.lG2({type:F,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[y._Bn([Io]),y.qOj,y.TTD]}),F})(),oo=(()=>{class F{}return F.\u0275fac=function(M){return new(M||F)},F.\u0275mod=y.oAB({type:F}),F.\u0275inj=y.cJS({imports:[ga]}),F})(),ao=(()=>{class F{}return F.\u0275fac=function(M){return new(M||F)},F.\u0275mod=y.oAB({type:F}),F.\u0275inj=y.cJS({imports:[oo]}),F})(),Ys=(()=>{class F{static withConfig(M){return{ngModule:F,providers:[{provide:$i,useValue:M.warnOnNgModelWithFormControl}]}}}return F.\u0275fac=function(M){return new(M||F)},F.\u0275mod=y.oAB({type:F}),F.\u0275inj=y.cJS({imports:[oo]}),F})();class ea extends Me{constructor(k,M,Z){super(Je(M),Rt(Z,M)),this.controls=k,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(k){return this.controls[this._adjustIndex(k)]}push(k,M={}){this.controls.push(k),this._registerControl(k),this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}insert(k,M,Z={}){this.controls.splice(k,0,M),this._registerControl(M),this.updateValueAndValidity({emitEvent:Z.emitEvent})}removeAt(k,M={}){let Z=this._adjustIndex(k);Z<0&&(Z=0),this.controls[Z]&&this.controls[Z]._registerOnCollectionChange(()=>{}),this.controls.splice(Z,1),this.updateValueAndValidity({emitEvent:M.emitEvent})}setControl(k,M,Z={}){let Ge=this._adjustIndex(k);Ge<0&&(Ge=0),this.controls[Ge]&&this.controls[Ge]._registerOnCollectionChange(()=>{}),this.controls.splice(Ge,1),M&&(this.controls.splice(Ge,0,M),this._registerControl(M)),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(k,M={}){jn(this,0,k),k.forEach((Z,Ge)=>{Pr(this,!1,Ge),this.at(Ge).setValue(Z,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(k,M={}){null!=k&&(k.forEach((Z,Ge)=>{this.at(Ge)&&this.at(Ge).patchValue(Z,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(k=[],M={}){this._forEachChild((Z,Ge)=>{Z.reset(k[Ge],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this.controls.map(k=>k.getRawValue())}clear(k={}){this.controls.length<1||(this._forEachChild(M=>M._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:k.emitEvent}))}_adjustIndex(k){return k<0?k+this.length:k}_syncPendingControls(){let k=this.controls.reduce((M,Z)=>!!Z._syncPendingControls()||M,!1);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_forEachChild(k){this.controls.forEach((M,Z)=>{k(M,Z)})}_updateValue(){this.value=this.controls.filter(k=>k.enabled||this.disabled).map(k=>k.value)}_anyControls(k){return this.controls.some(M=>M.enabled&&k(M))}_setUpControls(){this._forEachChild(k=>this._registerControl(k))}_allControlsDisabled(){for(const k of this.controls)if(k.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(k){k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)}_find(k){return this.at(k)??null}}function hs(F){return!!F&&(void 0!==F.asyncValidators||void 0!==F.validators||void 0!==F.updateOn)}let ht=(()=>{class F{constructor(){this.useNonNullable=!1}get nonNullable(){const M=new F;return M.useNonNullable=!0,M}group(M,Z=null){const Ge=this._reduceControls(M);let jt={};return hs(Z)?jt=Z:null!==Z&&(jt.validators=Z.validator,jt.asyncValidators=Z.asyncValidator),new ce(Ge,jt)}record(M,Z=null){const Ge=this._reduceControls(M);return new Ie(Ge,Z)}control(M,Z,Ge){let jt={};return this.useNonNullable?(hs(Z)?jt=Z:(jt.validators=Z,jt.asyncValidators=Ge),new hr(M,{...jt,nonNullable:!0})):new hr(M,Z,Ge)}array(M,Z,Ge){const jt=M.map(jr=>this._createControl(jr));return new ea(jt,Z,Ge)}_reduceControls(M){const Z={};return Object.keys(M).forEach(Ge=>{Z[Ge]=this._createControl(M[Ge])}),Z}_createControl(M){return M instanceof hr||M instanceof Me?M:Array.isArray(M)?this.control(M[0],M.length>1?M[1]:null,M.length>2?M[2]:null):this.control(M)}}return F.\u0275fac=function(M){return new(M||F)},F.\u0275prov=y.Yz7({token:F,factory:F.\u0275fac,providedIn:Ys}),F})(),mn=(()=>{class F{}return F.\u0275fac=function(M){return new(M||F)},F.\u0275prov=y.Yz7({token:F,factory:function(){return(0,y.f3M)(ht).nonNullable},providedIn:Ys}),F})()},1481:(yn,ct,Q)=>{Q.d(ct,{Dx:()=>Dr,b2:()=>Ir,q6:()=>Sr,se:()=>Ne});var y=Q(6895),G=Q(8256);class De extends y.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class me extends De{static makeCurrent(){(0,y.HT)(new me)}onAndCancel(ce,ne,ke){return ce.addEventListener(ne,ke,!1),()=>{ce.removeEventListener(ne,ke,!1)}}dispatchEvent(ce,ne){ce.dispatchEvent(ne)}remove(ce){ce.parentNode&&ce.parentNode.removeChild(ce)}createElement(ce,ne){return(ne=ne||this.getDefaultDocument()).createElement(ce)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ce){return ce.nodeType===Node.ELEMENT_NODE}isShadowRoot(ce){return ce instanceof DocumentFragment}getGlobalEventTarget(ce,ne){return"window"===ne?window:"document"===ne?ce:"body"===ne?ce.body:null}getBaseHref(ce){const ne=function nt(){return Re=Re||document.querySelector("base"),Re?Re.getAttribute("href"):null}();return null==ne?null:function Ve(Me){We=We||document.createElement("a"),We.setAttribute("href",Me);const ce=We.pathname;return"/"===ce.charAt(0)?ce:`/${ce}`}(ne)}resetBaseElement(){Re=null}getUserAgent(){return window.navigator.userAgent}getCookie(ce){return(0,y.Mx)(document.cookie,ce)}}let We,Re=null;const tt=new G.OlP("TRANSITION_ID"),pe=[{provide:G.ip1,useFactory:function oe(Me,ce,ne){return()=>{ne.get(G.CZH).donePromise.then(()=>{const ke=(0,y.q)(),Ie=ce.querySelectorAll(`style[ng-transition="${Me}"]`);for(let Qe=0;Qe<Ie.length;Qe++)ke.remove(Ie[Qe])})}},deps:[tt,y.K0,G.zs3],multi:!0}];let lt=(()=>{class Me{build(){return new XMLHttpRequest}}return Me.\u0275fac=function(ne){return new(ne||Me)},Me.\u0275prov=G.Yz7({token:Me,factory:Me.\u0275fac}),Me})();const Ue=new G.OlP("EventManagerPlugins");let Et=(()=>{class Me{constructor(ne,ke){this._zone=ke,this._eventNameToPlugin=new Map,ne.forEach(Ie=>Ie.manager=this),this._plugins=ne.slice().reverse()}addEventListener(ne,ke,Ie){return this._findPluginFor(ke).addEventListener(ne,ke,Ie)}addGlobalEventListener(ne,ke,Ie){return this._findPluginFor(ke).addGlobalEventListener(ne,ke,Ie)}getZone(){return this._zone}_findPluginFor(ne){const ke=this._eventNameToPlugin.get(ne);if(ke)return ke;const Ie=this._plugins;for(let Qe=0;Qe<Ie.length;Qe++){const mt=Ie[Qe];if(mt.supports(ne))return this._eventNameToPlugin.set(ne,mt),mt}throw new Error(`No event manager plugin found for event ${ne}`)}}return Me.\u0275fac=function(ne){return new(ne||Me)(G.LFG(Ue),G.LFG(G.R0b))},Me.\u0275prov=G.Yz7({token:Me,factory:Me.\u0275fac}),Me})();class Nt{constructor(ce){this._doc=ce}addGlobalEventListener(ce,ne,ke){const Ie=(0,y.q)().getGlobalEventTarget(this._doc,ce);if(!Ie)throw new Error(`Unsupported event target ${Ie} for event ${ne}`);return this.addEventListener(Ie,ne,ke)}}let Yt=(()=>{class Me{constructor(){this._stylesSet=new Set}addStyles(ne){const ke=new Set;ne.forEach(Ie=>{this._stylesSet.has(Ie)||(this._stylesSet.add(Ie),ke.add(Ie))}),this.onStylesAdded(ke)}onStylesAdded(ne){}getAllStyles(){return Array.from(this._stylesSet)}}return Me.\u0275fac=function(ne){return new(ne||Me)},Me.\u0275prov=G.Yz7({token:Me,factory:Me.\u0275fac}),Me})(),Ut=(()=>{class Me extends Yt{constructor(ne){super(),this._doc=ne,this._hostNodes=new Map,this._hostNodes.set(ne.head,[])}_addStylesToHost(ne,ke,Ie){ne.forEach(Qe=>{const mt=this._doc.createElement("style");mt.textContent=Qe,Ie.push(ke.appendChild(mt))})}addHost(ne){const ke=[];this._addStylesToHost(this._stylesSet,ne,ke),this._hostNodes.set(ne,ke)}removeHost(ne){const ke=this._hostNodes.get(ne);ke&&ke.forEach(Ot),this._hostNodes.delete(ne)}onStylesAdded(ne){this._hostNodes.forEach((ke,Ie)=>{this._addStylesToHost(ne,Ie,ke)})}ngOnDestroy(){this._hostNodes.forEach(ne=>ne.forEach(Ot))}}return Me.\u0275fac=function(ne){return new(ne||Me)(G.LFG(y.K0))},Me.\u0275prov=G.Yz7({token:Me,factory:Me.\u0275fac}),Me})();function Ot(Me){(0,y.q)().remove(Me)}const _t={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Be=/%COMP%/g;function ye(Me,ce,ne){for(let ke=0;ke<ce.length;ke++){let Ie=ce[ke];Array.isArray(Ie)?ye(Me,Ie,ne):(Ie=Ie.replace(Be,Me),ne.push(Ie))}return ne}function be(Me){return ce=>{if("__ngUnwrap__"===ce)return Me;!1===Me(ce)&&(ce.preventDefault(),ce.returnValue=!1)}}let Ne=(()=>{class Me{constructor(ne,ke,Ie){this.eventManager=ne,this.sharedStylesHost=ke,this.appId=Ie,this.rendererByCompId=new Map,this.defaultRenderer=new it(ne)}createRenderer(ne,ke){if(!ne||!ke)return this.defaultRenderer;switch(ke.encapsulation){case G.ifc.Emulated:{let Ie=this.rendererByCompId.get(ke.id);return Ie||(Ie=new tr(this.eventManager,this.sharedStylesHost,ke,this.appId),this.rendererByCompId.set(ke.id,Ie)),Ie.applyToHost(ne),Ie}case 1:case G.ifc.ShadowDom:return new Wt(this.eventManager,this.sharedStylesHost,ne,ke);default:if(!this.rendererByCompId.has(ke.id)){const Ie=ye(ke.id,ke.styles,[]);this.sharedStylesHost.addStyles(Ie),this.rendererByCompId.set(ke.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Me.\u0275fac=function(ne){return new(ne||Me)(G.LFG(Et),G.LFG(Ut),G.LFG(G.AFp))},Me.\u0275prov=G.Yz7({token:Me,factory:Me.\u0275fac}),Me})();class it{constructor(ce){this.eventManager=ce,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ce,ne){return ne?document.createElementNS(_t[ne]||ne,ce):document.createElement(ce)}createComment(ce){return document.createComment(ce)}createText(ce){return document.createTextNode(ce)}appendChild(ce,ne){(an(ce)?ce.content:ce).appendChild(ne)}insertBefore(ce,ne,ke){ce&&(an(ce)?ce.content:ce).insertBefore(ne,ke)}removeChild(ce,ne){ce&&ce.removeChild(ne)}selectRootElement(ce,ne){let ke="string"==typeof ce?document.querySelector(ce):ce;if(!ke)throw new Error(`The selector "${ce}" did not match any elements`);return ne||(ke.textContent=""),ke}parentNode(ce){return ce.parentNode}nextSibling(ce){return ce.nextSibling}setAttribute(ce,ne,ke,Ie){if(Ie){ne=Ie+":"+ne;const Qe=_t[Ie];Qe?ce.setAttributeNS(Qe,ne,ke):ce.setAttribute(ne,ke)}else ce.setAttribute(ne,ke)}removeAttribute(ce,ne,ke){if(ke){const Ie=_t[ke];Ie?ce.removeAttributeNS(Ie,ne):ce.removeAttribute(`${ke}:${ne}`)}else ce.removeAttribute(ne)}addClass(ce,ne){ce.classList.add(ne)}removeClass(ce,ne){ce.classList.remove(ne)}setStyle(ce,ne,ke,Ie){Ie&(G.JOm.DashCase|G.JOm.Important)?ce.style.setProperty(ne,ke,Ie&G.JOm.Important?"important":""):ce.style[ne]=ke}removeStyle(ce,ne,ke){ke&G.JOm.DashCase?ce.style.removeProperty(ne):ce.style[ne]=""}setProperty(ce,ne,ke){ce[ne]=ke}setValue(ce,ne){ce.nodeValue=ne}listen(ce,ne,ke){return"string"==typeof ce?this.eventManager.addGlobalEventListener(ce,ne,be(ke)):this.eventManager.addEventListener(ce,ne,be(ke))}}function an(Me){return"TEMPLATE"===Me.tagName&&void 0!==Me.content}class tr extends it{constructor(ce,ne,ke,Ie){super(ce),this.component=ke;const Qe=ye(Ie+"-"+ke.id,ke.styles,[]);ne.addStyles(Qe),this.contentAttr=function Se(Me){return"_ngcontent-%COMP%".replace(Be,Me)}(Ie+"-"+ke.id),this.hostAttr=function rt(Me){return"_nghost-%COMP%".replace(Be,Me)}(Ie+"-"+ke.id)}applyToHost(ce){super.setAttribute(ce,this.hostAttr,"")}createElement(ce,ne){const ke=super.createElement(ce,ne);return super.setAttribute(ke,this.contentAttr,""),ke}}class Wt extends it{constructor(ce,ne,ke,Ie){super(ce),this.sharedStylesHost=ne,this.hostEl=ke,this.shadowRoot=ke.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Qe=ye(Ie.id,Ie.styles,[]);for(let mt=0;mt<Qe.length;mt++){const $t=document.createElement("style");$t.textContent=Qe[mt],this.shadowRoot.appendChild($t)}}nodeOrShadowRoot(ce){return ce===this.hostEl?this.shadowRoot:ce}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ce,ne){return super.appendChild(this.nodeOrShadowRoot(ce),ne)}insertBefore(ce,ne,ke){return super.insertBefore(this.nodeOrShadowRoot(ce),ne,ke)}removeChild(ce,ne){return super.removeChild(this.nodeOrShadowRoot(ce),ne)}parentNode(ce){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ce)))}}let hn=(()=>{class Me extends Nt{constructor(ne){super(ne)}supports(ne){return!0}addEventListener(ne,ke,Ie){return ne.addEventListener(ke,Ie,!1),()=>this.removeEventListener(ne,ke,Ie)}removeEventListener(ne,ke,Ie){return ne.removeEventListener(ke,Ie)}}return Me.\u0275fac=function(ne){return new(ne||Me)(G.LFG(y.K0))},Me.\u0275prov=G.Yz7({token:Me,factory:Me.\u0275fac}),Me})();const $n=["alt","control","meta","shift"],Rn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wr={alt:Me=>Me.altKey,control:Me=>Me.ctrlKey,meta:Me=>Me.metaKey,shift:Me=>Me.shiftKey};let Dn=(()=>{class Me extends Nt{constructor(ne){super(ne)}supports(ne){return null!=Me.parseEventName(ne)}addEventListener(ne,ke,Ie){const Qe=Me.parseEventName(ke),mt=Me.eventCallback(Qe.fullKey,Ie,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.q)().onAndCancel(ne,Qe.domEventName,mt))}static parseEventName(ne){const ke=ne.toLowerCase().split("."),Ie=ke.shift();if(0===ke.length||"keydown"!==Ie&&"keyup"!==Ie)return null;const Qe=Me._normalizeKey(ke.pop());let mt="",$t=ke.indexOf("code");if($t>-1&&(ke.splice($t,1),mt="code."),$n.forEach(Xt=>{const gn=ke.indexOf(Xt);gn>-1&&(ke.splice(gn,1),mt+=Xt+".")}),mt+=Qe,0!=ke.length||0===Qe.length)return null;const dt={};return dt.domEventName=Ie,dt.fullKey=mt,dt}static matchEventFullKeyCode(ne,ke){let Ie=Rn[ne.key]||ne.key,Qe="";return ke.indexOf("code.")>-1&&(Ie=ne.code,Qe="code."),!(null==Ie||!Ie)&&(Ie=Ie.toLowerCase()," "===Ie?Ie="space":"."===Ie&&(Ie="dot"),$n.forEach(mt=>{mt!==Ie&&(0,Wr[mt])(ne)&&(Qe+=mt+".")}),Qe+=Ie,Qe===ke)}static eventCallback(ne,ke,Ie){return Qe=>{Me.matchEventFullKeyCode(Qe,ne)&&Ie.runGuarded(()=>ke(Qe))}}static _normalizeKey(ne){return"esc"===ne?"escape":ne}}return Me.\u0275fac=function(ne){return new(ne||Me)(G.LFG(y.K0))},Me.\u0275prov=G.Yz7({token:Me,factory:Me.\u0275fac}),Me})();const Sr=(0,G.eFA)(G._c5,"browser",[{provide:G.Lbi,useValue:y.bD},{provide:G.g9A,useValue:function Rr(){me.makeCurrent()},multi:!0},{provide:y.K0,useFactory:function ei(){return(0,G.RDi)(document),document},deps:[]}]),rr=new G.OlP(""),Bt=[{provide:G.rWj,useClass:class qe{addToWindow(ce){G.dqk.getAngularTestability=(ke,Ie=!0)=>{const Qe=ce.findTestabilityInTree(ke,Ie);if(null==Qe)throw new Error("Could not find testability for element.");return Qe},G.dqk.getAllAngularTestabilities=()=>ce.getAllTestabilities(),G.dqk.getAllAngularRootElements=()=>ce.getAllRootElements(),G.dqk.frameworkStabilizers||(G.dqk.frameworkStabilizers=[]),G.dqk.frameworkStabilizers.push(ke=>{const Ie=G.dqk.getAllAngularTestabilities();let Qe=Ie.length,mt=!1;const $t=function(dt){mt=mt||dt,Qe--,0==Qe&&ke(mt)};Ie.forEach(function(dt){dt.whenStable($t)})})}findTestabilityInTree(ce,ne,ke){return null==ne?null:ce.getTestability(ne)??(ke?(0,y.q)().isShadowRoot(ne)?this.findTestabilityInTree(ce,ne.host,!0):this.findTestabilityInTree(ce,ne.parentElement,!0):null)}},deps:[]},{provide:G.lri,useClass:G.dDg,deps:[G.R0b,G.eoX,G.rWj]},{provide:G.dDg,useClass:G.dDg,deps:[G.R0b,G.eoX,G.rWj]}],zn=[{provide:G.zSh,useValue:"root"},{provide:G.qLn,useFactory:function fr(){return new G.qLn},deps:[]},{provide:Ue,useClass:hn,multi:!0,deps:[y.K0,G.R0b,G.Lbi]},{provide:Ue,useClass:Dn,multi:!0,deps:[y.K0]},{provide:Ne,useClass:Ne,deps:[Et,Ut,G.AFp]},{provide:G.FYo,useExisting:Ne},{provide:Yt,useExisting:Ut},{provide:Ut,useClass:Ut,deps:[y.K0]},{provide:Et,useClass:Et,deps:[Ue,G.R0b]},{provide:y.JF,useClass:lt,deps:[]},[]];let Ir=(()=>{class Me{constructor(ne){}static withServerTransition(ne){return{ngModule:Me,providers:[{provide:G.AFp,useValue:ne.appId},{provide:tt,useExisting:G.AFp},pe]}}}return Me.\u0275fac=function(ne){return new(ne||Me)(G.LFG(rr,12))},Me.\u0275mod=G.oAB({type:Me}),Me.\u0275inj=G.cJS({providers:[...zn,...Bt],imports:[y.ez,G.hGG]}),Me})(),Dr=(()=>{class Me{constructor(ne){this._doc=ne}getTitle(){return this._doc.title}setTitle(ne){this._doc.title=ne||""}}return Me.\u0275fac=function(ne){return new(ne||Me)(G.LFG(y.K0))},Me.\u0275prov=G.Yz7({token:Me,factory:function(ne){let ke=null;return ke=ne?new ne:function pr(){return new Dr((0,G.LFG)(y.K0))}(),ke},providedIn:"root"}),Me})();typeof window<"u"&&window},1766:(yn,ct,Q)=>{Q.d(ct,{F0:()=>si,Bz:()=>Ii,lC:()=>Zs});var y=Q(8256),G=Q(8996),De=Q(7669);function me(..._){const E=(0,De.yG)(_);return(0,G.D)(_,E)}var Re=Q(7579);class nt extends Re.x{constructor(E){super(),this._value=E}get value(){return this.getValue()}_subscribe(E){const m=super._subscribe(E);return!m.closed&&E.next(this._value),m}getValue(){const{hasError:E,thrownError:m,_value:T}=this;if(E)throw m;return this._throwIfClosed(),T}next(E){super.next(this._value=E)}}const Ve=(0,Q(3888).d)(_=>function(){_(this),this.name="EmptyError",this.message="no elements in sequence"});var tt=Q(9751),oe=Q(4742),pe=Q(4671),qe=Q(3268),lt=Q(1810),Ue=Q(5403),Et=Q(9672);function Nt(..._){const E=(0,De.yG)(_),m=(0,De.jO)(_),{args:T,keys:P}=(0,oe.D)(_);if(0===T.length)return(0,G.D)([],E);const z=new tt.y(function Yt(_,E,m=pe.y){return T=>{Ut(E,()=>{const{length:P}=_,z=new Array(P);let se=P,ue=P;for(let Ze=0;Ze<P;Ze++)Ut(E,()=>{const At=(0,G.D)(_[Ze],E);let In=!1;At.subscribe((0,Ue.x)(T,Lt=>{z[Ze]=Lt,In||(In=!0,ue--),ue||T.next(m(z.slice()))},()=>{--se||T.complete()}))},T)},T)}}(T,E,P?se=>(0,lt.n)(P,se):pe.y));return m?z.pipe((0,qe.Z)(m)):z}function Ut(_,E,m){_?(0,Et.f)(m,_,E):E()}var Ot=Q(8189);function Be(..._){return function _t(){return(0,Ot.J)(1)}()((0,G.D)(_,(0,De.yG)(_)))}var Te=Q(8421);function xe(_){return new tt.y(E=>{(0,Te.Xf)(_()).subscribe(E)})}var Dt=Q(9635),Ee=Q(576);function Se(_,E){const m=(0,Ee.m)(_)?_:()=>_,T=P=>P.error(m());return new tt.y(E?P=>E.schedule(T,0,P):T)}var rt=Q(515),ye=Q(727),be=Q(4482);function He(){return(0,be.e)((_,E)=>{let m=null;_._refCount++;const T=(0,Ue.x)(E,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(m=null);const P=_._connection,z=m;m=null,P&&(!z||P===z)&&P.unsubscribe(),E.unsubscribe()});_.subscribe(T),T.closed||(m=_.connect())})}class Ne extends tt.y{constructor(E,m){super(),this.source=E,this.subjectFactory=m,this._subject=null,this._refCount=0,this._connection=null,(0,be.A)(E)&&(this.lift=E.lift)}_subscribe(E){return this.getSubject().subscribe(E)}getSubject(){const E=this._subject;return(!E||E.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:E}=this;this._subject=this._connection=null,E?.unsubscribe()}connect(){let E=this._connection;if(!E){E=this._connection=new ye.w0;const m=this.getSubject();E.add(this.source.subscribe((0,Ue.x)(m,void 0,()=>{this._teardown(),m.complete()},T=>{this._teardown(),m.error(T)},()=>this._teardown()))),E.closed&&(this._connection=null,E=ye.w0.EMPTY)}return E}refCount(){return He()(this)}}var it=Q(6895),Xe=Q(4004);function Mt(_,E){return(0,be.e)((m,T)=>{let P=null,z=0,se=!1;const ue=()=>se&&!P&&T.complete();m.subscribe((0,Ue.x)(T,Ze=>{P?.unsubscribe();let At=0;const In=z++;(0,Te.Xf)(_(Ze,In)).subscribe(P=(0,Ue.x)(T,Lt=>T.next(E?E(Ze,Lt,In,At++):Lt),()=>{P=null,ue()}))},()=>{se=!0,ue()}))})}var an=Q(5698);function Wt(_,E){return(0,be.e)((m,T)=>{let P=0;m.subscribe((0,Ue.x)(T,z=>_.call(E,z,P++)&&T.next(z)))})}var hn=Q(5577);function $n(_){return(0,be.e)((E,m)=>{let T=!1;E.subscribe((0,Ue.x)(m,P=>{T=!0,m.next(P)},()=>{T||m.next(_),m.complete()}))})}function Rn(_=Wr){return(0,be.e)((E,m)=>{let T=!1;E.subscribe((0,Ue.x)(m,P=>{T=!0,m.next(P)},()=>T?m.complete():m.error(_())))})}function Wr(){return new Ve}function Dn(_,E){const m=arguments.length>=2;return T=>T.pipe(_?Wt((P,z)=>_(P,z,T)):pe.y,(0,an.q)(1),m?$n(E):Rn(()=>new Ve))}function pn(_,E){return(0,Ee.m)(E)?(0,hn.z)(_,E,1):(0,hn.z)(_,1)}var An=Q(8505);function fn(_){return(0,be.e)((E,m)=>{let z,T=null,P=!1;T=E.subscribe((0,Ue.x)(m,void 0,void 0,se=>{z=(0,Te.Xf)(_(se,fn(_)(E))),T?(T.unsubscribe(),T=null,z.subscribe(m)):P=!0})),P&&(T.unsubscribe(),T=null,z.subscribe(m))})}function qr(_,E,m,T,P){return(z,se)=>{let ue=m,Ze=E,At=0;z.subscribe((0,Ue.x)(se,In=>{const Lt=At++;Ze=ue?_(Ze,In,Lt):(ue=!0,In),T&&se.next(Ze)},P&&(()=>{ue&&se.next(Ze),se.complete()})))}}function nr(_,E){return(0,be.e)(qr(_,E,arguments.length>=2,!0))}function Rr(_){return _<=0?()=>rt.E:(0,be.e)((E,m)=>{let T=[];E.subscribe((0,Ue.x)(m,P=>{T.push(P),_<T.length&&T.shift()},()=>{for(const P of T)m.next(P);m.complete()},void 0,()=>{T=null}))})}function fr(_,E){const m=arguments.length>=2;return T=>T.pipe(_?Wt((P,z)=>_(P,z,T)):pe.y,Rr(1),m?$n(E):Rn(()=>new Ve))}function Sr(_){return(0,be.e)((E,m)=>{try{E.subscribe(m)}finally{m.add(_)}})}var rr=Q(1481);const Bt="primary",zn=Symbol("RouteTitle");class Ir{constructor(E){this.params=E||{}}has(E){return Object.prototype.hasOwnProperty.call(this.params,E)}get(E){if(this.has(E)){const m=this.params[E];return Array.isArray(m)?m[0]:m}return null}getAll(E){if(this.has(E)){const m=this.params[E];return Array.isArray(m)?m:[m]}return[]}get keys(){return Object.keys(this.params)}}function Er(_){return new Ir(_)}function dr(_,E,m){const T=m.path.split("/");if(T.length>_.length||"full"===m.pathMatch&&(E.hasChildren()||T.length<_.length))return null;const P={};for(let z=0;z<T.length;z++){const se=T[z],ue=_[z];if(se.startsWith(":"))P[se.substring(1)]=ue;else if(se!==ue.path)return null}return{consumed:_.slice(0,T.length),posParams:P}}function pr(_,E){const m=_?Object.keys(_):void 0,T=E?Object.keys(E):void 0;if(!m||!T||m.length!=T.length)return!1;let P;for(let z=0;z<m.length;z++)if(P=m[z],!Dr(_[P],E[P]))return!1;return!0}function Dr(_,E){if(Array.isArray(_)&&Array.isArray(E)){if(_.length!==E.length)return!1;const m=[..._].sort(),T=[...E].sort();return m.every((P,z)=>T[z]===P)}return _===E}function Tt(_){return Array.prototype.concat.apply([],_)}function Vt(_){return _.length>0?_[_.length-1]:null}function un(_,E){for(const m in _)_.hasOwnProperty(m)&&E(_[m],m)}function ir(_){return(0,y.CqO)(_)?_:(0,y.QGY)(_)?(0,G.D)(Promise.resolve(_)):me(_)}const Vn={exact:function rn(_,E,m){if(!le(_.segments,E.segments)||!Pe(_.segments,E.segments,m)||_.numberOfChildren!==E.numberOfChildren)return!1;for(const T in E.children)if(!_.children[T]||!rn(_.children[T],E.children[T],m))return!1;return!0},subset:ui},fi={exact:function ti(_,E){return pr(_,E)},subset:function Ri(_,E){return Object.keys(E).length<=Object.keys(_).length&&Object.keys(E).every(m=>Dr(_[m],E[m]))},ignored:()=>!0};function Qn(_,E,m){return Vn[m.paths](_.root,E.root,m.matrixParams)&&fi[m.queryParams](_.queryParams,E.queryParams)&&!("exact"===m.fragment&&_.fragment!==E.fragment)}function ui(_,E,m){return gt(_,E,E.segments,m)}function gt(_,E,m,T){if(_.segments.length>m.length){const P=_.segments.slice(0,m.length);return!(!le(P,m)||E.hasChildren()||!Pe(P,m,T))}if(_.segments.length===m.length){if(!le(_.segments,m)||!Pe(_.segments,m,T))return!1;for(const P in E.children)if(!_.children[P]||!ui(_.children[P],E.children[P],T))return!1;return!0}{const P=m.slice(0,_.segments.length),z=m.slice(_.segments.length);return!!(le(_.segments,P)&&Pe(_.segments,P,T)&&_.children[Bt])&&gt(_.children[Bt],E,z,T)}}function Pe(_,E,m){return E.every((T,P)=>fi[m](_[P].parameters,T.parameters))}class It{constructor(E,m,T){this.root=E,this.queryParams=m,this.fragment=T}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Er(this.queryParams)),this._queryParamMap}toString(){return je.serialize(this)}}class st{constructor(E,m){this.segments=E,this.children=m,this.parent=null,un(m,(T,P)=>T.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rt(this)}}class Ct{constructor(E,m){this.path=E,this.parameters=m}get parameterMap(){return this._parameterMap||(this._parameterMap=Er(this.parameters)),this._parameterMap}toString(){return ke(this)}}function le(_,E){return _.length===E.length&&_.every((m,T)=>m.path===E[T].path)}let ve=(()=>{class _{}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=y.Yz7({token:_,factory:function(){return new Je},providedIn:"root"}),_})();class Je{parse(E){const m=new Ar(E);return new It(m.parseRootSegment(),m.parseQueryParams(),m.parseFragment())}serialize(E){const m=`/${en(E.root,!0)}`,T=function Qe(_){const E=Object.keys(_).map(m=>{const T=_[m];return Array.isArray(T)?T.map(P=>`${Pr(m)}=${Pr(P)}`).join("&"):`${Pr(m)}=${Pr(T)}`}).filter(m=>!!m);return E.length?`?${E.join("&")}`:""}(E.queryParams);return`${m}${T}${"string"==typeof E.fragment?`#${function jn(_){return encodeURI(_)}(E.fragment)}`:""}`}}const je=new Je;function Rt(_){return _.segments.map(E=>ke(E)).join("/")}function en(_,E){if(!_.hasChildren())return Rt(_);if(E){const m=_.children[Bt]?en(_.children[Bt],!1):"",T=[];return un(_.children,(P,z)=>{z!==Bt&&T.push(`${z}:${en(P,!1)}`)}),T.length>0?`${m}(${T.join("//")})`:m}{const m=function ae(_,E){let m=[];return un(_.children,(T,P)=>{P===Bt&&(m=m.concat(E(T,P)))}),un(_.children,(T,P)=>{P!==Bt&&(m=m.concat(E(T,P)))}),m}(_,(T,P)=>P===Bt?[en(_.children[Bt],!1)]:[`${P}:${en(T,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[Bt]?`${Rt(_)}/${m[0]}`:`${Rt(_)}/(${m.join("//")})`}}function On(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pr(_){return On(_).replace(/%3B/gi,";")}function Me(_){return On(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ce(_){return decodeURIComponent(_)}function ne(_){return ce(_.replace(/\+/g,"%20"))}function ke(_){return`${Me(_.path)}${function Ie(_){return Object.keys(_).map(E=>`;${Me(E)}=${Me(_[E])}`).join("")}(_.parameters)}`}const mt=/^[^\/()?;=#]+/;function $t(_){const E=_.match(mt);return E?E[0]:""}const dt=/^[^=?&#]+/,gn=/^[^&#]+/;class Ar{constructor(E){this.url=E,this.remaining=E}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new st([],{}):new st([],this.parseChildren())}parseQueryParams(){const E={};if(this.consumeOptional("?"))do{this.parseQueryParam(E)}while(this.consumeOptional("&"));return E}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const E=[];for(this.peekStartsWith("(")||E.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),E.push(this.parseSegment());let m={};this.peekStartsWith("/(")&&(this.capture("/"),m=this.parseParens(!0));let T={};return this.peekStartsWith("(")&&(T=this.parseParens(!1)),(E.length>0||Object.keys(m).length>0)&&(T[Bt]=new st(E,m)),T}parseSegment(){const E=$t(this.remaining);if(""===E&&this.peekStartsWith(";"))throw new y.vHH(4009,!1);return this.capture(E),new Ct(ce(E),this.parseMatrixParams())}parseMatrixParams(){const E={};for(;this.consumeOptional(";");)this.parseParam(E);return E}parseParam(E){const m=$t(this.remaining);if(!m)return;this.capture(m);let T="";if(this.consumeOptional("=")){const P=$t(this.remaining);P&&(T=P,this.capture(T))}E[ce(m)]=ce(T)}parseQueryParam(E){const m=function Xt(_){const E=_.match(dt);return E?E[0]:""}(this.remaining);if(!m)return;this.capture(m);let T="";if(this.consumeOptional("=")){const se=function br(_){const E=_.match(gn);return E?E[0]:""}(this.remaining);se&&(T=se,this.capture(T))}const P=ne(m),z=ne(T);if(E.hasOwnProperty(P)){let se=E[P];Array.isArray(se)||(se=[se],E[P]=se),se.push(z)}else E[P]=z}parseParens(E){const m={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const T=$t(this.remaining),P=this.remaining[T.length];if("/"!==P&&")"!==P&&";"!==P)throw new y.vHH(4010,!1);let z;T.indexOf(":")>-1?(z=T.slice(0,T.indexOf(":")),this.capture(z),this.capture(":")):E&&(z=Bt);const se=this.parseChildren();m[z]=1===Object.keys(se).length?se[Bt]:new st([],se),this.consumeOptional("//")}return m}peekStartsWith(E){return this.remaining.startsWith(E)}consumeOptional(E){return!!this.peekStartsWith(E)&&(this.remaining=this.remaining.substring(E.length),!0)}capture(E){if(!this.consumeOptional(E))throw new y.vHH(4011,!1)}}function _r(_){return _.segments.length>0?new st([],{[Bt]:_}):_}function Or(_){const E={};for(const T of Object.keys(_.children)){const z=Or(_.children[T]);(z.segments.length>0||z.hasChildren())&&(E[T]=z)}return function sr(_){if(1===_.numberOfChildren&&_.children[Bt]){const E=_.children[Bt];return new st(_.segments.concat(E.segments),E.children)}return _}(new st(_.segments,E))}function Pi(_){return _ instanceof It}function Ci(_,E,m,T,P){if(0===m.length)return Bi(E.root,E.root,E.root,T,P);const z=function Ce(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new Ur(!0,0,_);let E=0,m=!1;const T=_.reduce((P,z,se)=>{if("object"==typeof z&&null!=z){if(z.outlets){const ue={};return un(z.outlets,(Ze,At)=>{ue[At]="string"==typeof Ze?Ze.split("/"):Ze}),[...P,{outlets:ue}]}if(z.segmentPath)return[...P,z.segmentPath]}return"string"!=typeof z?[...P,z]:0===se?(z.split("/").forEach((ue,Ze)=>{0==Ze&&"."===ue||(0==Ze&&""===ue?m=!0:".."===ue?E++:""!=ue&&P.push(ue))}),P):[...P,z]},[]);return new Ur(m,E,T)}(m);return z.toRoot()?Bi(E.root,E.root,new st([],{}),T,P):function se(Ze){const At=function et(_,E,m,T){if(_.isAbsolute)return new we(E.root,!0,0);if(-1===T)return new we(m,m===E.root,0);return function yt(_,E,m){let T=_,P=E,z=m;for(;z>P;){if(z-=P,T=T.parent,!T)throw new y.vHH(4005,!1);P=T.segments.length}return new we(T,!1,P-z)}(m,T+(Ki(_.commands[0])?0:1),_.numberOfDoubleDots)}(z,E,_.snapshot?._urlSegment,Ze),In=At.processChildren?hr(At.segmentGroup,At.index,z.commands):Cn(At.segmentGroup,At.index,z.commands);return Bi(E.root,At.segmentGroup,In,T,P)}(_.snapshot?._lastPathIndex)}function Ki(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function kn(_){return"object"==typeof _&&null!=_&&_.outlets}function Bi(_,E,m,T,P){let se,z={};T&&un(T,(Ze,At)=>{z[At]=Array.isArray(Ze)?Ze.map(In=>`${In}`):`${Ze}`}),se=_===E?m:ri(_,E,m);const ue=_r(Or(se));return new It(ue,z,P)}function ri(_,E,m){const T={};return un(_.children,(P,z)=>{T[z]=P===E?m:ri(P,E,m)}),new st(_.segments,T)}class Ur{constructor(E,m,T){if(this.isAbsolute=E,this.numberOfDoubleDots=m,this.commands=T,E&&T.length>0&&Ki(T[0]))throw new y.vHH(4003,!1);const P=T.find(kn);if(P&&P!==Vt(T))throw new y.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class we{constructor(E,m,T){this.segmentGroup=E,this.processChildren=m,this.index=T}}function Cn(_,E,m){if(_||(_=new st([],{})),0===_.segments.length&&_.hasChildren())return hr(_,E,m);const T=function qn(_,E,m){let T=0,P=E;const z={match:!1,pathIndex:0,commandIndex:0};for(;P<_.segments.length;){if(T>=m.length)return z;const se=_.segments[P],ue=m[T];if(kn(ue))break;const Ze=`${ue}`,At=T<m.length-1?m[T+1]:null;if(P>0&&void 0===Ze)break;if(Ze&&At&&"object"==typeof At&&void 0===At.outlets){if(!$r(Ze,At,se))return z;T+=2}else{if(!$r(Ze,{},se))return z;T++}P++}return{match:!0,pathIndex:P,commandIndex:T}}(_,E,m),P=m.slice(T.commandIndex);if(T.match&&T.pathIndex<_.segments.length){const z=new st(_.segments.slice(0,T.pathIndex),{});return z.children[Bt]=new st(_.segments.slice(T.pathIndex),_.children),hr(z,0,P)}return T.match&&0===P.length?new st(_.segments,{}):T.match&&!_.hasChildren()?Br(_,E,m):T.match?hr(_,0,P):Br(_,E,m)}function hr(_,E,m){if(0===m.length)return new st(_.segments,{});{const T=function kt(_){return kn(_[0])?_[0].outlets:{[Bt]:_}}(m),P={};return un(T,(z,se)=>{"string"==typeof z&&(z=[z]),null!==z&&(P[se]=Cn(_.children[se],E,z))}),un(_.children,(z,se)=>{void 0===T[se]&&(P[se]=z)}),new st(_.segments,P)}}function Br(_,E,m){const T=_.segments.slice(0,E);let P=0;for(;P<m.length;){const z=m[P];if(kn(z)){const Ze=kr(z.outlets);return new st(T,Ze)}if(0===P&&Ki(m[0])){T.push(new Ct(_.segments[E].path,ms(m[0]))),P++;continue}const se=kn(z)?z.outlets[Bt]:`${z}`,ue=P<m.length-1?m[P+1]:null;se&&ue&&Ki(ue)?(T.push(new Ct(se,ms(ue))),P+=2):(T.push(new Ct(se,{})),P++)}return new st(T,{})}function kr(_){const E={};return un(_,(m,T)=>{"string"==typeof m&&(m=[m]),null!==m&&(E[T]=Br(new st([],{}),0,m))}),E}function ms(_){const E={};return un(_,(m,T)=>E[T]=`${m}`),E}function $r(_,E,m){return _==m.path&&pr(E,m.parameters)}class Kn{constructor(E,m){this.id=E,this.url=m}}class Ti extends Kn{constructor(E,m,T="imperative",P=null){super(E,m),this.type=0,this.navigationTrigger=T,this.restoredState=P}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Gr extends Kn{constructor(E,m,T){super(E,m),this.urlAfterRedirects=T,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ys extends Kn{constructor(E,m,T,P){super(E,m),this.reason=T,this.code=P,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _i extends Kn{constructor(E,m,T,P){super(E,m),this.error=T,this.target=P,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Jo extends Kn{constructor(E,m,T,P){super(E,m),this.urlAfterRedirects=T,this.state=P,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ns extends Kn{constructor(E,m,T,P){super(E,m),this.urlAfterRedirects=T,this.state=P,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eo extends Kn{constructor(E,m,T,P,z){super(E,m),this.urlAfterRedirects=T,this.state=P,this.shouldActivate=z,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vs extends Kn{constructor(E,m,T,P){super(E,m),this.urlAfterRedirects=T,this.state=P,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oi extends Kn{constructor(E,m,T,P){super(E,m),this.urlAfterRedirects=T,this.state=P,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class us{constructor(E){this.route=E,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xo{constructor(E){this.route=E,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ga{constructor(E){this.snapshot=E,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zo{constructor(E){this.snapshot=E,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class to{constructor(E){this.snapshot=E,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Da{constructor(E){this.snapshot=E,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wo{constructor(E,m,T){this.routerEvent=E,this.position=m,this.anchor=T,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Rs{constructor(E){this._root=E}get root(){return this._root.value}parent(E){const m=this.pathFromRoot(E);return m.length>1?m[m.length-2]:null}children(E){const m=_s(E,this._root);return m?m.children.map(T=>T.value):[]}firstChild(E){const m=_s(E,this._root);return m&&m.children.length>0?m.children[0].value:null}siblings(E){const m=ki(E,this._root);return m.length<2?[]:m[m.length-2].children.map(P=>P.value).filter(P=>P!==E)}pathFromRoot(E){return ki(E,this._root).map(m=>m.value)}}function _s(_,E){if(_===E.value)return E;for(const m of E.children){const T=_s(_,m);if(T)return T}return null}function ki(_,E){if(_===E.value)return[E];for(const m of E.children){const T=ki(_,m);if(T.length)return T.unshift(E),T}return[]}class Fi{constructor(E,m){this.value=E,this.children=m}toString(){return`TreeNode(${this.value})`}}function Jn(_){const E={};return _&&_.children.forEach(m=>E[m.value.outlet]=m),E}class no extends Rs{constructor(E,m){super(E),this.snapshot=m,Do(this,E)}toString(){return this.snapshot.toString()}}function ls(_,E){const m=function Ws(_,E){const se=new Zi([],{},{},"",{},Bt,E,null,_.root,-1,{});return new ji("",new Fi(se,[]))}(_,E),T=new nt([new Ct("",{})]),P=new nt({}),z=new nt({}),se=new nt({}),ue=new nt(""),Ze=new qs(T,P,se,ue,z,Bt,E,m.root);return Ze.snapshot=m.root,new no(new Fi(Ze,[]),m)}class qs{constructor(E,m,T,P,z,se,ue,Ze){this.url=E,this.params=m,this.queryParams=T,this.fragment=P,this.data=z,this.outlet=se,this.component=ue,this.title=this.data?.pipe((0,Xe.U)(At=>At[zn]))??me(void 0),this._futureSnapshot=Ze}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Xe.U)(E=>Er(E)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Xe.U)(E=>Er(E)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Io(_,E="emptyOnly"){const m=_.pathFromRoot;let T=0;if("always"!==E)for(T=m.length-1;T>=1;){const P=m[T],z=m[T-1];if(P.routeConfig&&""===P.routeConfig.path)T--;else{if(z.component)break;T--}}return function Ps(_){return _.reduce((E,m)=>({params:{...E.params,...m.params},data:{...E.data,...m.data},resolve:{...m.data,...E.resolve,...m.routeConfig?.data,...m._resolvedData}}),{params:{},data:{},resolve:{}})}(m.slice(T))}class Zi{constructor(E,m,T,P,z,se,ue,Ze,At,In,Lt,Vr){this.url=E,this.params=m,this.queryParams=T,this.fragment=P,this.data=z,this.outlet=se,this.component=ue,this.title=this.data?.[zn],this.routeConfig=Ze,this._urlSegment=At,this._lastPathIndex=In,this._correctedLastPathIndex=Vr??In,this._resolve=Lt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Er(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Er(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(T=>T.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ji extends Rs{constructor(E,m){super(m),this.url=E,Do(this,m)}toString(){return Yi(this._root)}}function Do(_,E){E.value._routerState=_,E.children.forEach(m=>Do(_,m))}function Yi(_){const E=_.children.length>0?` { ${_.children.map(Yi).join(", ")} } `:"";return`${_.value}${E}`}function Qr(_){if(_.snapshot){const E=_.snapshot,m=_._futureSnapshot;_.snapshot=m,pr(E.queryParams,m.queryParams)||_.queryParams.next(m.queryParams),E.fragment!==m.fragment&&_.fragment.next(m.fragment),pr(E.params,m.params)||_.params.next(m.params),function Ui(_,E){if(_.length!==E.length)return!1;for(let m=0;m<_.length;++m)if(!pr(_[m],E[m]))return!1;return!0}(E.url,m.url)||_.url.next(m.url),pr(E.data,m.data)||_.data.next(m.data)}else _.snapshot=_._futureSnapshot,_.data.next(_._futureSnapshot.data)}function ro(_,E){const m=pr(_.params,E.params)&&function En(_,E){return le(_,E)&&_.every((m,T)=>pr(m.parameters,E[T].parameters))}(_.url,E.url);return m&&!(!_.parent!=!E.parent)&&(!_.parent||ro(_.parent,E.parent))}function Es(_,E,m){if(m&&_.shouldReuseRoute(E.value,m.value.snapshot)){const T=m.value;T._futureSnapshot=E.value;const P=function ws(_,E,m){return E.children.map(T=>{for(const P of m.children)if(_.shouldReuseRoute(T.value,P.value.snapshot))return Es(_,T,P);return Es(_,T)})}(_,E,m);return new Fi(T,P)}{if(_.shouldAttach(E.value)){const z=_.retrieve(E.value);if(null!==z){const se=z.route;return se.value._futureSnapshot=E.value,se.children=E.children.map(ue=>Es(_,ue)),se}}const T=function Ro(_){return new qs(new nt(_.url),new nt(_.params),new nt(_.queryParams),new nt(_.fragment),new nt(_.data),_.outlet,_.component,_)}(E.value),P=E.children.map(z=>Es(_,z));return new Fi(T,P)}}const Ai="ngNavigationCancelingError";function Hi(_,E){const{redirectTo:m,navigationBehaviorOptions:T}=Pi(E)?{redirectTo:E,navigationBehaviorOptions:void 0}:E,P=Ks(!1,0,E);return P.url=m,P.navigationBehaviorOptions=T,P}function Ks(_,E,m){const T=new Error("NavigationCancelingError: "+(_||""));return T[Ai]=!0,T.cancellationCode=E,m&&(T.url=m),T}function Fr(_){return Os(_)&&Pi(_.url)}function Os(_){return _&&_[Ai]}class is{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new wn,this.attachRef=null}}let wn=(()=>{class _{constructor(){this.contexts=new Map}onChildOutletCreated(m,T){const P=this.getOrCreateContext(m);P.outlet=T,this.contexts.set(m,P)}onChildOutletDestroyed(m){const T=this.getContext(m);T&&(T.outlet=null,T.attachRef=null)}onOutletDeactivated(){const m=this.contexts;return this.contexts=new Map,m}onOutletReAttached(m){this.contexts=m}getOrCreateContext(m){let T=this.getContext(m);return T||(T=new is,this.contexts.set(m,T)),T}getContext(m){return this.contexts.get(m)||null}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const ks=!1;let Zs=(()=>{class _{constructor(m,T,P,z,se){this.parentContexts=m,this.location=T,this.changeDetector=z,this.environmentInjector=se,this.activated=null,this._activatedRoute=null,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.name=P||Bt,m.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const m=this.parentContexts.getContext(this.name);m&&m.route&&(m.attachRef?this.attach(m.attachRef,m.route):this.activateWith(m.route,m.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.vHH(4012,ks);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.vHH(4012,ks);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.vHH(4012,ks);this.location.detach();const m=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(m.instance),m}attach(m,T){this.activated=m,this._activatedRoute=T,this.location.insert(m.hostView),this.attachEvents.emit(m.instance)}deactivate(){if(this.activated){const m=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(m)}}activateWith(m,T){if(this.isActivated)throw new y.vHH(4013,ks);this._activatedRoute=m;const P=this.location,se=m._futureSnapshot.component,ue=this.parentContexts.getOrCreateContext(this.name).children,Ze=new cs(m,ue,P.injector);if(T&&function pi(_){return!!_.resolveComponentFactory}(T)){const At=T.resolveComponentFactory(se);this.activated=P.createComponent(At,P.length,Ze)}else this.activated=P.createComponent(se,{index:P.length,injector:Ze,environmentInjector:T??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return _.\u0275fac=function(m){return new(m||_)(y.Y36(wn),y.Y36(y.s_b),y.$8M("name"),y.Y36(y.sBO),y.Y36(y.lqb))},_.\u0275dir=y.lG2({type:_,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),_})();class cs{constructor(E,m,T){this.route=E,this.childContexts=m,this.parent=T}get(E,m){return E===qs?this.route:E===wn?this.childContexts:this.parent.get(E,m)}}let io=(()=>{class _{}return _.\u0275fac=function(m){return new(m||_)},_.\u0275cmp=y.Xpm({type:_,selectors:[["ng-component"]],standalone:!0,features:[y.jDz],decls:1,vars:0,template:function(m,T){1&m&&y._UZ(0,"router-outlet")},dependencies:[Zs],encapsulation:2}),_})();function Lr(_,E){return _.providers&&!_._injector&&(_._injector=(0,y.MMx)(_.providers,E,`Route: ${_.path}`)),_._injector??E}function Ft(_){const E=_.children&&_.children.map(Ft),m=E?{..._,children:E}:{..._};return!m.component&&!m.loadComponent&&(E||m.loadChildren)&&m.outlet&&m.outlet!==Bt&&(m.component=io),m}function Mi(_){return _.outlet||Bt}function oo(_,E){const m=_.filter(T=>Mi(T)===E);return m.push(..._.filter(T=>Mi(T)!==E)),m}function ao(_){if(!_)return null;if(_.routeConfig?._injector)return _.routeConfig._injector;for(let E=_.parent;E;E=E.parent){const m=E.routeConfig;if(m?._loadedInjector)return m._loadedInjector;if(m?._injector)return m._injector}return null}class ea{constructor(E,m,T,P){this.routeReuseStrategy=E,this.futureState=m,this.currState=T,this.forwardEvent=P}activate(E){const m=this.futureState._root,T=this.currState?this.currState._root:null;this.deactivateChildRoutes(m,T,E),Qr(this.futureState.root),this.activateChildRoutes(m,T,E)}deactivateChildRoutes(E,m,T){const P=Jn(m);E.children.forEach(z=>{const se=z.value.outlet;this.deactivateRoutes(z,P[se],T),delete P[se]}),un(P,(z,se)=>{this.deactivateRouteAndItsChildren(z,T)})}deactivateRoutes(E,m,T){const P=E.value,z=m?m.value:null;if(P===z)if(P.component){const se=T.getContext(P.outlet);se&&this.deactivateChildRoutes(E,m,se.children)}else this.deactivateChildRoutes(E,m,T);else z&&this.deactivateRouteAndItsChildren(m,T)}deactivateRouteAndItsChildren(E,m){E.value.component&&this.routeReuseStrategy.shouldDetach(E.value.snapshot)?this.detachAndStoreRouteSubtree(E,m):this.deactivateRouteAndOutlet(E,m)}detachAndStoreRouteSubtree(E,m){const T=m.getContext(E.value.outlet),P=T&&E.value.component?T.children:m,z=Jn(E);for(const se of Object.keys(z))this.deactivateRouteAndItsChildren(z[se],P);if(T&&T.outlet){const se=T.outlet.detach(),ue=T.children.onOutletDeactivated();this.routeReuseStrategy.store(E.value.snapshot,{componentRef:se,route:E,contexts:ue})}}deactivateRouteAndOutlet(E,m){const T=m.getContext(E.value.outlet),P=T&&E.value.component?T.children:m,z=Jn(E);for(const se of Object.keys(z))this.deactivateRouteAndItsChildren(z[se],P);T&&T.outlet&&(T.outlet.deactivate(),T.children.onOutletDeactivated(),T.attachRef=null,T.resolver=null,T.route=null)}activateChildRoutes(E,m,T){const P=Jn(m);E.children.forEach(z=>{this.activateRoutes(z,P[z.value.outlet],T),this.forwardEvent(new Da(z.value.snapshot))}),E.children.length&&this.forwardEvent(new zo(E.value.snapshot))}activateRoutes(E,m,T){const P=E.value,z=m?m.value:null;if(Qr(P),P===z)if(P.component){const se=T.getOrCreateContext(P.outlet);this.activateChildRoutes(E,m,se.children)}else this.activateChildRoutes(E,m,T);else if(P.component){const se=T.getOrCreateContext(P.outlet);if(this.routeReuseStrategy.shouldAttach(P.snapshot)){const ue=this.routeReuseStrategy.retrieve(P.snapshot);this.routeReuseStrategy.store(P.snapshot,null),se.children.onOutletReAttached(ue.contexts),se.attachRef=ue.componentRef,se.route=ue.route.value,se.outlet&&se.outlet.attach(ue.componentRef,ue.route.value),Qr(ue.route.value),this.activateChildRoutes(E,null,se.children)}else{const ue=ao(P.snapshot),Ze=ue?.get(y._Vd)??null;se.attachRef=null,se.route=P,se.resolver=Ze,se.injector=ue,se.outlet&&se.outlet.activateWith(P,se.injector),this.activateChildRoutes(E,null,se.children)}}else this.activateChildRoutes(E,null,T)}}class Is{constructor(E){this.path=E,this.route=this.path[this.path.length-1]}}class ta{constructor(E,m){this.component=E,this.route=m}}function hs(_,E,m){const T=_._root;return uo(T,E?E._root:null,m,[T.value])}function mn(_,E){const m=Symbol(),T=E.get(_,m);return T===m?"function"!=typeof _||(0,y.Z0I)(_)?E.get(_):_:T}function uo(_,E,m,T,P={canDeactivateChecks:[],canActivateChecks:[]}){const z=Jn(E);return _.children.forEach(se=>{(function lo(_,E,m,T,P={canDeactivateChecks:[],canActivateChecks:[]}){const z=_.value,se=E?E.value:null,ue=m?m.getContext(_.value.outlet):null;if(se&&z.routeConfig===se.routeConfig){const Ze=function F(_,E,m){if("function"==typeof m)return m(_,E);switch(m){case"pathParamsChange":return!le(_.url,E.url);case"pathParamsOrQueryParamsChange":return!le(_.url,E.url)||!pr(_.queryParams,E.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ro(_,E)||!pr(_.queryParams,E.queryParams);default:return!ro(_,E)}}(se,z,z.routeConfig.runGuardsAndResolvers);Ze?P.canActivateChecks.push(new Is(T)):(z.data=se.data,z._resolvedData=se._resolvedData),uo(_,E,z.component?ue?ue.children:null:m,T,P),Ze&&ue&&ue.outlet&&ue.outlet.isActivated&&P.canDeactivateChecks.push(new ta(ue.outlet.component,se))}else se&&k(E,ue,P),P.canActivateChecks.push(new Is(T)),uo(_,null,z.component?ue?ue.children:null:m,T,P)})(se,z[se.value.outlet],m,T.concat([se.value]),P),delete z[se.value.outlet]}),un(z,(se,ue)=>k(se,m.getContext(ue),P)),P}function k(_,E,m){const T=Jn(_),P=_.value;un(T,(z,se)=>{k(z,P.component?E?E.children.getContext(se):null:E,m)}),m.canDeactivateChecks.push(new ta(P.component&&E&&E.outlet&&E.outlet.isActivated?E.outlet.component:null,P))}function M(_){return"function"==typeof _}function wi(_){return _ instanceof Ve||"EmptyError"===_?.name}const Qs=Symbol("INITIAL_VALUE");function Si(){return Mt(_=>Nt(_.map(E=>E.pipe((0,an.q)(1),function tr(..._){const E=(0,De.yG)(_);return(0,be.e)((m,T)=>{(E?Be(_,m,E):Be(_,m)).subscribe(T)})}(Qs)))).pipe((0,Xe.U)(E=>{for(const m of E)if(!0!==m){if(m===Qs)return Qs;if(!1===m||m instanceof It)return m}return!0}),Wt(E=>E!==Qs),(0,an.q)(1)))}function N(_){return(0,Dt.z)((0,An.b)(E=>{if(Pi(E))throw Hi(0,E)}),(0,Xe.U)(E=>!0===E))}const de={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ye(_,E,m,T,P){const z=ot(_,E,m);return z.matched?function q(_,E,m,T){const P=E.canMatch;return P&&0!==P.length?me(P.map(se=>{const ue=mn(se,_);return ir(function Ls(_){return _&&M(_.canMatch)}(ue)?ue.canMatch(E,m):_.runInContext(()=>ue(E,m)))})).pipe(Si(),N()):me(!0)}(T=Lr(E,T),E,m).pipe((0,Xe.U)(se=>!0===se?z:{...de})):me(z)}function ot(_,E,m){if(""===E.path)return"full"===E.pathMatch&&(_.hasChildren()||m.length>0)?{...de}:{matched:!0,consumedSegments:[],remainingSegments:m,parameters:{},positionalParamSegments:{}};const P=(E.matcher||dr)(m,_,E);if(!P)return{...de};const z={};un(P.posParams,(ue,Ze)=>{z[Ze]=ue.path});const se=P.consumed.length>0?{...z,...P.consumed[P.consumed.length-1].parameters}:z;return{matched:!0,consumedSegments:P.consumed,remainingSegments:m.slice(P.consumed.length),parameters:se,positionalParamSegments:P.posParams??{}}}function zt(_,E,m,T,P="corrected"){if(m.length>0&&function Cr(_,E,m){return m.some(T=>Zn(_,E,T)&&Mi(T)!==Bt)}(_,m,T)){const se=new st(E,function or(_,E,m,T){const P={};P[Bt]=T,T._sourceSegment=_,T._segmentIndexShift=E.length;for(const z of m)if(""===z.path&&Mi(z)!==Bt){const se=new st([],{});se._sourceSegment=_,se._segmentIndexShift=E.length,P[Mi(z)]=se}return P}(_,E,T,new st(m,_.children)));return se._sourceSegment=_,se._segmentIndexShift=E.length,{segmentGroup:se,slicedSegments:[]}}if(0===m.length&&function ar(_,E,m){return m.some(T=>Zn(_,E,T))}(_,m,T)){const se=new st(_.segments,function gr(_,E,m,T,P,z){const se={};for(const ue of T)if(Zn(_,m,ue)&&!P[Mi(ue)]){const Ze=new st([],{});Ze._sourceSegment=_,Ze._segmentIndexShift="legacy"===z?_.segments.length:E.length,se[Mi(ue)]=Ze}return{...P,...se}}(_,E,m,T,_.children,P));return se._sourceSegment=_,se._segmentIndexShift=E.length,{segmentGroup:se,slicedSegments:m}}const z=new st(_.segments,_.children);return z._sourceSegment=_,z._segmentIndexShift=E.length,{segmentGroup:z,slicedSegments:m}}function Zn(_,E,m){return(!(_.hasChildren()||E.length>0)||"full"!==m.pathMatch)&&""===m.path}function mr(_,E,m,T){return!!(Mi(_)===T||T!==Bt&&Zn(E,m,_))&&("**"===_.path||ot(E,_,m).matched)}function Fn(_,E,m){return 0===E.length&&!_.children[m]}const ho=!1;class fs{constructor(E){this.segmentGroup=E||null}}class Mr{constructor(E){this.urlTree=E}}function xi(_){return Se(new fs(_))}function Xi(_){return Se(new Mr(_))}class g{constructor(E,m,T,P,z){this.injector=E,this.configLoader=m,this.urlSerializer=T,this.urlTree=P,this.config=z,this.allowRedirects=!0}apply(){const E=zt(this.urlTree.root,[],[],this.config).segmentGroup,m=new st(E.segments,E.children);return this.expandSegmentGroup(this.injector,this.config,m,Bt).pipe((0,Xe.U)(z=>this.createUrlTree(Or(z),this.urlTree.queryParams,this.urlTree.fragment))).pipe(fn(z=>{if(z instanceof Mr)return this.allowRedirects=!1,this.match(z.urlTree);throw z instanceof fs?this.noMatchError(z):z}))}match(E){return this.expandSegmentGroup(this.injector,this.config,E.root,Bt).pipe((0,Xe.U)(P=>this.createUrlTree(Or(P),E.queryParams,E.fragment))).pipe(fn(P=>{throw P instanceof fs?this.noMatchError(P):P}))}noMatchError(E){return new y.vHH(4002,ho)}createUrlTree(E,m,T){const P=_r(E);return new It(P,m,T)}expandSegmentGroup(E,m,T,P){return 0===T.segments.length&&T.hasChildren()?this.expandChildren(E,m,T).pipe((0,Xe.U)(z=>new st([],z))):this.expandSegment(E,T,m,T.segments,P,!0)}expandChildren(E,m,T){const P=[];for(const z of Object.keys(T.children))"primary"===z?P.unshift(z):P.push(z);return(0,G.D)(P).pipe(pn(z=>{const se=T.children[z],ue=oo(m,z);return this.expandSegmentGroup(E,ue,se,z).pipe((0,Xe.U)(Ze=>({segment:Ze,outlet:z})))}),nr((z,se)=>(z[se.outlet]=se.segment,z),{}),fr())}expandSegment(E,m,T,P,z,se){return(0,G.D)(T).pipe(pn(ue=>this.expandSegmentAgainstRoute(E,m,T,ue,P,z,se).pipe(fn(At=>{if(At instanceof fs)return me(null);throw At}))),Dn(ue=>!!ue),fn((ue,Ze)=>{if(wi(ue))return Fn(m,P,z)?me(new st([],{})):xi(m);throw ue}))}expandSegmentAgainstRoute(E,m,T,P,z,se,ue){return mr(P,m,z,se)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(E,m,P,z,se):ue&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(E,m,T,P,z,se):xi(m):xi(m)}expandSegmentAgainstRouteUsingRedirect(E,m,T,P,z,se){return"**"===P.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(E,T,P,se):this.expandRegularSegmentAgainstRouteUsingRedirect(E,m,T,P,z,se)}expandWildCardWithParamsAgainstRouteUsingRedirect(E,m,T,P){const z=this.applyRedirectCommands([],T.redirectTo,{});return T.redirectTo.startsWith("/")?Xi(z):this.lineralizeSegments(T,z).pipe((0,hn.z)(se=>{const ue=new st(se,{});return this.expandSegment(E,ue,m,se,P,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(E,m,T,P,z,se){const{matched:ue,consumedSegments:Ze,remainingSegments:At,positionalParamSegments:In}=ot(m,P,z);if(!ue)return xi(m);const Lt=this.applyRedirectCommands(Ze,P.redirectTo,In);return P.redirectTo.startsWith("/")?Xi(Lt):this.lineralizeSegments(P,Lt).pipe((0,hn.z)(Vr=>this.expandSegment(E,m,T,Vr.concat(At),se,!1)))}matchSegmentAgainstRoute(E,m,T,P,z){return"**"===T.path?(E=Lr(T,E),T.loadChildren?(T._loadedRoutes?me({routes:T._loadedRoutes,injector:T._loadedInjector}):this.configLoader.loadChildren(E,T)).pipe((0,Xe.U)(ue=>(T._loadedRoutes=ue.routes,T._loadedInjector=ue.injector,new st(P,{})))):me(new st(P,{}))):Ye(m,T,P,E).pipe(Mt(({matched:se,consumedSegments:ue,remainingSegments:Ze})=>se?this.getChildConfig(E=T._injector??E,T,P).pipe((0,hn.z)(In=>{const Lt=In.injector??E,Vr=In.routes,{segmentGroup:Ss,slicedSegments:go}=zt(m,ue,Ze,Vr),Js=new st(Ss.segments,Ss.children);if(0===go.length&&Js.hasChildren())return this.expandChildren(Lt,Vr,Js).pipe((0,Xe.U)(wr=>new st(ue,wr)));if(0===Vr.length&&0===go.length)return me(new st(ue,{}));const ns=Mi(T)===z;return this.expandSegment(Lt,Js,Vr,go,ns?Bt:z,!0).pipe((0,Xe.U)(Yo=>new st(ue.concat(Yo.segments),Yo.children)))})):xi(m)))}getChildConfig(E,m,T){return m.children?me({routes:m.children,injector:E}):m.loadChildren?void 0!==m._loadedRoutes?me({routes:m._loadedRoutes,injector:m._loadedInjector}):function $(_,E,m,T){const P=E.canLoad;return void 0===P||0===P.length?me(!0):me(P.map(se=>{const ue=mn(se,_);return ir(function Ge(_){return _&&M(_.canLoad)}(ue)?ue.canLoad(E,m):_.runInContext(()=>ue(E,m)))})).pipe(Si(),N())}(E,m,T).pipe((0,hn.z)(P=>P?this.configLoader.loadChildren(E,m).pipe((0,An.b)(z=>{m._loadedRoutes=z.routes,m._loadedInjector=z.injector})):function qo(_){return Se(Ks(ho,3))}())):me({routes:[],injector:E})}lineralizeSegments(E,m){let T=[],P=m.root;for(;;){if(T=T.concat(P.segments),0===P.numberOfChildren)return me(T);if(P.numberOfChildren>1||!P.children[Bt])return Se(new y.vHH(4e3,ho));P=P.children[Bt]}}applyRedirectCommands(E,m,T){return this.applyRedirectCreateUrlTree(m,this.urlSerializer.parse(m),E,T)}applyRedirectCreateUrlTree(E,m,T,P){const z=this.createSegmentGroup(E,m.root,T,P);return new It(z,this.createQueryParams(m.queryParams,this.urlTree.queryParams),m.fragment)}createQueryParams(E,m){const T={};return un(E,(P,z)=>{if("string"==typeof P&&P.startsWith(":")){const ue=P.substring(1);T[z]=m[ue]}else T[z]=P}),T}createSegmentGroup(E,m,T,P){const z=this.createSegments(E,m.segments,T,P);let se={};return un(m.children,(ue,Ze)=>{se[Ze]=this.createSegmentGroup(E,ue,T,P)}),new st(z,se)}createSegments(E,m,T,P){return m.map(z=>z.path.startsWith(":")?this.findPosParam(E,z,P):this.findOrReturn(z,T))}findPosParam(E,m,T){const P=T[m.path.substring(1)];if(!P)throw new y.vHH(4001,ho);return P}findOrReturn(E,m){let T=0;for(const P of m){if(P.path===E.path)return m.splice(T),P;T++}return E}}class B{}class ee{constructor(E,m,T,P,z,se,ue,Ze){this.injector=E,this.rootComponentType=m,this.config=T,this.urlTree=P,this.url=z,this.paramsInheritanceStrategy=se,this.relativeLinkResolution=ue,this.urlSerializer=Ze}recognize(){const E=zt(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,E,Bt).pipe((0,Xe.U)(m=>{if(null===m)return null;const T=new Zi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Bt,this.rootComponentType,null,this.urlTree.root,-1,{}),P=new Fi(T,m),z=new ji(this.url,P);return this.inheritParamsAndData(z._root),z}))}inheritParamsAndData(E){const m=E.value,T=Io(m,this.paramsInheritanceStrategy);m.params=Object.freeze(T.params),m.data=Object.freeze(T.data),E.children.forEach(P=>this.inheritParamsAndData(P))}processSegmentGroup(E,m,T,P){return 0===T.segments.length&&T.hasChildren()?this.processChildren(E,m,T):this.processSegment(E,m,T,T.segments,P)}processChildren(E,m,T){return(0,G.D)(Object.keys(T.children)).pipe(pn(P=>{const z=T.children[P],se=oo(m,P);return this.processSegmentGroup(E,se,z,P)}),nr((P,z)=>P&&z?(P.push(...z),P):null),function ei(_,E=!1){return(0,be.e)((m,T)=>{let P=0;m.subscribe((0,Ue.x)(T,z=>{const se=_(z,P++);(se||E)&&T.next(z),!se&&T.complete()}))})}(P=>null!==P),$n(null),fr(),(0,Xe.U)(P=>{if(null===P)return null;const z=Qt(P);return function te(_){_.sort((E,m)=>E.value.outlet===Bt?-1:m.value.outlet===Bt?1:E.value.outlet.localeCompare(m.value.outlet))}(z),z}))}processSegment(E,m,T,P,z){return(0,G.D)(m).pipe(pn(se=>this.processSegmentAgainstRoute(se._injector??E,se,T,P,z)),Dn(se=>!!se),fn(se=>{if(wi(se))return Fn(T,P,z)?me([]):me(null);throw se}))}processSegmentAgainstRoute(E,m,T,P,z){if(m.redirectTo||!mr(m,T,P,z))return me(null);let se;if("**"===m.path){const ue=P.length>0?Vt(P).parameters:{},Ze=Tn(T)+P.length;se=me({snapshot:new Zi(P,ue,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Tr(m),Mi(m),m.component??m._loadedComponent??null,m,_n(T),Ze,xr(m),Ze),consumedSegments:[],remainingSegments:[]})}else se=Ye(T,m,P,E).pipe((0,Xe.U)(({matched:ue,consumedSegments:Ze,remainingSegments:At,parameters:In})=>{if(!ue)return null;const Lt=Tn(T)+Ze.length;return{snapshot:new Zi(Ze,In,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Tr(m),Mi(m),m.component??m._loadedComponent??null,m,_n(T),Lt,xr(m),Lt),consumedSegments:Ze,remainingSegments:At}}));return se.pipe(Mt(ue=>{if(null===ue)return me(null);const{snapshot:Ze,consumedSegments:At,remainingSegments:In}=ue;E=m._injector??E;const Lt=m._loadedInjector??E,Vr=function ge(_){return _.children?_.children:_.loadChildren?_._loadedRoutes:[]}(m),{segmentGroup:Ss,slicedSegments:go}=zt(T,At,In,Vr.filter(ns=>void 0===ns.redirectTo),this.relativeLinkResolution);if(0===go.length&&Ss.hasChildren())return this.processChildren(Lt,Vr,Ss).pipe((0,Xe.U)(ns=>null===ns?null:[new Fi(Ze,ns)]));if(0===Vr.length&&0===go.length)return me([new Fi(Ze,[])]);const Js=Mi(m)===z;return this.processSegment(Lt,Vr,Ss,go,Js?Bt:z).pipe((0,Xe.U)(ns=>null===ns?null:[new Fi(Ze,ns)]))}))}}function bt(_){const E=_.value.routeConfig;return E&&""===E.path&&void 0===E.redirectTo}function Qt(_){const E=[],m=new Set;for(const T of _){if(!bt(T)){E.push(T);continue}const P=E.find(z=>T.value.routeConfig===z.value.routeConfig);void 0!==P?(P.children.push(...T.children),m.add(P)):E.push(T)}for(const T of m){const P=Qt(T.children);E.push(new Fi(T.value,P))}return E.filter(T=>!m.has(T))}function _n(_){let E=_;for(;E._sourceSegment;)E=E._sourceSegment;return E}function Tn(_){let E=_,m=E._segmentIndexShift??0;for(;E._sourceSegment;)E=E._sourceSegment,m+=E._segmentIndexShift??0;return m-1}function Tr(_){return _.data||{}}function xr(_){return _.resolve||{}}function Gi(_){return"string"==typeof _.title||null===_.title}function er(_){return Mt(E=>{const m=_(E);return m?(0,G.D)(m).pipe((0,Xe.U)(()=>E)):me(E)})}let cn=(()=>{class _{buildTitle(m){let T,P=m.root;for(;void 0!==P;)T=this.getResolvedTitleForRoute(P)??T,P=P.children.find(z=>z.outlet===Bt);return T}getResolvedTitleForRoute(m){return m.data[zn]}}return _.\u0275fac=function(m){return new(m||_)},_.\u0275prov=y.Yz7({token:_,factory:function(){return(0,y.f3M)(bo)},providedIn:"root"}),_})(),bo=(()=>{class _ extends cn{constructor(m){super(),this.title=m}updateTitle(m){const T=this.buildTitle(m);void 0!==T&&this.title.setTitle(T)}}return _.\u0275fac=function(m){return new(m||_)(y.LFG(rr.Dx))},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();class fo{}class xt extends class yr{shouldDetach(E){return!1}store(E,m){}shouldAttach(E){return!1}retrieve(E){return null}shouldReuseRoute(E,m){return E.routeConfig===m.routeConfig}}{}const sn=new y.OlP("",{providedIn:"root",factory:()=>({})}),Yn=new y.OlP("ROUTES");let Nr=(()=>{class _{constructor(m,T){this.injector=m,this.compiler=T,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(m){if(this.componentLoaders.get(m))return this.componentLoaders.get(m);if(m._loadedComponent)return me(m._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(m);const T=ir(m.loadComponent()).pipe((0,An.b)(z=>{this.onLoadEndListener&&this.onLoadEndListener(m),m._loadedComponent=z}),Sr(()=>{this.componentLoaders.delete(m)})),P=new Ne(T,()=>new Re.x).pipe(He());return this.componentLoaders.set(m,P),P}loadChildren(m,T){if(this.childrenLoaders.get(T))return this.childrenLoaders.get(T);if(T._loadedRoutes)return me({routes:T._loadedRoutes,injector:T._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(T);const z=this.loadModuleFactoryOrRoutes(T.loadChildren).pipe((0,Xe.U)(ue=>{this.onLoadEndListener&&this.onLoadEndListener(T);let Ze,At,In=!1;Array.isArray(ue)?At=ue:(Ze=ue.create(m).injector,At=Tt(Ze.get(Yn,[],y.XFs.Self|y.XFs.Optional)));return{routes:At.map(Ft),injector:Ze}}),Sr(()=>{this.childrenLoaders.delete(T)})),se=new Ne(z,()=>new Re.x).pipe(He());return this.childrenLoaders.set(T,se),se}loadModuleFactoryOrRoutes(m){return ir(m()).pipe((0,hn.z)(T=>T instanceof y.YKP||Array.isArray(T)?me(T):(0,G.D)(this.compiler.compileModuleAsync(T))))}}return _.\u0275fac=function(m){return new(m||_)(y.LFG(y.zs3),y.LFG(y.Sil))},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();class po{}class mi{shouldProcessUrl(E){return!0}extract(E){return E}merge(E,m){return E}}function Zr(_){throw _}function es(_,E,m){return E.parse("/")}const Ka={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function vi(){const _=(0,y.f3M)(ve),E=(0,y.f3M)(wn),m=(0,y.f3M)(it.Ye),T=(0,y.f3M)(y.zs3),P=(0,y.f3M)(y.Sil),z=(0,y.f3M)(Yn,{optional:!0})??[],se=(0,y.f3M)(sn,{optional:!0})??{},ue=(0,y.f3M)(bo),Ze=(0,y.f3M)(cn,{optional:!0}),At=(0,y.f3M)(po,{optional:!0}),In=(0,y.f3M)(fo,{optional:!0}),Lt=new si(null,_,E,m,T,P,Tt(z));return At&&(Lt.urlHandlingStrategy=At),In&&(Lt.routeReuseStrategy=In),Lt.titleStrategy=Ze??ue,function Xs(_,E){_.errorHandler&&(E.errorHandler=_.errorHandler),_.malformedUriErrorHandler&&(E.malformedUriErrorHandler=_.malformedUriErrorHandler),_.onSameUrlNavigation&&(E.onSameUrlNavigation=_.onSameUrlNavigation),_.paramsInheritanceStrategy&&(E.paramsInheritanceStrategy=_.paramsInheritanceStrategy),_.relativeLinkResolution&&(E.relativeLinkResolution=_.relativeLinkResolution),_.urlUpdateStrategy&&(E.urlUpdateStrategy=_.urlUpdateStrategy),_.canceledNavigationResolution&&(E.canceledNavigationResolution=_.canceledNavigationResolution)}(se,Lt),Lt}let si=(()=>{class _{constructor(m,T,P,z,se,ue,Ze){this.rootComponentType=m,this.urlSerializer=T,this.rootContexts=P,this.location=z,this.config=Ze,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Re.x,this.errorHandler=Zr,this.malformedUriErrorHandler=es,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>me(void 0),this.urlHandlingStrategy=new mi,this.routeReuseStrategy=new xt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=se.get(Nr),this.configLoader.onLoadEndListener=Vr=>this.triggerEvent(new xo(Vr)),this.configLoader.onLoadStartListener=Vr=>this.triggerEvent(new us(Vr)),this.ngModule=se.get(y.h0i),this.console=se.get(y.c2e);const Lt=se.get(y.R0b);this.isNgZoneEnabled=Lt instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(Ze),this.currentUrlTree=function Yr(){return new It(new st([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ls(this.currentUrlTree,this.rootComponentType),this.transitions=new nt({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(m){const T=this.events;return m.pipe(Wt(P=>0!==P.id),(0,Xe.U)(P=>({...P,extractedUrl:this.urlHandlingStrategy.extract(P.rawUrl)})),Mt(P=>{let z=!1,se=!1;return me(P).pipe((0,An.b)(ue=>{this.currentNavigation={id:ue.id,initialUrl:ue.rawUrl,extractedUrl:ue.extractedUrl,trigger:ue.source,extras:ue.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Mt(ue=>{const Ze=this.browserUrlTree.toString(),At=!this.navigated||ue.extractedUrl.toString()!==Ze||Ze!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||At)&&this.urlHandlingStrategy.shouldProcessUrl(ue.rawUrl))return Co(ue.source)&&(this.browserUrlTree=ue.extractedUrl),me(ue).pipe(Mt(Lt=>{const Vr=this.transitions.getValue();return T.next(new Ti(Lt.id,this.serializeUrl(Lt.extractedUrl),Lt.source,Lt.restoredState)),Vr!==this.transitions.getValue()?rt.E:Promise.resolve(Lt)}),function w(_,E,m,T){return Mt(P=>function L(_,E,m,T,P){return new g(_,E,m,T,P).apply()}(_,E,m,P.extractedUrl,T).pipe((0,Xe.U)(z=>({...P,urlAfterRedirects:z}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,An.b)(Lt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Lt.urlAfterRedirects},P.urlAfterRedirects=Lt.urlAfterRedirects}),function ci(_,E,m,T,P,z){return(0,hn.z)(se=>function fe(_,E,m,T,P,z,se="emptyOnly",ue="legacy"){return new ee(_,E,m,T,P,se,ue,z).recognize().pipe(Mt(Ze=>null===Ze?function K(_){return new tt.y(E=>E.error(_))}(new B):me(Ze)))}(_,E,m,se.urlAfterRedirects,T.serialize(se.urlAfterRedirects),T,P,z).pipe((0,Xe.U)(ue=>({...se,targetSnapshot:ue}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,An.b)(Lt=>{if(P.targetSnapshot=Lt.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Lt.extras.skipLocationChange){const Ss=this.urlHandlingStrategy.merge(Lt.urlAfterRedirects,Lt.rawUrl);this.setBrowserUrl(Ss,Lt)}this.browserUrlTree=Lt.urlAfterRedirects}const Vr=new Jo(Lt.id,this.serializeUrl(Lt.extractedUrl),this.serializeUrl(Lt.urlAfterRedirects),Lt.targetSnapshot);T.next(Vr)}));if(At&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Vr,extractedUrl:Ss,source:go,restoredState:Js,extras:ns}=ue,Wi=new Ti(Vr,this.serializeUrl(Ss),go,Js);T.next(Wi);const Yo=ls(Ss,this.rootComponentType).snapshot;return me(P={...ue,targetSnapshot:Yo,urlAfterRedirects:Ss,extras:{...ns,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=ue.rawUrl,ue.resolve(null),rt.E}),(0,An.b)(ue=>{const Ze=new Ns(ue.id,this.serializeUrl(ue.extractedUrl),this.serializeUrl(ue.urlAfterRedirects),ue.targetSnapshot);this.triggerEvent(Ze)}),(0,Xe.U)(ue=>P={...ue,guards:hs(ue.targetSnapshot,ue.currentSnapshot,this.rootContexts)}),function Vs(_,E){return(0,hn.z)(m=>{const{targetSnapshot:T,currentSnapshot:P,guards:{canActivateChecks:z,canDeactivateChecks:se}}=m;return 0===se.length&&0===z.length?me({...m,guardsResult:!0}):function co(_,E,m,T){return(0,G.D)(_).pipe((0,hn.z)(P=>function S(_,E,m,T,P){const z=E&&E.routeConfig?E.routeConfig.canDeactivate:null;return z&&0!==z.length?me(z.map(ue=>{const Ze=ao(E)??P,At=mn(ue,Ze);return ir(function Qi(_){return _&&M(_.canDeactivate)}(At)?At.canDeactivate(_,E,m,T):Ze.runInContext(()=>At(_,E,m,T))).pipe(Dn())})).pipe(Si()):me(!0)}(P.component,P.route,m,E,T)),Dn(P=>!0!==P,!0))}(se,T,P,_).pipe((0,hn.z)(ue=>ue&&function Z(_){return"boolean"==typeof _}(ue)?function ba(_,E,m,T){return(0,G.D)(E).pipe(pn(P=>Be(function ra(_,E){return null!==_&&E&&E(new ga(_)),me(!0)}(P.route.parent,T),function na(_,E){return null!==_&&E&&E(new to(_)),me(!0)}(P.route,T),function ma(_,E,m){const T=E[E.length-1],z=E.slice(0,E.length-1).reverse().map(se=>function ht(_){const E=_.routeConfig?_.routeConfig.canActivateChild:null;return E&&0!==E.length?{node:_,guards:E}:null}(se)).filter(se=>null!==se).map(se=>xe(()=>me(se.guards.map(Ze=>{const At=ao(se.node)??m,In=mn(Ze,At);return ir(function jr(_){return _&&M(_.canActivateChild)}(In)?In.canActivateChild(T,_):At.runInContext(()=>In(T,_))).pipe(Dn())})).pipe(Si())));return me(z).pipe(Si())}(_,P.path,m),function Us(_,E,m){const T=E.routeConfig?E.routeConfig.canActivate:null;if(!T||0===T.length)return me(!0);const P=T.map(z=>xe(()=>{const se=ao(E)??m,ue=mn(z,se);return ir(function jt(_){return _&&M(_.canActivate)}(ue)?ue.canActivate(E,_):se.runInContext(()=>ue(E,_))).pipe(Dn())}));return me(P).pipe(Si())}(_,P.route,m))),Dn(P=>!0!==P,!0))}(T,z,_,E):me(ue)),(0,Xe.U)(ue=>({...m,guardsResult:ue})))})}(this.ngModule.injector,ue=>this.triggerEvent(ue)),(0,An.b)(ue=>{if(P.guardsResult=ue.guardsResult,Pi(ue.guardsResult))throw Hi(0,ue.guardsResult);const Ze=new eo(ue.id,this.serializeUrl(ue.extractedUrl),this.serializeUrl(ue.urlAfterRedirects),ue.targetSnapshot,!!ue.guardsResult);this.triggerEvent(Ze)}),Wt(ue=>!!ue.guardsResult||(this.restoreHistory(ue),this.cancelNavigationTransition(ue,"",3),!1)),er(ue=>{if(ue.guards.canActivateChecks.length)return me(ue).pipe((0,An.b)(Ze=>{const At=new vs(Ze.id,this.serializeUrl(Ze.extractedUrl),this.serializeUrl(Ze.urlAfterRedirects),Ze.targetSnapshot);this.triggerEvent(At)}),Mt(Ze=>{let At=!1;return me(Ze).pipe(function as(_,E){return(0,hn.z)(m=>{const{targetSnapshot:T,guards:{canActivateChecks:P}}=m;if(!P.length)return me(m);let z=0;return(0,G.D)(P).pipe(pn(se=>function Xn(_,E,m,T){const P=_.routeConfig,z=_._resolve;return void 0!==P?.title&&!Gi(P)&&(z[zn]=P.title),function Bs(_,E,m,T){const P=function ln(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}(_);if(0===P.length)return me({});const z={};return(0,G.D)(P).pipe((0,hn.z)(se=>function Kr(_,E,m,T){const P=ao(E)??T,z=mn(_,P);return ir(z.resolve?z.resolve(E,m):P.runInContext(()=>z(E,m)))}(_[se],E,m,T).pipe(Dn(),(0,An.b)(ue=>{z[se]=ue}))),Rr(1),function vr(_){return(0,Xe.U)(()=>_)}(z),fn(se=>wi(se)?rt.E:Se(se)))}(z,_,E,T).pipe((0,Xe.U)(se=>(_._resolvedData=se,_.data=Io(_,m).resolve,P&&Gi(P)&&(_.data[zn]=P.title),null)))}(se.route,T,_,E)),(0,An.b)(()=>z++),Rr(1),(0,hn.z)(se=>z===P.length?me(m):rt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,An.b)({next:()=>At=!0,complete:()=>{At||(this.restoreHistory(Ze),this.cancelNavigationTransition(Ze,"",2))}}))}),(0,An.b)(Ze=>{const At=new Oi(Ze.id,this.serializeUrl(Ze.extractedUrl),this.serializeUrl(Ze.urlAfterRedirects),Ze.targetSnapshot);this.triggerEvent(At)}))}),er(ue=>{const Ze=At=>{const In=[];At.routeConfig?.loadComponent&&!At.routeConfig._loadedComponent&&In.push(this.configLoader.loadComponent(At.routeConfig).pipe((0,An.b)(Lt=>{At.component=Lt}),(0,Xe.U)(()=>{})));for(const Lt of At.children)In.push(...Ze(Lt));return In};return Nt(Ze(ue.targetSnapshot.root)).pipe($n(),(0,an.q)(1))}),er(()=>this.afterPreactivation()),(0,Xe.U)(ue=>{const Ze=function No(_,E,m){const T=Es(_,E._root,m?m._root:void 0);return new no(T,E)}(this.routeReuseStrategy,ue.targetSnapshot,ue.currentRouterState);return P={...ue,targetRouterState:Ze}}),(0,An.b)(ue=>{this.currentUrlTree=ue.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ue.urlAfterRedirects,ue.rawUrl),this.routerState=ue.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ue.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ue),this.browserUrlTree=ue.urlAfterRedirects)}),((_,E,m)=>(0,Xe.U)(T=>(new ea(E,T.targetRouterState,T.currentRouterState,m).activate(_),T)))(this.rootContexts,this.routeReuseStrategy,ue=>this.triggerEvent(ue)),(0,An.b)({next(){z=!0},complete(){z=!0}}),Sr(()=>{z||se||this.cancelNavigationTransition(P,"",1),this.currentNavigation?.id===P.id&&(this.currentNavigation=null)}),fn(ue=>{if(se=!0,Os(ue)){Fr(ue)||(this.navigated=!0,this.restoreHistory(P,!0));const Ze=new ys(P.id,this.serializeUrl(P.extractedUrl),ue.message,ue.cancellationCode);if(T.next(Ze),Fr(ue)){const At=this.urlHandlingStrategy.merge(ue.url,this.rawUrlTree),In={skipLocationChange:P.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Co(P.source)};this.scheduleNavigation(At,"imperative",null,In,{resolve:P.resolve,reject:P.reject,promise:P.promise})}else P.resolve(!1)}else{this.restoreHistory(P,!0);const Ze=new _i(P.id,this.serializeUrl(P.extractedUrl),ue,P.targetSnapshot??void 0);T.next(Ze);try{P.resolve(this.errorHandler(ue))}catch(At){P.reject(At)}}return rt.E}))}))}resetRootComponentType(m){this.rootComponentType=m,this.routerState.root.component=this.rootComponentType}setTransition(m){this.transitions.next({...this.transitions.value,...m})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(m=>{const T="popstate"===m.type?"popstate":"hashchange";"popstate"===T&&setTimeout(()=>{const P={replaceUrl:!0},z=m.state?.navigationId?m.state:null;if(z){const ue={...z};delete ue.navigationId,delete ue.\u0275routerPageId,0!==Object.keys(ue).length&&(P.state=ue)}const se=this.parseUrl(m.url);this.scheduleNavigation(se,T,z,P)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(m){this.events.next(m)}resetConfig(m){this.config=m.map(Ft),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(m,T={}){const{relativeTo:P,queryParams:z,fragment:se,queryParamsHandling:ue,preserveFragment:Ze}=T,At=P||this.routerState.root,In=Ze?this.currentUrlTree.fragment:se;let Lt=null;switch(ue){case"merge":Lt={...this.currentUrlTree.queryParams,...z};break;case"preserve":Lt=this.currentUrlTree.queryParams;break;default:Lt=z||null}return null!==Lt&&(Lt=this.removeEmptyProps(Lt)),Ci(At,this.currentUrlTree,m,Lt,In??null)}navigateByUrl(m,T={skipLocationChange:!1}){const P=Pi(m)?m:this.parseUrl(m),z=this.urlHandlingStrategy.merge(P,this.rawUrlTree);return this.scheduleNavigation(z,"imperative",null,T)}navigate(m,T={skipLocationChange:!1}){return function Le(_){for(let E=0;E<_.length;E++){if(null==_[E])throw new y.vHH(4008,false)}}(m),this.navigateByUrl(this.createUrlTree(m,T),T)}serializeUrl(m){return this.urlSerializer.serialize(m)}parseUrl(m){let T;try{T=this.urlSerializer.parse(m)}catch(P){T=this.malformedUriErrorHandler(P,this.urlSerializer,m)}return T}isActive(m,T){let P;if(P=!0===T?{...Ka}:!1===T?{...yi}:T,Pi(m))return Qn(this.currentUrlTree,m,P);const z=this.parseUrl(m);return Qn(this.currentUrlTree,z,P)}removeEmptyProps(m){return Object.keys(m).reduce((T,P)=>{const z=m[P];return null!=z&&(T[P]=z),T},{})}processNavigations(){this.navigations.subscribe(m=>{this.navigated=!0,this.lastSuccessfulId=m.id,this.currentPageId=m.targetPageId,this.events.next(new Gr(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),m.resolve(!0)},m=>{this.console.warn(`Unhandled Navigation Error: ${m}`)})}scheduleNavigation(m,T,P,z,se){if(this.disposed)return Promise.resolve(!1);let ue,Ze,At;se?(ue=se.resolve,Ze=se.reject,At=se.promise):At=new Promise((Vr,Ss)=>{ue=Vr,Ze=Ss});const In=++this.navigationId;let Lt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(P=this.location.getState()),Lt=P&&P.\u0275routerPageId?P.\u0275routerPageId:z.replaceUrl||z.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Lt=0,this.setTransition({id:In,targetPageId:Lt,source:T,restoredState:P,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:m,extras:z,resolve:ue,reject:Ze,promise:At,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),At.catch(Vr=>Promise.reject(Vr))}setBrowserUrl(m,T){const P=this.urlSerializer.serialize(m),z={...T.extras.state,...this.generateNgRouterState(T.id,T.targetPageId)};this.location.isCurrentPathEqualTo(P)||T.extras.replaceUrl?this.location.replaceState(P,"",z):this.location.go(P,"",z)}restoreHistory(m,T=!1){if("computed"===this.canceledNavigationResolution){const P=this.currentPageId-m.targetPageId;"popstate"!==m.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===P?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===P&&(this.resetState(m),this.browserUrlTree=m.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(P)}else"replace"===this.canceledNavigationResolution&&(T&&this.resetState(m),this.resetUrlToCurrentUrlTree())}resetState(m){this.routerState=m.currentRouterState,this.currentUrlTree=m.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,m.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(m,T,P){const z=new ys(m.id,this.serializeUrl(m.extractedUrl),T,P);this.triggerEvent(z),m.resolve(!1)}generateNgRouterState(m,T){return"computed"===this.canceledNavigationResolution?{navigationId:m,\u0275routerPageId:T}:{navigationId:m}}}return _.\u0275fac=function(m){y.$Z()},_.\u0275prov=y.Yz7({token:_,factory:function(){return vi()},providedIn:"root"}),_})();function Co(_){return"imperative"!==_}class $s{}let oa=(()=>{class _{constructor(m,T,P,z,se){this.router=m,this.injector=P,this.preloadingStrategy=z,this.loader=se}setUpPreloading(){this.subscription=this.router.events.pipe(Wt(m=>m instanceof Gr),pn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(m,T){const P=[];for(const z of T){z.providers&&!z._injector&&(z._injector=(0,y.MMx)(z.providers,m,`Route: ${z.path}`));const se=z._injector??m,ue=z._loadedInjector??se;z.loadChildren&&!z._loadedRoutes&&void 0===z.canLoad||z.loadComponent&&!z._loadedComponent?P.push(this.preloadConfig(se,z)):(z.children||z._loadedRoutes)&&P.push(this.processRoutes(ue,z.children??z._loadedRoutes))}return(0,G.D)(P).pipe((0,Ot.J)())}preloadConfig(m,T){return this.preloadingStrategy.preload(T,()=>{let P;P=T.loadChildren&&void 0===T.canLoad?this.loader.loadChildren(m,T):me(null);const z=P.pipe((0,hn.z)(se=>null===se?me(void 0):(T._loadedRoutes=se.routes,T._loadedInjector=se.injector,this.processRoutes(se.injector??m,se.routes))));if(T.loadComponent&&!T._loadedComponent){const se=this.loader.loadComponent(T);return(0,G.D)([z,se]).pipe((0,Ot.J)())}return z})}}return _.\u0275fac=function(m){return new(m||_)(y.LFG(si),y.LFG(y.Sil),y.LFG(y.lqb),y.LFG($s),y.LFG(Nr))},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const ko=new y.OlP("");let Iu=(()=>{class _{constructor(m,T,P={}){this.router=m,this.viewportScroller=T,this.options=P,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},P.scrollPositionRestoration=P.scrollPositionRestoration||"disabled",P.anchorScrolling=P.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(m=>{m instanceof Ti?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=m.navigationTrigger,this.restoredId=m.restoredState?m.restoredState.navigationId:0):m instanceof Gr&&(this.lastId=m.id,this.scheduleScrollEvent(m,this.router.parseUrl(m.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(m=>{m instanceof Wo&&(m.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(m.position):m.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(m.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(m,T){this.router.triggerEvent(new Wo(m,"popstate"===this.lastSource?this.store[this.restoredId]:null,T))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return _.\u0275fac=function(m){y.$Z()},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac}),_})();function Ta(_,E){return{\u0275kind:_,\u0275providers:E}}function Mn(_){return[{provide:Yn,multi:!0,useValue:_}]}function Cs(){const _=(0,y.f3M)(y.zs3);return E=>{const m=_.get(y.z2F);if(E!==m.components[0])return;const T=_.get(si),P=_.get(Jr);1===_.get(Fa)&&T.initialNavigation(),_.get(oi,null,y.XFs.Optional)?.setUpPreloading(),_.get(ko,null,y.XFs.Optional)?.init(),T.resetRootComponentType(m.componentTypes[0]),P.next(),P.complete()}}const Jr=new y.OlP("",{factory:()=>new Re.x}),Fa=new y.OlP("",{providedIn:"root",factory:()=>1});const oi=new y.OlP("");function oc(_){return Ta(0,[{provide:oi,useExisting:oa},{provide:$s,useExisting:_}])}const ua=new y.OlP("ROUTER_FORROOT_GUARD"),su=[it.Ye,{provide:ve,useClass:Je},{provide:si,useFactory:vi},wn,{provide:qs,useFactory:function Zo(_){return _.routerState.root},deps:[si]},Nr];function La(){return new y.PXZ("Router",si)}let Ii=(()=>{class _{constructor(m){}static forRoot(m,T){return{ngModule:_,providers:[su,[],Mn(m),{provide:ua,useFactory:Va,deps:[[si,new y.FiY,new y.tp0]]},{provide:sn,useValue:T||{}},T?.useHash?{provide:it.S$,useClass:it.Do}:{provide:it.S$,useClass:it.b0},{provide:ko,useFactory:()=>{const _=(0,y.f3M)(si),E=(0,y.f3M)(it.EM),m=(0,y.f3M)(sn);return m.scrollOffset&&E.setOffset(m.scrollOffset),new Iu(_,E,m)}},T?.preloadingStrategy?oc(T.preloadingStrategy).\u0275providers:[],{provide:y.PXZ,multi:!0,useFactory:La},T?.initialNavigation?To(T):[],[{provide:Za,useFactory:Cs},{provide:y.tb,multi:!0,useExisting:Za}]]}}static forChild(m){return{ngModule:_,providers:[Mn(m)]}}}return _.\u0275fac=function(m){return new(m||_)(y.LFG(ua,8))},_.\u0275mod=y.oAB({type:_}),_.\u0275inj=y.cJS({imports:[io]}),_})();function Va(_){return"guarded"}function To(_){return["disabled"===_.initialNavigation?Ta(3,[{provide:y.ip1,multi:!0,useFactory:()=>{const E=(0,y.f3M)(si);return()=>{E.setUpLocationChangeListener()}}},{provide:Fa,useValue:2}]).\u0275providers:[],"enabledBlocking"===_.initialNavigation?Ta(2,[{provide:Fa,useValue:0},{provide:y.ip1,multi:!0,deps:[y.zs3],useFactory:E=>{const m=E.get(it.V_,Promise.resolve());let T=!1;return()=>m.then(()=>new Promise(z=>{const se=E.get(si),ue=E.get(Jr);(function P(z){E.get(si).events.pipe(Wt(ue=>ue instanceof Gr||ue instanceof ys||ue instanceof _i),(0,Xe.U)(ue=>ue instanceof Gr||ue instanceof ys&&(0===ue.code||1===ue.code)&&null),Wt(ue=>null!==ue),(0,an.q)(1)).subscribe(()=>{z()})})(()=>{z(!0),T=!0}),se.afterPreactivation=()=>(z(!0),T||ue.closed?me(void 0):ue),se.initialNavigation()}))}}]).\u0275providers:[]]}const Za=new y.OlP("")},9681:(yn,ct,Q)=>{Q.d(ct,{C6:()=>Sr,Jn:()=>fr,KN:()=>zn,Mq:()=>vr,Xd:()=>Dn,ZF:()=>ei,qX:()=>pn});var y=Q(5861),G=Q(4859),De=Q(1877),me=Q(2090),Re=Q(8766);class nt{constructor(Pe){this.container=Pe}getPlatformInfoString(){return this.container.getProviders().map(It=>{if(function We(gt){return"VERSION"===gt.getComponent()?.type}(It)){const st=It.getImmediate();return`${st.library}/${st.version}`}return null}).filter(It=>It).join(" ")}}const Ve="@firebase/app",oe=new De.Yd("@firebase/app"),tr="[DEFAULT]",Wt={[Ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},hn=new Map,$n=new Map;function Rn(gt,Pe){try{gt.container.addComponent(Pe)}catch(It){oe.debug(`Component ${Pe.name} failed to register with FirebaseApp ${gt.name}`,It)}}function Dn(gt){const Pe=gt.name;if($n.has(Pe))return oe.debug(`There were multiple attempts to register component ${Pe}.`),!1;$n.set(Pe,gt);for(const It of hn.values())Rn(It,gt);return!0}function pn(gt,Pe){const It=gt.container.getProvider("heartbeat").getImmediate({optional:!0});return It&&It.triggerHeartbeat(),gt.container.getProvider(Pe)}const nr=new me.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Rr{constructor(Pe,It,st){this._isDeleted=!1,this._options=Object.assign({},Pe),this._config=Object.assign({},It),this._name=It.name,this._automaticDataCollectionEnabled=It.automaticDataCollectionEnabled,this._container=st,this.container.addComponent(new G.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Pe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Pe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Pe){this._isDeleted=Pe}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}}const fr="9.12.1";function ei(gt,Pe={}){let It=gt;"object"!=typeof Pe&&(Pe={name:Pe});const st=Object.assign({name:tr,automaticDataCollectionEnabled:!1},Pe),Ct=st.name;if("string"!=typeof Ct||!Ct)throw nr.create("bad-app-name",{appName:String(Ct)});if(It||(It=(0,me.aH)()),!It)throw nr.create("no-options");const En=hn.get(Ct);if(En){if((0,me.vZ)(It,En.options)&&(0,me.vZ)(st,En.config))return En;throw nr.create("duplicate-app",{appName:Ct})}const le=new G.H0(Ct);for(const ve of $n.values())le.addComponent(ve);const ae=new Rr(It,st,le);return hn.set(Ct,ae),ae}function vr(gt=tr){const Pe=hn.get(gt);if(!Pe&&gt===tr)return ei();if(!Pe)throw nr.create("no-app",{appName:gt});return Pe}function Sr(){return Array.from(hn.values())}function zn(gt,Pe,It){var st;let Ct=null!==(st=Wt[gt])&&void 0!==st?st:gt;It&&(Ct+=`-${It}`);const En=Ct.match(/\s|\//),le=Pe.match(/\s|\//);if(En||le){const ae=[`Unable to register library "${Ct}" with version "${Pe}":`];return En&&ae.push(`library name "${Ct}" contains illegal characters (whitespace or "/")`),En&&le&&ae.push("and"),le&&ae.push(`version name "${Pe}" contains illegal characters (whitespace or "/")`),void oe.warn(ae.join(" "))}Dn(new G.wA(`${Ct}-version`,()=>({library:Ct,version:Pe}),"VERSION"))}const pr="firebase-heartbeat-store";let Dr=null;function Tt(){return Dr||(Dr=(0,Re.X3)("firebase-heartbeat-database",1,{upgrade:(gt,Pe)=>{0===Pe&&gt.createObjectStore(pr)}}).catch(gt=>{throw nr.create("idb-open",{originalErrorMessage:gt.message})})),Dr}function nn(){return(nn=(0,y.Z)(function*(gt){var Pe;try{return(yield Tt()).transaction(pr).objectStore(pr).get(Wn(gt))}catch(It){if(It instanceof me.ZR)oe.warn(It.message);else{const st=nr.create("idb-get",{originalErrorMessage:null===(Pe=It)||void 0===Pe?void 0:Pe.message});oe.warn(st.message)}}})).apply(this,arguments)}function un(gt,Pe){return ir.apply(this,arguments)}function ir(){return(ir=(0,y.Z)(function*(gt,Pe){var It;try{const Ct=(yield Tt()).transaction(pr,"readwrite");return yield Ct.objectStore(pr).put(Pe,Wn(gt)),Ct.done}catch(st){if(st instanceof me.ZR)oe.warn(st.message);else{const Ct=nr.create("idb-set",{originalErrorMessage:null===(It=st)||void 0===It?void 0:It.message});oe.warn(Ct.message)}}})).apply(this,arguments)}function Wn(gt){return`${gt.name}!${gt.options.appId}`}class fi{constructor(Pe){this.container=Pe,this._heartbeatsCache=null;const It=this.container.getProvider("app").getImmediate();this._storage=new rn(It),this._heartbeatsCachePromise=this._storage.read().then(st=>(this._heartbeatsCache=st,st))}triggerHeartbeat(){var Pe=this;return(0,y.Z)(function*(){const st=Pe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ct=Qn();if(null===Pe._heartbeatsCache&&(Pe._heartbeatsCache=yield Pe._heartbeatsCachePromise),Pe._heartbeatsCache.lastSentHeartbeatDate!==Ct&&!Pe._heartbeatsCache.heartbeats.some(En=>En.date===Ct))return Pe._heartbeatsCache.heartbeats.push({date:Ct,agent:st}),Pe._heartbeatsCache.heartbeats=Pe._heartbeatsCache.heartbeats.filter(En=>{const le=new Date(En.date).valueOf();return Date.now()-le<=2592e6}),Pe._storage.overwrite(Pe._heartbeatsCache)})()}getHeartbeatsHeader(){var Pe=this;return(0,y.Z)(function*(){if(null===Pe._heartbeatsCache&&(yield Pe._heartbeatsCachePromise),null===Pe._heartbeatsCache||0===Pe._heartbeatsCache.heartbeats.length)return"";const It=Qn(),{heartbeatsToSend:st,unsentEntries:Ct}=function ti(gt,Pe=1024){const It=[];let st=gt.slice();for(const Ct of gt){const En=It.find(le=>le.agent===Ct.agent);if(En){if(En.dates.push(Ct.date),Ri(It)>Pe){En.dates.pop();break}}else if(It.push({agent:Ct.agent,dates:[Ct.date]}),Ri(It)>Pe){It.pop();break}st=st.slice(1)}return{heartbeatsToSend:It,unsentEntries:st}}(Pe._heartbeatsCache.heartbeats),En=(0,me.L)(JSON.stringify({version:2,heartbeats:st}));return Pe._heartbeatsCache.lastSentHeartbeatDate=It,Ct.length>0?(Pe._heartbeatsCache.heartbeats=Ct,yield Pe._storage.overwrite(Pe._heartbeatsCache)):(Pe._heartbeatsCache.heartbeats=[],Pe._storage.overwrite(Pe._heartbeatsCache)),En})()}}function Qn(){return(new Date).toISOString().substring(0,10)}class rn{constructor(Pe){this.app=Pe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,me.hl)()&&(0,me.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Pe=this;return(0,y.Z)(function*(){return(yield Pe._canUseIndexedDBPromise)&&(yield function Vt(gt){return nn.apply(this,arguments)}(Pe.app))||{heartbeats:[]}})()}overwrite(Pe){var It=this;return(0,y.Z)(function*(){var st;if(yield It._canUseIndexedDBPromise){const En=yield It.read();return un(It.app,{lastSentHeartbeatDate:null!==(st=Pe.lastSentHeartbeatDate)&&void 0!==st?st:En.lastSentHeartbeatDate,heartbeats:Pe.heartbeats})}})()}add(Pe){var It=this;return(0,y.Z)(function*(){var st;if(yield It._canUseIndexedDBPromise){const En=yield It.read();return un(It.app,{lastSentHeartbeatDate:null!==(st=Pe.lastSentHeartbeatDate)&&void 0!==st?st:En.lastSentHeartbeatDate,heartbeats:[...En.heartbeats,...Pe.heartbeats]})}})()}}function Ri(gt){return(0,me.L)(JSON.stringify({version:2,heartbeats:gt})).length}!function ui(gt){Dn(new G.wA("platform-logger",Pe=>new nt(Pe),"PRIVATE")),Dn(new G.wA("heartbeat",Pe=>new fi(Pe),"PRIVATE")),zn(Ve,"0.8.2",gt),zn(Ve,"0.8.2","esm2017"),zn("fire-js","")}("")},4859:(yn,ct,Q)=>{Q.d(ct,{H0:()=>Ve,wA:()=>De});var y=Q(5861),G=Q(2090);class De{constructor(oe,pe,qe){this.name=oe,this.instanceFactory=pe,this.type=qe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(oe){return this.instantiationMode=oe,this}setMultipleInstances(oe){return this.multipleInstances=oe,this}setServiceProps(oe){return this.serviceProps=oe,this}setInstanceCreatedCallback(oe){return this.onInstanceCreated=oe,this}}const me="[DEFAULT]";class Re{constructor(oe,pe){this.name=oe,this.container=pe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(oe){const pe=this.normalizeInstanceIdentifier(oe);if(!this.instancesDeferred.has(pe)){const qe=new G.BH;if(this.instancesDeferred.set(pe,qe),this.isInitialized(pe)||this.shouldAutoInitialize())try{const lt=this.getOrInitializeService({instanceIdentifier:pe});lt&&qe.resolve(lt)}catch{}}return this.instancesDeferred.get(pe).promise}getImmediate(oe){var pe;const qe=this.normalizeInstanceIdentifier(oe?.identifier),lt=null!==(pe=oe?.optional)&&void 0!==pe&&pe;if(!this.isInitialized(qe)&&!this.shouldAutoInitialize()){if(lt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:qe})}catch(Ue){if(lt)return null;throw Ue}}getComponent(){return this.component}setComponent(oe){if(oe.name!==this.name)throw Error(`Mismatching Component ${oe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=oe,this.shouldAutoInitialize()){if(function We(tt){return"EAGER"===tt.instantiationMode}(oe))try{this.getOrInitializeService({instanceIdentifier:me})}catch{}for(const[pe,qe]of this.instancesDeferred.entries()){const lt=this.normalizeInstanceIdentifier(pe);try{const Ue=this.getOrInitializeService({instanceIdentifier:lt});qe.resolve(Ue)}catch{}}}}clearInstance(oe=me){this.instancesDeferred.delete(oe),this.instancesOptions.delete(oe),this.instances.delete(oe)}delete(){var oe=this;return(0,y.Z)(function*(){const pe=Array.from(oe.instances.values());yield Promise.all([...pe.filter(qe=>"INTERNAL"in qe).map(qe=>qe.INTERNAL.delete()),...pe.filter(qe=>"_delete"in qe).map(qe=>qe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(oe=me){return this.instances.has(oe)}getOptions(oe=me){return this.instancesOptions.get(oe)||{}}initialize(oe={}){const{options:pe={}}=oe,qe=this.normalizeInstanceIdentifier(oe.instanceIdentifier);if(this.isInitialized(qe))throw Error(`${this.name}(${qe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const lt=this.getOrInitializeService({instanceIdentifier:qe,options:pe});for(const[Ue,Et]of this.instancesDeferred.entries())qe===this.normalizeInstanceIdentifier(Ue)&&Et.resolve(lt);return lt}onInit(oe,pe){var qe;const lt=this.normalizeInstanceIdentifier(pe),Ue=null!==(qe=this.onInitCallbacks.get(lt))&&void 0!==qe?qe:new Set;Ue.add(oe),this.onInitCallbacks.set(lt,Ue);const Et=this.instances.get(lt);return Et&&oe(Et,lt),()=>{Ue.delete(oe)}}invokeOnInitCallbacks(oe,pe){const qe=this.onInitCallbacks.get(pe);if(qe)for(const lt of qe)try{lt(oe,pe)}catch{}}getOrInitializeService({instanceIdentifier:oe,options:pe={}}){let qe=this.instances.get(oe);if(!qe&&this.component&&(qe=this.component.instanceFactory(this.container,{instanceIdentifier:(tt=oe,tt===me?void 0:tt),options:pe}),this.instances.set(oe,qe),this.instancesOptions.set(oe,pe),this.invokeOnInitCallbacks(qe,oe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,oe,qe)}catch{}var tt;return qe||null}normalizeInstanceIdentifier(oe=me){return this.component?this.component.multipleInstances?oe:me:oe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ve{constructor(oe){this.name=oe,this.providers=new Map}addComponent(oe){const pe=this.getProvider(oe.name);if(pe.isComponentSet())throw new Error(`Component ${oe.name} has already been registered with ${this.name}`);pe.setComponent(oe)}addOrOverwriteComponent(oe){this.getProvider(oe.name).isComponentSet()&&this.providers.delete(oe.name),this.addComponent(oe)}getProvider(oe){if(this.providers.has(oe))return this.providers.get(oe);const pe=new Re(oe,this);return this.providers.set(oe,pe),pe}getProviders(){return Array.from(this.providers.values())}}},1877:(yn,ct,Q)=>{Q.d(ct,{Yd:()=>We,in:()=>G});const y=[];var G=(()=>{return(oe=G||(G={}))[oe.DEBUG=0]="DEBUG",oe[oe.VERBOSE=1]="VERBOSE",oe[oe.INFO=2]="INFO",oe[oe.WARN=3]="WARN",oe[oe.ERROR=4]="ERROR",oe[oe.SILENT=5]="SILENT",G;var oe})();const De={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},me=G.INFO,Re={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},nt=(oe,pe,...qe)=>{if(pe<oe.logLevel)return;const lt=(new Date).toISOString(),Ue=Re[pe];if(!Ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${pe})`);console[Ue](`[${lt}]  ${oe.name}:`,...qe)};class We{constructor(pe){this.name=pe,this._logLevel=me,this._logHandler=nt,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(pe){if(!(pe in G))throw new TypeError(`Invalid value "${pe}" assigned to \`logLevel\``);this._logLevel=pe}setLogLevel(pe){this._logLevel="string"==typeof pe?De[pe]:pe}get logHandler(){return this._logHandler}set logHandler(pe){if("function"!=typeof pe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=pe}get userLogHandler(){return this._userLogHandler}set userLogHandler(pe){this._userLogHandler=pe}debug(...pe){this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...pe),this._logHandler(this,G.DEBUG,...pe)}log(...pe){this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...pe),this._logHandler(this,G.VERBOSE,...pe)}info(...pe){this._userLogHandler&&this._userLogHandler(this,G.INFO,...pe),this._logHandler(this,G.INFO,...pe)}warn(...pe){this._userLogHandler&&this._userLogHandler(this,G.WARN,...pe),this._logHandler(this,G.WARN,...pe)}error(...pe){this._userLogHandler&&this._userLogHandler(this,G.ERROR,...pe),this._logHandler(this,G.ERROR,...pe)}}},8766:(yn,ct,Q)=>{Q.d(ct,{Lj:()=>Be,X3:()=>_t});var y=Q(5861);let De,me;const We=new WeakMap,Ve=new WeakMap,tt=new WeakMap,oe=new WeakMap,pe=new WeakMap;let Ue={get(Se,rt,ye){if(Se instanceof IDBTransaction){if("done"===rt)return Ve.get(Se);if("objectStoreNames"===rt)return Se.objectStoreNames||tt.get(Se);if("store"===rt)return ye.objectStoreNames[1]?void 0:ye.objectStore(ye.objectStoreNames[0])}return Ut(Se[rt])},set:(Se,rt,ye)=>(Se[rt]=ye,!0),has:(Se,rt)=>Se instanceof IDBTransaction&&("done"===rt||"store"===rt)||rt in Se};function Yt(Se){return"function"==typeof Se?function Nt(Se){return Se!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function nt(){return me||(me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Se)?function(...rt){return Se.apply(Ot(this),rt),Ut(We.get(this))}:function(...rt){return Ut(Se.apply(Ot(this),rt))}:function(rt,...ye){const be=Se.call(Ot(this),rt,...ye);return tt.set(be,rt.sort?rt.sort():[rt]),Ut(be)}}(Se):(Se instanceof IDBTransaction&&function lt(Se){if(Ve.has(Se))return;const rt=new Promise((ye,be)=>{const He=()=>{Se.removeEventListener("complete",Ne),Se.removeEventListener("error",it),Se.removeEventListener("abort",it)},Ne=()=>{ye(),He()},it=()=>{be(Se.error||new DOMException("AbortError","AbortError")),He()};Se.addEventListener("complete",Ne),Se.addEventListener("error",it),Se.addEventListener("abort",it)});Ve.set(Se,rt)}(Se),((Se,rt)=>rt.some(ye=>Se instanceof ye))(Se,function Re(){return De||(De=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Se,Ue):Se)}function Ut(Se){if(Se instanceof IDBRequest)return function qe(Se){const rt=new Promise((ye,be)=>{const He=()=>{Se.removeEventListener("success",Ne),Se.removeEventListener("error",it)},Ne=()=>{ye(Ut(Se.result)),He()},it=()=>{be(Se.error),He()};Se.addEventListener("success",Ne),Se.addEventListener("error",it)});return rt.then(ye=>{ye instanceof IDBCursor&&We.set(ye,Se)}).catch(()=>{}),pe.set(rt,Se),rt}(Se);if(oe.has(Se))return oe.get(Se);const rt=Yt(Se);return rt!==Se&&(oe.set(Se,rt),pe.set(rt,Se)),rt}const Ot=Se=>pe.get(Se);function _t(Se,rt,{blocked:ye,upgrade:be,blocking:He,terminated:Ne}={}){const it=indexedDB.open(Se,rt),Xe=Ut(it);return be&&it.addEventListener("upgradeneeded",Mt=>{be(Ut(it.result),Mt.oldVersion,Mt.newVersion,Ut(it.transaction))}),ye&&it.addEventListener("blocked",()=>ye()),Xe.then(Mt=>{Ne&&Mt.addEventListener("close",()=>Ne()),He&&Mt.addEventListener("versionchange",()=>He())}).catch(()=>{}),Xe}function Be(Se,{blocked:rt}={}){const ye=indexedDB.deleteDatabase(Se);return rt&&ye.addEventListener("blocked",()=>rt()),Ut(ye).then(()=>{})}const Te=["get","getKey","getAll","getAllKeys","count"],xe=["put","add","delete","clear"],Dt=new Map;function Ee(Se,rt){if(!(Se instanceof IDBDatabase)||rt in Se||"string"!=typeof rt)return;if(Dt.get(rt))return Dt.get(rt);const ye=rt.replace(/FromIndex$/,""),be=rt!==ye,He=xe.includes(ye);if(!(ye in(be?IDBIndex:IDBObjectStore).prototype)||!He&&!Te.includes(ye))return;const Ne=function(){var it=(0,y.Z)(function*(Xe,...Mt){const an=this.transaction(Xe,He?"readwrite":"readonly");let tr=an.store;return be&&(tr=tr.index(Mt.shift())),(yield Promise.all([tr[ye](...Mt),He&&an.done]))[0]});return function(Mt){return it.apply(this,arguments)}}();return Dt.set(rt,Ne),Ne}!function Et(Se){Ue=Se(Ue)}(Se=>({...Se,get:(rt,ye,be)=>Ee(rt,ye)||Se.get(rt,ye,be),has:(rt,ye)=>!!Ee(rt,ye)||Se.has(rt,ye)}))},5861:(yn,ct,Q)=>{function y(De,me,Re,nt,We,Ve,tt){try{var oe=De[Ve](tt),pe=oe.value}catch(qe){return void Re(qe)}oe.done?me(pe):Promise.resolve(pe).then(nt,We)}function G(De){return function(){var me=this,Re=arguments;return new Promise(function(nt,We){var Ve=De.apply(me,Re);function tt(pe){y(Ve,nt,We,tt,oe,"next",pe)}function oe(pe){y(Ve,nt,We,tt,oe,"throw",pe)}tt(void 0)})}}Q.d(ct,{Z:()=>G})}},yn=>{yn(yn.s=6009)}]);